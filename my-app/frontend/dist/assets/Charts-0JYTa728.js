import{d as wi,r as le,b as Ke,t as Ei,X as Si,I as He,o as ve,J as N,al as Be,v as ti,a as ee,R as H,L as je,O as ge,c as at,a6 as ii,Q as si,K as Ui,S as Ri,P as xt,az as Di}from"./vue-kqFMiSVm.js";import{H as Li,C as oi}from"./ChartSkeleton-BT74g9AP.js";import{E as Ye}from"./element-plus-CcUPQmts.js";import{_ as zi}from"./index-qCoNVqoY.js";import"./highcharts-DSb220Oi.js";var vt={exports:{}},Vi=vt.exports,ri;function Bi(){return ri||(ri=1,(function(Dt,Lt){(function(We,Te){Dt.exports=Te(We._Highcharts,We._Highcharts.Color)})(typeof window>"u"?Vi:window,(We,Te)=>(()=>{let Ue,te;var oe,p={620:t=>{t.exports=Te},944:t=>{t.exports=We}},ke={};function X(t){var e=ke[t];if(e!==void 0)return e.exports;var i=ke[t]={exports:{}};return p[t](i,i.exports,X),i.exports}X.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return X.d(e,{a:e}),e},X.d=(t,e)=>{for(var i in e)X.o(e,i)&&!X.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},X.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var B={};X.d(B,{default:()=>ki});var Ze=X(944),k=X.n(Ze);let ye=["area","areaspline","arearange","column","columnrange","bar","line","scatter","heatmap","bubble","treemap"],ne={};ye.forEach(t=>{ne[t]=!0});let{composed:E}=k(),{addEvent:_,pick:I,pushUnique:lt}=k();function Qe(t){let e=t.series,i=t.boost=t.boost||{},s=t.options.boost||{},o=I(s.seriesThreshold,50);if(e.length>=o)return!0;if(e.length===1)return!1;let h=s.allowForce;if(h===void 0){for(let r of(h=!0,t.xAxis))if(I(r.min,-1/0)>I(r.dataMin,-1/0)||I(r.max,1/0)<I(r.dataMax,1/0)){h=!1;break}}if(i.forceChartBoost!==void 0){if(h)return i.forceChartBoost;i.forceChartBoost=void 0}let d=0,u=0,g;for(let r of e)(g=r.options).boostThreshold!==0&&r.visible!==!1&&r.type!=="heatmap"&&(ne[r.type]&&++d,(function(...C){let c=-Number.MAX_VALUE;return C.forEach(L=>{if(L!=null&&L.length!==void 0&&L.length>0)return c=L.length,!0}),c})(r.getColumn("x",!0),g.data,r.points)>=(g.boostThreshold||Number.MAX_VALUE)&&++u);return i.forceChartBoost=h&&(d===e.length&&u===d||u>5),i.forceChartBoost}function yt(t){function e(){t.boost&&t.boost.wgl&&Qe(t)&&t.boost.wgl.render(t)}_(t,"predraw",function(){t.boost=t.boost||{},t.boost.forceChartBoost=void 0,t.boosted=!1,t.axes.some(o=>o.isPanning)||t.boost.clear?.(),t.boost.canvas&&t.boost.wgl&&Qe(t)&&t.boost.wgl.allocateBuffer(t),t.boost.markerGroup&&t.xAxis&&t.xAxis.length>0&&t.yAxis&&t.yAxis.length>0&&t.boost.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),_(t,"load",e,{order:-1}),_(t,"redraw",e);let i=-1,s=-1;_(t.pointer,"afterGetHoverData",o=>{let h=o.hoverPoint?.series;if(t.boost=t.boost||{},t.boost.markerGroup&&h){let d=t.inverted?h.yAxis:h.xAxis,u=t.inverted?h.xAxis:h.yAxis;(d&&d.pos!==i||u&&u.pos!==s)&&(t.series.forEach(g=>{g.halo?.hide()}),t.boost.markerGroup.translate(d.pos,u.pos),i=d.pos,s=u.pos)}})}let Je={compose:function(t,e){return e&&lt(E,"Boost.Chart")&&t.prototype.callbacks.push(yt),t},getBoostClipRect:function(t,e){let i=t.navigator,s={x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};if(i&&t.inverted?(s.width+=i.top+i.height,i.opposite||(s.x=i.left)):i&&!t.inverted&&(s.height=i.top+i.height-t.plotTop),e.is){let{xAxis:o,yAxis:h}=e;if(s=t.getClipBox(e),t.inverted){let d=s.width;s.width=s.height,s.height=d,s.x=h.pos,s.y=o.pos}else s.x=o.pos,s.y=h.pos}if(e===t){let o=t.inverted?t.xAxis:t.yAxis;o.length<=1&&(s.y=Math.min(o[0].pos,s.y),s.height=o[0].pos-t.plotTop+o[0].len)}return s},isChartSeriesBoosting:Qe};var nt=X(620),ut=X.n(nt);let bt={area:"LINES",arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"},{clamp:Ie,error:At,pick:ht}=k(),_t=class{constructor(t){this.errors=[],this.uLocations={},this.gl=t,t&&this.createShader()}bind(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)}createShader(){let t=this.stringToProgram(`#version 100
#define LN10 2.302585092994046
precision highp float;
attribute vec4 aVertexPosition;
attribute vec4 aColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform mat4 uPMatrix;
uniform float pSize;
uniform float translatedThreshold;
uniform bool hasThreshold;
uniform bool skipTranslation;
uniform float xAxisTrans;
uniform float xAxisMin;
uniform float xAxisMax;
uniform float xAxisMinPad;
uniform float xAxisPointRange;
uniform float xAxisLen;
uniform bool  xAxisPostTranslate;
uniform float xAxisOrdinalSlope;
uniform float xAxisOrdinalOffset;
uniform float xAxisPos;
uniform bool  xAxisCVSCoord;
uniform bool  xAxisIsLog;
uniform bool  xAxisReversed;
uniform float yAxisTrans;
uniform float yAxisMin;
uniform float yAxisMax;
uniform float yAxisMinPad;
uniform float yAxisPointRange;
uniform float yAxisLen;
uniform bool  yAxisPostTranslate;
uniform float yAxisOrdinalSlope;
uniform float yAxisOrdinalOffset;
uniform float yAxisPos;
uniform bool  yAxisCVSCoord;
uniform bool  yAxisIsLog;
uniform bool  yAxisReversed;
uniform bool  isCircle;
uniform bool  isBubble;
uniform bool  bubbleSizeByArea;
uniform float bubbleZMin;
uniform float bubbleZMax;
uniform float bubbleZThreshold;
uniform float bubbleMinSize;
uniform float bubbleMaxSize;
uniform bool  bubbleSizeAbs;
uniform bool  isInverted;
float bubbleRadius(){
float value = aVertexPosition.w;
float zMax = bubbleZMax;
float zMin = bubbleZMin;
float radius = 0.0;
float pos = 0.0;
float zRange = zMax - zMin;
if (bubbleSizeAbs){
value = value - bubbleZThreshold;
zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);
zMin = 0.0;
}
if (value < zMin){
radius = bubbleZMin / 2.0 - 1.0;
} else {
pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;
if (bubbleSizeByArea && pos > 0.0){
pos = sqrt(pos);
}
radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;
}
return radius * 2.0;
}
float translate(float val,
float pointPlacement,
float localA,
float localMin,
float minPixelPadding,
float pointRange,
float len,
bool  cvsCoord,
bool  isLog,
bool  reversed
){
float sign = 1.0;
float cvsOffset = 0.0;
if (cvsCoord) {
sign *= -1.0;
cvsOffset = len;
}
if (isLog) {
val = log(val) / LN10;
}
if (reversed) {
sign *= -1.0;
cvsOffset -= sign * len;
}
return sign * (val - localMin) * localA + cvsOffset + 
(sign * minPixelPadding);
}
float xToPixels(float value) {
if (skipTranslation){
return value;// + xAxisPos;
}
return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;
}
float yToPixels(float value, float checkTreshold) {
float v;
if (skipTranslation){
v = value;// + yAxisPos;
} else {
v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;
if (v > yAxisLen) {
v = yAxisLen;
}
}
if (checkTreshold > 0.0 && hasThreshold) {
v = min(v, translatedThreshold);
}
return v;
}
void main(void) {
if (isBubble){
gl_PointSize = bubbleRadius();
} else {
gl_PointSize = pSize;
}
vColor = aColor;
if (!skipTranslation && isCircle && (
aVertexPosition.x < xAxisMin ||
aVertexPosition.x > xAxisMax ||
aVertexPosition.y < yAxisMin ||
aVertexPosition.y > yAxisMax
)) {
gl_Position = uPMatrix * vec4(2.0, 2.0, 2.0, 1.0);
} else if (skipTranslation && isInverted) {
gl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);
} else if (isInverted) {
gl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);
} else {
gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);
}
}`,"vertex"),e=this.stringToProgram(`precision highp float;
uniform vec4 fillColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform sampler2D uSampler;
uniform bool isCircle;
uniform bool hasColor;
void main(void) {
vec4 col = fillColor;
vec4 tcol = texture2D(uSampler, gl_PointCoord.st);
if (hasColor) {
col = vColor;
}
if (isCircle) {
col *= tcol;
if (tcol.r < 0.0) {
discard;
} else {
gl_FragColor = col;
}
} else {
gl_FragColor = col;
}
}`,"fragment"),i=s=>this.gl.getUniformLocation(this.shaderProgram,s);return t&&e?(this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,t),this.gl.attachShader(this.shaderProgram,e),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)?(this.gl.useProgram(this.shaderProgram),this.gl.bindAttribLocation(this.shaderProgram,0,"aVertexPosition"),this.pUniform=i("uPMatrix"),this.psUniform=i("pSize"),this.fcUniform=i("fillColor"),this.isBubbleUniform=i("isBubble"),this.bubbleSizeAbsUniform=i("bubbleSizeAbs"),this.bubbleSizeAreaUniform=i("bubbleSizeByArea"),this.uSamplerUniform=i("uSampler"),this.skipTranslationUniform=i("skipTranslation"),this.isCircleUniform=i("isCircle"),this.isInverted=i("isInverted"),!0):(this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1,!1)):(this.shaderProgram=!1,this.handleErrors(),!1)}handleErrors(){this.errors.length&&At("[highcharts boost] shader error - "+this.errors.join(`
`))}stringToProgram(t,e){let i=this.gl.createShader(e==="vertex"?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.errors.push("when compiling "+e+` shader:
`+this.gl.getShaderInfoLog(i)),!1)}destroy(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)}fillColorUniform(){return this.fcUniform}getProgram(){return this.shaderProgram}pointSizeUniform(){return this.psUniform}perspectiveUniform(){return this.pUniform}reset(){this.gl&&this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))}setBubbleUniforms(t,e,i,s=1){let o=t.options,h=Number.MAX_VALUE,d=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&t.is("bubble")){let u=t.getPxExtremes();h=ht(o.zMin,Ie(e,o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE,h)),d=ht(o.zMax,Math.max(d,i)),this.gl.uniform1i(this.isBubbleUniform,1),this.gl.uniform1i(this.isCircleUniform,1),this.gl.uniform1i(this.bubbleSizeAreaUniform,t.options.sizeBy!=="width"),this.gl.uniform1i(this.bubbleSizeAbsUniform,t.options.sizeByAbsoluteValue),this.setUniform("bubbleMinSize",u.minPxSize*s),this.setUniform("bubbleMaxSize",u.maxPxSize*s),this.setUniform("bubbleZMin",h),this.setUniform("bubbleZMax",d),this.setUniform("bubbleZThreshold",t.options.zThreshold)}}setColor(t){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,t[0]/255,t[1]/255,t[2]/255,t[3])}setDrawAsCircle(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,+!!t)}setInverted(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,t)}setPMatrix(t){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,t)}setPointSize(t){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,t)}setSkipTranslation(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,+(t===!0))}setTexture(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,t)}setUniform(t,e){if(this.gl&&this.shaderProgram){let i=this.uLocations[t]=this.uLocations[t]||this.gl.getUniformLocation(this.shaderProgram,t);this.gl.uniform1f(i,e)}}},et=class{constructor(t,e,i){this.buffer=!1,this.iterator=0,this.preAllocated=!1,this.vertAttribute=!1,this.components=i||2,this.dataComponents=i,this.gl=t,this.shader=e}allocate(t){this.iterator=-1,this.preAllocated=new Float32Array(4*t)}bind(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,!1,0,0)}build(t,e,i){let s;return this.data=t||[],this.data&&this.data.length!==0||this.preAllocated?(this.components=i||this.components,this.buffer&&this.gl.deleteBuffer(this.buffer),this.preAllocated||(s=new Float32Array(this.data)),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||s,this.gl.STATIC_DRAW),this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),e),this.gl.enableVertexAttribArray(this.vertAttribute),s=!1,!0):(this.destroy(),!1)}destroy(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.buffer=!1,this.vertAttribute=!1),this.iterator=0,this.components=this.dataComponents||2,this.data=[]}push(t,e,i,s){this.preAllocated&&(this.preAllocated[++this.iterator]=t,this.preAllocated[++this.iterator]=e,this.preAllocated[++this.iterator]=i,this.preAllocated[++this.iterator]=s)}render(t,e,i){let s=this.preAllocated?this.preAllocated.length:this.data.length;return!!this.buffer&&!!s&&((!t||t>s||t<0)&&(t=0),(!e||e>s)&&(e=s),!(t>=e)&&(i=i||"POINTS",this.gl.drawArrays(this.gl[i],t/this.components,(e-t)/this.components),!0))}},{getBoostClipRect:Pt}=Je,{parse:be}=ut(),{doc:j,win:dt}=k(),{isNumber:b,isObject:n,merge:M,objectEach:v,pick:T}=k(),y={column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},Q={scatter:!0,bubble:!0},x=["webgl","experimental-webgl","moz-webgl","webkit-3d"];class a{static orthoMatrix(e,i){return[2/e,0,0,0,0,-(2/i),0,0,0,0,-2,0,-1,1,-1,1]}static seriesPointCount(e){let i,s,o;return e.boosted?(i=!!e.options.stacking,s=(e.getColumn("x").length?e.getColumn("x"):void 0)||e.options.xData||e.getColumn("x",!0),o=(i?e.data:s||e.options.data).length,e.type==="treemap"?o*=12:e.type==="heatmap"?o*=6:y[e.type]&&(o*=2),o):0}constructor(e){this.data=[],this.height=0,this.isInited=!1,this.markerData=[],this.series=[],this.textureHandles={},this.width=0,this.postRenderCallback=e,this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}}}getPixelRatio(){return this.settings.pixelRatio||dt.devicePixelRatio||1}setOptions(e){"pixelRatio"in e||(e.pixelRatio=1),M(!0,this.settings,e)}allocateBuffer(e){let i=this.vbuffer,s=0;this.settings.usePreallocated&&(e.series.forEach(o=>{o.boosted&&(s+=a.seriesPointCount(o))}),i&&i.allocate(s))}allocateBufferForSingleSeries(e){let i=this.vbuffer,s=0;this.settings.usePreallocated&&(e.boosted&&(s=a.seriesPointCount(e)),i&&i.allocate(s))}clear(){let e=this.gl;e&&e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}pushSeriesData(e,i){let s=this.data,o=this.settings,h=this.vbuffer,d=e.pointArrayMap&&e.pointArrayMap.join(",")==="low,high",{chart:u,options:g,sorted:r,xAxis:C,yAxis:c}=e,L=!!g.stacking,V=g.data,Y=e.xAxis.getExtremes(),W=Y.min-(e.xAxis.minPointOffset||0),q=Y.max+(e.xAxis.minPointOffset||0),ue=e.yAxis.getExtremes(),he=ue.min-(e.yAxis.minPointOffset||0),$=ue.max+(e.yAxis.minPointOffset||0),ce=(e.getColumn("x").length?e.getColumn("x"):void 0)||g.xData||e.getColumn("x",!0),F=(e.getColumn("y").length?e.getColumn("y"):void 0)||g.yData||e.getColumn("y",!0),K=(e.getColumn("z").length?e.getColumn("z"):void 0)||g.zData||e.getColumn("z",!0),de=!ce||ce.length===0,fe=e.options.colorByPoint,me=g.connectNulls,ie=e.points||!1,G=L?e.data:ce||V,_e={x:Number.MAX_VALUE,y:0},Oe={x:-Number.MAX_VALUE,y:0},ot=u.index===void 0,Xe=y[e.type],rt=g.zoneAxis||"y",we=g.zones||!1,qe=g.threshold,Ee=this.getPixelRatio(),Se=e.chart.plotWidth,Pe=!1,Ge=!1,Ce,Le,z=0,re=!1,S,U,R,ae,D=-1,pe=!1,xe=!1,ze,Tt=!1,kt=!1,J,wt=!1,Et=!0,Qt=!0,$e,Ve=!1,St=!1,ft=0,Ut=0;if(g.boostData&&g.boostData.length>0)return;g.gapSize&&(St=g.gapUnit!=="value"?g.gapSize*e.closestPointRange:g.gapSize),we&&($e=[],we.forEach((A,w)=>{if(A.color){let O=be(A.color).rgba;O[0]/=255,O[1]/=255,O[2]/=255,$e[w]=O,Ve||A.value!==void 0||(Ve=O)}}),Ve||(Ve=be(e.pointAttribs&&e.pointAttribs().fill||e.color).rgba,Ve[0]/=255,Ve[1]/=255,Ve[2]/=255)),u.inverted&&(Se=e.chart.plotHeight),e.closestPointRangePx=Number.MAX_VALUE;let Fe=A=>{A&&(i.colorData.push(A[0]),i.colorData.push(A[1]),i.colorData.push(A[2]),i.colorData.push(A[3]))},Me=(A,w,O,se=1,Z)=>{Fe(Z),Ee!==1&&(!o.useGPUTranslations||i.skipTranslation)&&(A*=Ee,w*=Ee,se*=Ee),o.usePreallocated&&h?(h.push(A,w,+!!O,se),ft+=4):(s.push(A),s.push(w),s.push(O?Ee:0),s.push(se))},Rt=()=>{i.segments.length&&(i.segments[i.segments.length-1].to=s.length||ft)},gt=()=>{i.segments.length&&i.segments[i.segments.length-1].from===(s.length||ft)||(Rt(),i.segments.push({from:s.length||ft}))},Jt=(A,w,O,se,Z)=>{Fe(Z),Me(A+O,w),Fe(Z),Me(A,w),Fe(Z),Me(A,w+se),Fe(Z),Me(A,w+se),Fe(Z),Me(A+O,w+se),Fe(Z),Me(A+O,w)};if(gt(),ie&&ie.length>0){i.skipTranslation=!0,i.drawMode="TRIANGLES",ie[0].node&&ie[0].node.levelDynamic&&ie.sort((A,w)=>{if(A.node){if(A.node.levelDynamic>w.node.levelDynamic)return 1;if(A.node.levelDynamic<w.node.levelDynamic)return-1}return 0}),ie.forEach(A=>{let w,O,se=A.plotY;if(se!==void 0&&!isNaN(se)&&A.y!==null&&A.shapeArgs){let{x:Z=0,y:ct=0,width:mt=0,height:pt=0}=A.shapeArgs;w=(O=u.styledMode?A.series.colorAttribs(A):O=A.series.pointAttribs(A))["stroke-width"]||0,J=be(O.fill).rgba,J[0]/=255,J[1]/=255,J[2]/=255,e.is("treemap")&&(w=w||1,Le=be(O.stroke).rgba,Le[0]/=255,Le[1]/=255,Le[2]/=255,Jt(Z,ct,mt,pt,Le),w/=2),e.is("heatmap")&&u.inverted&&(Z=C.len-Z,ct=c.len-ct,mt=-mt,pt=-pt),Jt(Z+w,ct+w,mt-2*w,pt-2*w,J)}}),Rt();return}for(;D<G.length-1;){if((R=G[++D])===void 0)continue;if(ot)break;let A=V&&V[D];if(!de){n(A,!0)&&A.color&&(J=be(A.color).rgba);let w=e.options.keys?.indexOf("color");Array.isArray(A)&&w&&typeof A[w]=="string"?J=be(A[w]).rgba:fe&&u.options.colors&&(Ut%=u.options.colors.length,J=be(u.options.colors[Ut]).rgba),J&&(J[0]/=255,J[1]/=255,J[2]/=255),Ut++}if(de?(S=R[0],U=R[1],G[D+1]&&(xe=G[D+1][0]),G[D-1]&&(pe=G[D-1][0]),R.length>=3&&(ae=R[2],R[2]>i.zMax&&(i.zMax=R[2]),R[2]<i.zMin&&(i.zMin=R[2]))):(S=R,U=F?.[D],G[D+1]&&(xe=G[D+1]),G[D-1]&&(pe=G[D-1]),K&&K.length&&(ae=K[D],K[D]>i.zMax&&(i.zMax=K[D]),K[D]<i.zMin&&(i.zMin=K[D]))),!me&&(S===null||U===null)){gt();continue}if(xe&&xe>=W&&xe<=q&&(Tt=!0),pe&&pe>=W&&pe<=q&&(kt=!0),d?(de&&(U=R.slice(1,3)),ze=e.getColumn("low",!0)?.[D],U=e.getColumn("high",!0)?.[D]||0):L&&(S=R.x,ze=(U=R.stackY)-R.y),he!=null&&$!=null&&(Et=U>=he&&U<=$),!(!r&&!Et||(S>q&&Oe.x<q&&(Oe.x=S,Oe.y=U),S<W&&_e.x>W&&(_e.x=S,_e.y=U),U===null&&me))){if(U===null||!Et&&G.length>1&&!Tt&&!kt){gt();continue}if((r&&(xe>=W||S>=W)&&(pe<=q||S<=q)||!r&&S>=W&&S<=q)&&(wt=!0),wt||Tt||kt){if(St&&S-pe>St&&gt(),we){let w;we.some((O,se)=>{let Z=we[se-1];return rt==="x"?O.value!==void 0&&S<=O.value&&($e[se]&&(!Z||S>=Z.value)&&(w=$e[se]),!0):O.value!==void 0&&U<=O.value&&($e[se]&&(!Z||U>=Z.value)&&(w=$e[se]),!0)}),J=w||Ve||J}if(o.useGPUTranslations||(i.skipTranslation=!0,S=C.toPixels(S,!0),U=c.toPixels(U,!0),!(S>Se)||i.drawMode!=="POINTS")){if(i.hasMarkers&&wt&&Pe!==!1&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(S-Pe))),!o.useGPUTranslations&&!o.usePreallocated&&Pe&&1>Math.abs(S-Pe)&&Ge&&1>Math.abs(U-Ge)){o.debug.showSkipSummary&&++z;continue}Xe&&(Ce=ze||0,(ze===!1||ze===void 0)&&(Ce=U<0?U:0),(d||L)&&!c.logarithmic||(Ce=Math.max(qe===null?he:qe,he)),o.useGPUTranslations||(Ce=c.toPixels(Ce,!0)),Me(S,Ce,!1,0,J)),g.step&&!Qt&&Me(S,Ge,!1,2,J),Me(S,U,!1,e.type==="bubble"?ae||1:2,J),Pe=S,Ge=U,re=!0,Qt=!1}}}}o.debug.showSkipSummary&&console.log("skipped points:",z);let ei=(A,w)=>{if(o.useGPUTranslations||(i.skipTranslation=!0,A.x=C.toPixels(A.x,!0),A.y=c.toPixels(A.y,!0)),w){this.data=[A.x,A.y,0,2].concat(this.data);return}Me(A.x,A.y,0,2)};!re&&me!==!1&&e.drawMode==="line_strip"&&(_e.x<Number.MAX_VALUE&&ei(_e,!0),Oe.x>-Number.MAX_VALUE&&ei(Oe)),Rt()}pushSeries(e){let i=this.markerData,s=this.series,o=this.settings;s.length>0&&s[s.length-1].hasMarkers&&(s[s.length-1].markerTo=i.length),o.debug.timeSeriesProcessing&&console.time("building "+e.type+" series");let h={segments:[],markerFrom:i.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!e.options.marker&&e.options.marker.enabled!==!1,showMarkers:!0,drawMode:bt[e.type]||"LINE_STRIP"};e.index>=s.length?s.push(h):s[e.index]=h,this.pushSeriesData(e,h),o.debug.timeSeriesProcessing&&console.timeEnd("building "+e.type+" series")}flush(){let e=this.vbuffer;this.data=[],this.markerData=[],this.series=[],e&&e.destroy()}setXAxis(e){let i=this.shader;if(!i)return;let s=this.getPixelRatio();i.setUniform("xAxisTrans",e.transA*s),i.setUniform("xAxisMin",e.min),i.setUniform("xAxisMax",e.max),i.setUniform("xAxisMinPad",e.minPixelPadding*s),i.setUniform("xAxisPointRange",e.pointRange),i.setUniform("xAxisLen",e.len*s),i.setUniform("xAxisPos",e.pos*s),i.setUniform("xAxisCVSCoord",!e.horiz),i.setUniform("xAxisIsLog",!!e.logarithmic),i.setUniform("xAxisReversed",!!e.reversed)}setYAxis(e){let i=this.shader;if(!i)return;let s=this.getPixelRatio();i.setUniform("yAxisTrans",e.transA*s),i.setUniform("yAxisMin",e.min),i.setUniform("yAxisMax",e.max),i.setUniform("yAxisMinPad",e.minPixelPadding*s),i.setUniform("yAxisPointRange",e.pointRange),i.setUniform("yAxisLen",e.len*s),i.setUniform("yAxisPos",e.pos*s),i.setUniform("yAxisCVSCoord",!e.horiz),i.setUniform("yAxisIsLog",!!e.logarithmic),i.setUniform("yAxisReversed",!!e.reversed)}setThreshold(e,i){let s=this.shader;s&&(s.setUniform("hasThreshold",e),s.setUniform("translatedThreshold",i))}renderChart(e){let i=this.gl,s=this.settings,o=this.shader,h=this.vbuffer,d=this.getPixelRatio();if(!e)return!1;this.width=e.chartWidth*d,this.height=e.chartHeight*d;let u=this.height,g=this.width;if(!i||!o||!g||!u)return!1;s.debug.timeRendering&&console.time("gl rendering"),i.canvas.width=g,i.canvas.height=u,o.bind(),i.viewport(0,0,g,u),o.setPMatrix(a.orthoMatrix(g,u)),s.lineWidth>1&&!k().isMS&&i.lineWidth(s.lineWidth),h&&(h.build(this.data,"aVertexPosition",4),h.bind()),o.setInverted(e.inverted),this.series.forEach((r,C)=>{let c=r.series.options,L=c.marker,V=c.lineWidth!==void 0?c.lineWidth:1,Y=c.threshold,W=b(Y),q=r.series.yAxis.getThreshold(Y),ue=T(c.marker?c.marker.enabled:null,!!r.series.xAxis.isRadial||null,r.series.closestPointRangePx>2*((c.marker?c.marker.radius:10)||10)),he=this.textureHandles[L&&L.symbol||r.series.symbol]||this.textureHandles.circle,$,ce,F,K=[];if(r.segments.length!==0&&r.segments[0].from!==r.segments[0].to&&(he.isReady&&(i.bindTexture(i.TEXTURE_2D,he.handle),o.setTexture(he.handle)),e.styledMode?r.series.markerGroup===r.series.chart.boost?.markerGroup?(delete r.series.markerGroup,r.series.markerGroup=r.series.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"),F=r.series.markerGroup.getStyle("fill"),r.series.markerGroup.destroy(),r.series.markerGroup=r.series.chart.boost?.markerGroup):F=r.series.markerGroup?.getStyle("fill"):(F=r.drawMode==="POINTS"&&r.series.pointAttribs&&r.series.pointAttribs().fill||r.series.color,c.colorByPoint&&(F=r.series.chart.options.colors[C])),r.series.fillOpacity&&c.fillOpacity&&(F=new(ut())(F).setOpacity(T(c.fillOpacity,1)).get()),K=be(F).rgba,s.useAlpha||(K[3]=1),c.boostBlending==="add"?(i.blendFunc(i.SRC_ALPHA,i.ONE),i.blendEquation(i.FUNC_ADD)):c.boostBlending==="mult"||c.boostBlending==="multiply"?i.blendFunc(i.DST_COLOR,i.ZERO):c.boostBlending==="darken"?(i.blendFunc(i.ONE,i.ONE),i.blendEquation(i.FUNC_MIN)):i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),o.reset(),r.colorData.length>0?(o.setUniform("hasColor",1),(ce=new et(i,o)).build(Array(r.segments[0].from).concat(r.colorData),"aColor",4),ce.bind()):(o.setUniform("hasColor",0),i.disableVertexAttribArray(i.getAttribLocation(o.getProgram(),"aColor"))),o.setColor(K),this.setXAxis(r.series.xAxis),this.setYAxis(r.series.yAxis),this.setThreshold(W,q),r.drawMode==="POINTS"&&o.setPointSize(2*T(c.marker&&c.marker.radius,.5)*d),o.setSkipTranslation(r.skipTranslation),r.series.type==="bubble"&&o.setBubbleUniforms(r.series,r.zMin,r.zMax,d),o.setDrawAsCircle(Q[r.series.type]||!1),h)){if(V>0||r.drawMode!=="LINE_STRIP"){let{x:de,y:fe,width:me,height:ie}=Pt(e,r.series);for(i.enable(i.SCISSOR_TEST),i.scissor(de,u-fe-ie,me,ie),$=0;$<r.segments.length;$++)h.render(r.segments[$].from,r.segments[$].to,r.drawMode);i.disable(i.SCISSOR_TEST)}if(r.hasMarkers&&ue)for(o.setPointSize(2*T(c.marker&&c.marker.radius,5)*d),o.setDrawAsCircle(!0),$=0;$<r.segments.length;$++)h.render(r.segments[$].from,r.segments[$].to,"POINTS")}}),s.debug.timeRendering&&console.timeEnd("gl rendering"),this.postRenderCallback&&this.postRenderCallback(this),this.flush()}render(e){if(this.clear(),e.renderer.forExport)return this.renderChart(e);this.isInited?this.renderChart(e):setTimeout(()=>{this.render(e)},1)}setSize(e,i){let s=this.shader;s&&(this.width!==e||this.height!==i)&&(this.width=e,this.height=i,s.bind(),s.setPMatrix(a.orthoMatrix(e,i)))}init(e,i){let s=this.settings;if(this.isInited=!1,!e)return!1;s.debug.timeSetup&&console.time("gl setup");for(let u=0;u<x.length&&(this.gl=e.getContext(x[u],{}),!this.gl);++u);let o=this.gl;if(!o)return!1;i||this.flush(),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS);let h=this.shader=new _t(o);if(!h)return!1;this.vbuffer=new et(o,h);let d=(u,g)=>{let r={isReady:!1,texture:j.createElement("canvas"),handle:o.createTexture()},C=r.texture.getContext("2d");this.textureHandles[u]=r,r.texture.width=512,r.texture.height=512,C.mozImageSmoothingEnabled=!1,C.webkitImageSmoothingEnabled=!1,C.msImageSmoothingEnabled=!1,C.imageSmoothingEnabled=!1,C.strokeStyle="rgba(255, 255, 255, 0)",C.fillStyle="#FFF",g(C);try{o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.handle),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.bindTexture(o.TEXTURE_2D,null),r.isReady=!0}catch{}};return d("circle",u=>{u.beginPath(),u.arc(256,256,256,0,2*Math.PI),u.stroke(),u.fill()}),d("square",u=>{u.fillRect(0,0,512,512)}),d("diamond",u=>{u.beginPath(),u.moveTo(256,0),u.lineTo(512,256),u.lineTo(256,512),u.lineTo(0,256),u.lineTo(256,0),u.fill()}),d("triangle",u=>{u.beginPath(),u.moveTo(0,512),u.lineTo(256,0),u.lineTo(512,512),u.lineTo(0,512),u.fill()}),d("triangle-down",u=>{u.beginPath(),u.moveTo(0,0),u.lineTo(256,512),u.lineTo(512,0),u.lineTo(0,0),u.fill()}),this.isInited=!0,s.debug.timeSetup&&console.timeEnd("gl setup"),!0}destroy(){let e=this.gl,i=this.shader,s=this.vbuffer;this.flush(),s&&s.destroy(),i&&i.destroy(),e&&(v(this.textureHandles,o=>{o.handle&&e.deleteTexture(o.handle)}),e.canvas.width=1,e.canvas.height=1)}}(function(t){t.setLength=function(e,i,s){return Array.isArray(e)?(e.length=i,e):e[s?"subarray":"slice"](0,i)},t.splice=function(e,i,s,o,h=[]){if(Array.isArray(e))return Array.isArray(h)||(h=Array.from(h)),{removed:e.splice(i,s,...h),array:e};let d=Object.getPrototypeOf(e).constructor,u=e[o?"subarray":"slice"](i,i+s),g=new d(e.length-s+h.length);return g.set(e.subarray(0,i),0),g.set(h,i),g.set(e.subarray(i+s),i+h.length),{removed:u,array:g}}})(oe||(oe={}));let{setLength:m,splice:l}=oe,{fireEvent:f,objectEach:P,uniqueKey:Re}=k(),ai=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||Re(),this.modified=this,this.rowCount=0,this.versionTag=Re();let e=0;P(t.columns||{},(i,s)=>{this.columns[s]=i.slice(),e=Math.max(e,i.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,P(this.columns,(e,i)=>{e.length!==t&&(this.columns[i]=m(e,t))})}deleteRows(t,e=1){if(e>0&&t<this.rowCount){let i=0;P(this.columns,(s,o)=>{this.columns[o]=l(s,t,e).array,i=s.length}),this.rowCount=i}f(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=Re()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((i,s)=>(i[s]=this.columns[s],i),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(i=>this.columns[i]?.[t])}setColumn(t,e=[],i=0,s){this.setColumns({[t]:e},i,s)}setColumns(t,e,i){let s=this.rowCount;P(t,(o,h)=>{this.columns[h]=o.slice(),s=o.length}),this.applyRowCount(s),i?.silent||(f(this,"afterSetColumns"),this.versionTag=Re())}setRow(t,e=this.rowCount,i,s){let{columns:o}=this,h=i?this.rowCount+1:e+1;P(t,(d,u)=>{let g=o[u]||s?.addColumns!==!1&&Array(h);g&&(i?g=l(g,e,0,!0,[d]).array:g[e]=d,o[u]=g)}),h>this.rowCount&&this.applyRowCount(h),s?.silent||(f(this,"afterSetRows"),this.versionTag=Re())}},{getBoostClipRect:li,isChartSeriesBoosting:tt}=Je,{getOptions:ni}=k(),{composed:ui,doc:zt,noop:Vt,win:Bt}=k(),{addEvent:It,destroyObjectProperties:hi,error:Nt,extend:Ct,fireEvent:Ot,isArray:Xt,isNumber:Ae,pick:it,pushUnique:di,wrap:De,defined:fi}=k();function Gt(t,e){let i=e.boost;t&&i&&i.target&&i.canvas&&!tt(e.chart)&&t.allocateBufferForSingleSeries(e)}function Ft(t){return it(t&&t.options&&t.options.boost&&t.options.boost.enabled,!0)}function Ht(t,e){let i=t.constructor,s=t.seriesGroup||e.group,o=t.chartWidth,h=t.chartHeight,d=t,u=typeof SVGForeignObjectElement<"u",g=!1;tt(t)?d=t:(d=e,g=!!(e.options.events?.click||e.options.point?.events?.click));let r=d.boost=d.boost||{};if(u=!1,te||(te=zt.createElement("canvas")),!r.target&&(r.canvas=te,t.renderer.forExport||!u?(d.renderTarget=r.target=t.renderer.image("",0,0,o,h).addClass("highcharts-boost-canvas").add(s),r.clear=function(){r.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},r.copy=function(){r.resize(),r.target.attr({href:r.canvas.toDataURL("image/png")})}):(r.targetFo=t.renderer.createElement("foreignObject").add(s),d.renderTarget=r.target=zt.createElement("canvas"),r.targetCtx=r.target.getContext("2d"),r.targetFo.element.appendChild(r.target),r.clear=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height},r.copy=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height,r.targetCtx.drawImage(r.canvas,0,0)}),r.resize=function(){o=t.chartWidth,h=t.chartHeight,(r.targetFo||r.target).attr({x:0,y:0,width:o,height:h}).css({pointerEvents:g?void 0:"none",mixedBlendMode:"normal",opacity:1}).addClass(g?"highcharts-tracker":""),d instanceof i&&d.boost?.markerGroup?.translate(t.plotLeft,t.plotTop)},r.clipRect=t.renderer.clipRect(),(r.targetFo||r.target).attr({zIndex:e.options.zIndex}),d instanceof i&&(d.boost.markerGroup=d.renderer.g().add(s).translate(e.xAxis.pos,e.yAxis.pos))),r.canvas.width=o,r.canvas.height=h,r.clipRect){let C=li(t,d);r.clipRect.attr(C),C.width===t.clipBox.width&&C.height===t.clipBox.height?s?.clip(t.renderer.clipRect(C.x-4,C.y,C.width+4,C.height+4)):(r.targetFo||r.target).clip(r.clipRect)}return r.resize(),r.clear(),!r.wgl&&(r.wgl=new a(C=>{C.settings.debug.timeBufferCopy&&console.time("buffer copy"),r.copy(),C.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),r.wgl.init(r.canvas)||Nt("[highcharts boost] - unable to init WebGL renderer"),r.wgl.setOptions(t.options.boost||{}),d instanceof i&&r.wgl.allocateBuffer(t)),r.wgl.setSize(o,h),r.wgl}function jt(t){let e=t.points;if(e){let i,s;for(s=0;s<e.length;s+=1)(i=e[s])&&i.destroyElements&&i.destroyElements()}for(let i of(["graph","area","tracker"].forEach(s=>{let o=t[s];o&&(t[s]=o.destroy())}),t.zones))hi(i,void 0,!0)}function st(t,e,i,s,o,h){let d=(o=o||0)+(s=s||3e3),u=!0;for(;u&&o<d&&o<t.length;)u=e(t[o],o),++o;u&&(o<t.length?h?st(t,e,i,s,o,h):Bt.requestAnimationFrame?Bt.requestAnimationFrame(function(){st(t,e,i,s,o)}):setTimeout(st,0,t,e,i,s,o):i&&i())}function Yt(t,e){let i=t.options,s=t.dataTable.modified.rowCount,o=t.xAxis&&t.xAxis.options,h=t.yAxis&&t.yAxis.options,d=t.colorAxis&&t.colorAxis.options;return s>it(i.boostThreshold,Number.MAX_VALUE)&&Ae(h.min)&&Ae(h.max)&&(!e||Ae(o.min)&&Ae(o.max))&&(!d||Ae(d.min)&&Ae(d.max))}let Mt=(t,e)=>!t.forceCrop&&(tt(t.chart)||(e?e.length:0)>=it(t.options.boostThreshold,Number.MAX_VALUE));function gi(){let t=this,e=t.chart;e.boost&&e.boost.markerGroup===t.markerGroup&&(t.markerGroup=void 0),e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(i){return i.series===t})),e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=void 0)}function ci(){let t=this.boost;t&&t.canvas&&t.target&&(t.wgl&&t.wgl.clear(),t.clear&&t.clear())}function Wt(t){let e=t.boost;e&&e.canvas&&e.target&&e.wgl&&!tt(t.chart)&&e.wgl.render(t.chart)}function qt(t,e){let i=t.options,s=t.xAxis,o=t.pointClass;if(e instanceof o)return e;let h=i.data,d=t.is("scatter"),u=(d&&t.getColumn("x",!0).length?t.getColumn("x",!0):void 0)||(t.getColumn("x").length?t.getColumn("x"):void 0)||i.xData||t.getColumn("x",!0)||!1,g=t.getColumn("y",!0)||i.yData||!1,r=e.i,C=h?.[r]?.color,c=new o(t,d&&u&&g?[u[r],g[r]]:(Xt(h)?h:[])[r],u?u[r]:void 0);if(d&&i?.keys?.length){let L=i.keys;for(let V=L.length-1;V>-1;V--)c[L[V]]=h[r][V]}return c.category=it(s.categories?s.categories[c.x]:c.x,c.x),c.key=c.name??c.category,c.dist=e.dist,c.distX=e.distX,c.plotX=e.plotX,c.plotY=e.plotY,c.index=r,c.percentage=e.percentage,c.isInside=t.isPointInside(c),C&&(c.color=C),c}function mi(t){let{options:e,xAxis:i,yAxis:s}=this;if(!this.isDirty&&!i.isDirty&&!s.isDirty&&!t)return!1;this.yAxis.setTickInterval();let o=e.boostThreshold||0,h=e.cropThreshold,d=this.getColumn("x"),u=i.getExtremes(),g=u.max??Number.MAX_VALUE,r=u.min??-Number.MAX_VALUE,C=this.getColumn("y"),c=s.getExtremes(),L=c.max??Number.MAX_VALUE,V=c.min??-Number.MAX_VALUE;if(!this.boosted&&i.old&&s.old&&r>=(i.old.min??-Number.MAX_VALUE)&&g<=(i.old.max??Number.MAX_VALUE)&&V>=(s.old.min??-Number.MAX_VALUE)&&L<=(s.old.max??Number.MAX_VALUE))return this.dataTable.modified.setColumns({x:d,y:C}),!0;let Y=this.dataTable.rowCount;if(!o||Y<o||h&&!this.forceCrop&&!this.getExtremesFromAll&&!e.getExtremesFromAll&&Y<h)return this.dataTable.modified.setColumns({x:d,y:C}),!0;let W=[],q=[],ue=[],he=!(Ae(u.max)||Ae(u.min)),$=!(Ae(c.max)||Ae(c.min)),ce=!1,F,K=d[0],de=d[0],fe,me=C?.[0],ie=C?.[0];for(let G=0,_e=d.length;G<_e;++G)F=d[G],fe=C?.[G],F>=r&&F<=g&&fe>=V&&fe<=L?(W.push({x:F,y:fe}),q.push(F),ue.push(fe),he&&(K=Math.max(K,F),de=Math.min(de,F)),$&&(me=Math.max(me,fe),ie=Math.min(ie,fe))):ce=!0;return he&&(i.dataMax=Math.max(K,i.dataMax||0),i.dataMin=Math.min(de,i.dataMin||0)),$&&(s.dataMax=Math.max(me,s.dataMax||0),s.dataMin=Math.min(ie,s.dataMin||0)),this.cropped=ce,this.cropStart=0,ce&&this.dataTable.modified===this.dataTable&&(this.dataTable.modified=new ai),this.dataTable.modified.setColumns({x:q,y:ue}),Mt(this,q)||(this.processedData=W),!0}function pi(){let t=this.options||{},e=this.chart,i=e.boost,s=this.boost,o=this.xAxis,h=this.yAxis,d=t.xData||this.getColumn("x",!0),u=t.yData||this.getColumn("y",!0),g=this.getColumn("low",!0),r=this.getColumn("high",!0),C=this.processedData||t.data,c=o.getExtremes(),L=c.min-(o.minPointOffset||0),V=c.max+(o.minPointOffset||0),Y=h.getExtremes(),W=Y.min-(h.minPointOffset||0),q=Y.max+(h.minPointOffset||0),ue={},he=!!this.sampling,$=t.enableMouseTracking,ce=t.threshold,F=this.pointArrayMap&&this.pointArrayMap.join(",")==="low,high",K=!!t.stacking,de=this.cropStart||0,fe=this.requireSorting,me=!d,ie=t.findNearestPointBy==="x",G=(this.getColumn("x").length?this.getColumn("x"):void 0)||this.options.xData||this.getColumn("x",!0),_e=it(t.lineWidth,1),Oe=t.nullInteraction&&W,ot=e.tooltip,Xe=!1,rt,we=h.getThreshold(ce),qe,Ee,Se,Pe;if(!this.boosted||(this.points?.forEach(z=>{z?.destroyElements?.()}),this.points=[],ot&&!ot.isHidden?(e.hoverPoint?.series===this||e.hoverPoints?.some(z=>z.series===this))&&(e.hoverPoint=e.hoverPoints=void 0,ot.hide(0)):e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(z=>z.series!==this)),o.isPanning||h.isPanning)||(Xe=Ht(e,this),e.boosted=!0,!this.visible))return;(this.points||this.graph)&&jt(this),tt(e)?(this.markerGroup&&this.markerGroup!==i?.markerGroup&&this.markerGroup.destroy(),this.markerGroup=i?.markerGroup,s&&s.target&&(this.renderTarget=s.target=s.target.destroy())):(this.markerGroup===i?.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"));let Ge=this.points=[],Ce=(z,re,S,U)=>{let R=!!G&&G[de+S],ae=D=>{e.inverted&&(D=o.len-D,re=h.len-re),Ge.push({destroy:Vt,x:R,clientX:D,plotX:D,plotY:re,i:de+S,percentage:U})};z=Math.ceil(z),Ue=ie?z:z+","+re,$&&(ue[Ue]?R===G[G.length-1]&&(Ge.length--,ae(z)):(ue[Ue]=!0,ae(z)))};this.buildKDTree=Vt,Ot(this,"renderCanvas"),i&&s?.target&&_e>1&&this.is("line")&&(i.lineWidthFilter?.remove(),i.lineWidthFilter=e.renderer.definition({tagName:"filter",children:[{tagName:"feMorphology",attributes:{operator:"dilate",radius:.25*_e}}],attributes:{id:"linewidth"}}),s.target.attr({filter:"url(#linewidth)"})),Xe&&(Gt(Xe,this),Xe.pushSeries(this),Wt(this));let Le=Xe.settings;e.renderer.forExport||(Le.debug.timeKDTree&&console.time("kd tree building"),st(K?this.data.slice(de):d||C,function(z,re){let S=e.index===void 0,U,R,ae,D,pe,xe=!1,ze=!0;return!fi(z)||(!S&&(me?(U=z[0],R=z[1]):(U=z,R=u[re]??Oe??null),F?(me&&(R=z.slice(1,3)),xe=g[re],R=r[re]):K&&(U=z.x,xe=(R=z.stackY)-z.y,pe=z.percentage),fe||(ze=(R||0)>=W&&R<=q),R!==null&&U>=L&&U<=V&&ze&&(ae=o.toPixels(U,!0),he?((Se===void 0||ae===rt)&&(F||(xe=R),(Pe===void 0||R>Ee)&&(Ee=R,Pe=re),(Se===void 0||xe<qe)&&(qe=xe,Se=re)),ie&&ae===rt||(Se!==void 0&&(D=h.toPixels(Ee,!0),we=h.toPixels(qe,!0),Ce(ae,D,Pe,pe),we!==D&&Ce(ae,we,Se,pe)),Se=Pe=void 0,rt=ae)):Ce(ae,D=Math.ceil(h.toPixels(R,!0)),re,pe))),!S)},()=>{Ot(this,"renderedCanvas"),delete this.buildKDTree,this.options&&this.buildKDTree(),Le.debug.timeKDTree&&console.timeEnd("kd tree building")}))}function xi(t){let e=!0;if(this.chart.options&&this.chart.options.boost&&(e=this.chart.options.boost.enabled===void 0||this.chart.options.boost.enabled),!e||!this.boosted)return t.call(this);this.chart.boosted=!0;let i=Ht(this.chart,this);i&&(Gt(i,this),i.pushSeries(this)),Wt(this)}function vi(t){if(this.boosted){if(Yt(this))return{};if(this.xAxis.isPanning||this.yAxis.isPanning)return this}return t.apply(this,[].slice.call(arguments,1))}function yi(t){let e=this.options.data;if(Ft(this.chart)&&ne[this.type]){let s=this.is("scatter")&&!this.is("bubble")&&!this.is("treemap")&&!this.is("heatmap");if(!Mt(this,e)||s||this.is("treemap")||this.options.stacking||!Yt(this,!0)){if(this.boosted&&(this.xAxis?.isPanning||this.yAxis?.isPanning))return;s&&this.yAxis.type!=="treegrid"?mi.call(this,arguments[1]):t.apply(this,[].slice.call(arguments,1)),e=this.getColumn("x",!0)}if(this.boosted=Mt(this,e),this.boosted){let o;this.options.data?.length&&(Ae(o=this.getFirstValidPoint(this.options.data))||Xt(o)||this.is("treemap")||Nt(12,!1,this.chart));var i=this;i.boost=i.boost||{getPoint:d=>qt(i,d)};let h=i.boost.altered=[];if(["allowDG","directTouch","stickyTracking"].forEach(d=>{h.push({prop:d,val:i[d],own:Object.hasOwnProperty.call(i,d)})}),i.allowDG=!1,i.directTouch=!1,i.stickyTracking=!0,i.finishedAnimating=!0,i.labelBySeries&&(i.labelBySeries=i.labelBySeries.destroy()),i.is("scatter")&&!i.is("treemap")&&i.data.length){for(let d of i.data)d?.destroy?.();i.data.length=0,i.points.length=0,delete i.processedData}}else(function(o){let h=o.boost,d=o.chart,u=d.boost;if(u?.markerGroup)for(let g of(u.markerGroup.destroy(),u.markerGroup=void 0,d.series))g.markerGroup=void 0,g.markerGroup=g.plotGroup("markerGroup","markers","visible",1,d.seriesGroup).addClass("highcharts-tracker");h&&((h.altered||[]).forEach(g=>{g.own?o[g.prop]=g.val:delete o[g.prop]}),h.clear&&h.clear()),(d.seriesGroup||o.group)?.clip()})(this)}else t.apply(this,[].slice.call(arguments,1))}function bi(t){let e=t.apply(this,[].slice.call(arguments,1));return this.boost&&e?this.boost.getPoint(e):e}let Ai={compose:function(t,e,i,s){if(di(ui,"Boost.Series")){let o=ni().plotOptions,h=t.prototype;if(It(t,"destroy",gi),It(t,"hide",ci),s&&(h.renderCanvas=pi),De(h,"getExtremes",vi),De(h,"processData",yi),De(h,"searchPoint",bi),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(d=>(function(u,g,r){function C(c){let L=this.options.stacking&&(r==="translate"||r==="generatePoints");this.boosted&&!L&&Ft(this.chart)&&this.type!=="heatmap"&&this.type!=="treemap"&&ne[this.type]&&this.options.boostThreshold!==0?r==="render"&&this.renderCanvas&&this.renderCanvas():c.call(this)}if(De(u,r,C),r==="translate")for(let c of["column","arearange","columnrange","heatmap","treemap"])g[c]&&De(g[c].prototype,r,C)})(h,e,d)),De(i.prototype,"firePointEvent",function(d,u,g){if(u==="click"&&this.series.boosted){let r=g.point;if((r.dist||r.distX)>=(r.series.options.marker?.radius??10))return}return d.apply(this,[].slice.call(arguments,1))}),ye.forEach(d=>{let u=o[d];u&&(u.boostThreshold=5e3,u.boostData=[],e[d].prototype.fillOpacity=!0)}),s){let{area:d,areaspline:u,bubble:g,column:r,heatmap:C,scatter:c,treemap:L}=e;if(d&&Ct(d.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),u&&Ct(u.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),g){let V=g.prototype;delete V.buildKDTree,De(V,"markerAttribs",function(Y){return!this.boosted&&Y.apply(this,[].slice.call(arguments,1))})}r&&Ct(r.prototype,{fill:!0,sampling:!0}),c&&(c.prototype.fill=!0),[C,L].forEach(V=>{V&&De(V.prototype,"drawPoints",xi)})}}return t},destroyGraphics:jt,eachAsync:st,getPoint:qt},_i={defaultHTMLColorMap:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{doc:Pi,win:Ci}=k(),{addEvent:Mi,error:Ti}=k(),$t=["webgl","experimental-webgl","moz-webgl","webkit-3d"];function Kt(){let t;if(Ci.WebGLRenderingContext!==void 0){t=Pi.createElement("canvas");for(let e=0;e<$t.length;++e)try{if(t.getContext($t[e])!=null)return!0}catch{}}return!1}let Zt={compose:function(t,e,i,s,o,h){let d=Kt();d||(k().initCanvasBoost!==void 0?k().initCanvasBoost():Ti(26)),h&&!h.names.lightgoldenrodyellow&&(h.names={...h.names,..._i.defaultHTMLColorMap}),Je.compose(t,d),Ai.compose(i,s,o,d),Mi(e,"setExtremes",function(u){for(let g of[this.chart,...this.series].map(r=>r.renderTarget).filter(Boolean)){let{horiz:r,pos:C}=this,c=r?"scaleX":"scaleY",L=r?"translateX":"translateY",V=g?.[c]??1,Y=1,W=0,q=1,ue="none";this.isPanning&&(Y=(u.scale??1)*V,W=(g?.[L]||0)-Y*(u.move||0)+V*C-Y*C,q=.7,ue="blur(3px)"),g?.attr({[c]:Y,[L]:W}).css({transition:"250ms filter, 250ms opacity",filter:ue,opacity:q})}})},hasWebGLSupport:Kt},Ne=k();Ne.hasWebGLSupport=Zt.hasWebGLSupport,Zt.compose(Ne.Chart,Ne.Axis,Ne.Series,Ne.seriesTypes,Ne.Point,Ne.Color);let ki=k();return B.default})())})(vt)),vt.exports}Bi();const Ii={style:{"margin-bottom":"20px"}},Ni={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap"}},Oi={key:0},Xi={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap","margin-top":"10px"}},Gi={style:{flex:"1","min-width":"100px","max-width":"200px"}},Fi={style:{flex:"1","min-width":"100px","max-width":"200px"}},Hi={key:0,style:{display:"flex",gap:"16px","align-items":"center"}},ji={style:{"padding-top":"24px"}},Yi={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Wi={style:{"font-size":"16px","font-weight":"500"}},qi={key:0,style:{"font-size":"14px",color:"#666"}},$i={style:{"text-align":"center",color:"#666","font-size":"12px"}},Ki=wi({__name:"Charts",setup(Dt){const Lt=Di(),We=()=>{Lt.push("/home")},Te=le([]),Ue=le(!1),te=le(""),oe=le(""),p=le("voltage"),ke=le(!1),X=le(!1),B=le({}),Ze=le(null);let k=null;const ye=le(""),ne=le([]),E=le(0),_=le(void 0),I=le(10),lt=Ke(()=>{switch(p.value){case"voltage":case"voltage_range":case"voltage_avg":return 0;case"pump_pressure":case"inlet_outlet_pressure":case"oxygen_hydrogen_outlet_pressure":case"pressure_difference":return 2;case"specific_gravity":return 3;case"oxygen_hydrogen_outlet_temp":return 1;case"oxygen_hydrogen_cross":return 2;case"hydrogen_flow_meter":return 2;default:return 2}}),Qe=Ke(()=>{const b=new Set;return Te.value.forEach(n=>{n.machine_name&&b.add(n.machine_name)}),Array.from(b).sort((n,M)=>{const v=parseInt(n.split("#")[0].trim())||0,T=parseInt(M.split("#")[0].trim())||0;return v-T})}),yt=Ke(()=>{if(!te.value)return[];const b=new Set;return Te.value.forEach(n=>{n.machine_name===te.value&&n.machine_model&&b.add(n.machine_model)}),Array.from(b).sort()}),Je=Ke(()=>!te.value||!oe.value?"":`${te.value} - ${oe.value}`),nt=Ke(()=>{const b=B.value[p.value];return b?p.value==="voltage"?`${Object.keys(b).length} 条曲线`:["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(p.value)?"2 条曲线":"1 条曲线":""}),ut=Ke(()=>{const b=B.value[p.value];if(!b)return 0;if(p.value==="voltage")return Object.values(b).reduce((n,M)=>M.x&&M.y?n+Math.min(M.x.length,M.y.length):n,0);if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(p.value)){const n=b;let M=0;return Object.values(n).forEach(v=>{v.x&&v.y&&(M+=Math.min(v.x.length,v.y.length))}),M}else{const n=b;return n.x&&n.y?Math.min(n.x.length,n.y.length):0}}),bt=async()=>{Ue.value=!0;try{const n=await(await fetch("/api/get/device_list")).json();n.status==="success"?Te.value=n.data:Ye.error("加载设备列表失败")}catch(b){console.error("Error loading device list:",b),Ye.error("加载设备列表失败")}finally{Ue.value=!1}},Ie=async(b="voltage")=>{if(!te.value||!oe.value){Ye.warning("请先选择设备名称和型号");return}if(b!=="voltage"&&!ye.value){Ye.warning("正在加载起始时间，请稍候..."),await Ie("voltage"),ye.value&&await Ie(b);return}if(B.value[b]){dt();return}ke.value=!0;try{let v=`/api/get/one_device/${{voltage:"cell",voltage_range:"voltage_range",voltage_avg:"voltage_avg",pump_pressure:"pump_pressure",specific_gravity:"specific_gravity",hydrogen_flow_meter:"hydrogen_flow_meter",inlet_outlet_pressure:"inlet_outlet_pressure",oxygen_hydrogen_outlet_pressure:"oxygen_hydrogen_outlet_pressure",oxygen_hydrogen_outlet_temp:"oxygen_hydrogen_outlet_temp",oxygen_hydrogen_cross:"oxygen_hydrogen_cross",pressure_difference:"pressure_difference"}[b]}?machine_name=${encodeURIComponent(te.value)}&machine_model=${encodeURIComponent(oe.value)}`;b!=="voltage"&&ye.value&&(v+=`&start_time=${encodeURIComponent(ye.value)}`);const y=await(await fetch(v)).json();y.status==="success"?(b==="voltage"&&y.global_start_time&&(ye.value=y.global_start_time,console.log("保存 global_start_time:",ye.value)),B.value[b]=y.data,X.value=!0,ti(()=>{dt()}),Ye.success("数据加载成功")):Ye.error("加载数据失败")}catch(n){console.error("Error loading chart data:",n),Ye.error("加载数据失败")}finally{ke.value=!1}},At=()=>{te.value?localStorage.setItem("cached_machine_name",te.value):localStorage.removeItem("cached_machine_name"),oe.value="",localStorage.removeItem("cached_machine_model"),k&&(k.destroy(),k=null),X.value=!1,B.value={},ye.value="",ne.value=[],p.value="voltage",E.value=0,_.value=void 0,I.value=10},ht=async()=>{oe.value?localStorage.setItem("cached_machine_model",oe.value):localStorage.removeItem("cached_machine_model"),k&&(k.destroy(),k=null),X.value=!1,B.value={},ye.value="",ne.value=[],p.value="voltage",E.value=0,_.value=void 0,I.value=10,oe.value&&(await ti(),Ie("voltage"))},_t=()=>{E.value=0,_.value=void 0,I.value=10,Ie(p.value)},et=()=>{const b=B.value[p.value];if(!b)return 0;let n=0;if(p.value==="voltage")Object.values(b).forEach(M=>{if(M.y&&M.y.length>0){const v=Math.max(...M.y);v>n&&(n=v)}});else if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(p.value))Object.values(b).forEach(v=>{if(v.y&&v.y.length>0){const T=j(v);if(T.y.length>0){const y=Math.max(...T.y);y>n&&(n=y)}}});else{const M=b;if(M.y&&M.y.length>0){const v=j(M);v.y&&v.y.length>0&&(n=Math.max(...v.y))}}return console.info(n*1.1),n},Pt=()=>{const b=et();E.value=0,_.value=b*1.1,I.value=Math.ceil(b*.05),k&&k.yAxis&&k.yAxis[0]&&k.yAxis[0].update({min:0,max:b*1.1},!0)},be=()=>{k&&k.yAxis&&k.yAxis[0]&&k.yAxis[0].update({min:E.value,max:_.value||void 0},!0)},j=b=>{if(!ne.value||ne.value.length===0)return b;const n=new Set(ne.value),M={x:[],y:[],t:[]};for(let v=0;v<b.x.length;v++)n.has(b.x[v])&&(M.x.push(b.x[v]),M.y.push(b.y[v]),b.t&&b.t[v]&&M.t.push(b.t[v]));return M},dt=()=>{if(!Ze.value||!B.value||!B.value[p.value])return;k&&k.destroy();const b=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#EFC94C","#17BECF","#4C72B0","#DD8452","#55A868","#C44E52","#8172B3","#937860","#64B5CD","#E99675","#97BBCD","#B5BD89","#FF6F61","#6A5ACD"];let n=[],M="",v="",T,y,Q=0;if(p.value==="voltage"){n=Object.entries(B.value.voltage).map(([m,l],f)=>({type:"line",name:m,data:l.x.map((P,Re)=>({x:P,y:l.y[Re],t:l.t?l.t[Re]:void 0})),color:b[f%b.length],marker:{enabled:!1}})),M="电压 (mV)",v="小室电压";const x=et()*1.1;T=0,y=x,_.value===void 0?(E.value=0,_.value=x,I.value=Math.ceil(x*.05)):(T=E.value,y=_.value);const a=n[0];a&&"data"in a&&Array.isArray(a.data)&&a.data.length>0?(ne.value=a.data.map(l=>l.x),Q=Math.max(...ne.value)*2):ne.value=[]}else if(p.value==="voltage_range"){const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"极差",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#7cb5ec",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="极差 (mV)",v="小室极差"}else if(p.value==="voltage_avg"){const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"平均电压",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#FF7F0E",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="小室平均电压 (mV)",v="小室电压平均值"}else if(p.value==="pump_pressure"){const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"泵后压力",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#2CA02C",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="泵压 (Bar)",v="泵后压力"}else if(p.value==="specific_gravity"){const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"碱液比重",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#D62728",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="比重 (g/cm³)",v="碱液比重"}else if(p.value==="inlet_outlet_pressure"){const x=B.value[p.value];if(x.inlet_pressure&&x.oxygen_outlet_pressure){const a=j(x.inlet_pressure),m=j(x.oxygen_outlet_pressure);n=[{type:"line",name:"进槽压力",data:a.x.map((f,P)=>({x:f,y:a.y[P],t:a.t?a.t[P]:void 0})),color:"#1F77B4",marker:{enabled:!1}},{type:"line",name:"氧侧出槽压力",data:m.x.map((f,P)=>({x:f,y:m.y[P],t:m.t?m.t[P]:void 0})),color:"#FF7F0E",marker:{enabled:!1}}];const l=[...a.y,...m.y].filter(f=>f!=null);if(l.length>0){const f=Math.max(...l),P=f*.1;T=0,y=f+P,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="压差 (Bar)",v="电解槽进出槽压力"}else if(p.value==="oxygen_hydrogen_outlet_pressure"){const x=B.value[p.value];if(x.oxygen_outlet_pressure&&x.hydrogen_outlet_pressure){const a=j(x.oxygen_outlet_pressure),m=j(x.hydrogen_outlet_pressure);n=[{type:"line",name:"氧侧出槽压力",data:a.x.map((f,P)=>({x:f,y:a.y[P],t:a.t?a.t[P]:void 0})),color:"#2CA02C",marker:{enabled:!1}},{type:"line",name:"氢侧出槽压力",data:m.x.map((f,P)=>({x:f,y:m.y[P],t:m.t?m.t[P]:void 0})),color:"#D62728",marker:{enabled:!1}}];const l=[...a.y,...m.y].filter(f=>f!=null);if(l.length>0){const f=Math.max(...l),P=f*.1;T=0,y=f+P,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="压差 (Bar)",v="电解槽氢氧侧出槽压力"}else if(p.value==="oxygen_hydrogen_outlet_temp"){const x=B.value[p.value];if(x.oxygen_outlet_temp&&x.hydrogen_outlet_temp){const a=j(x.oxygen_outlet_temp),m=j(x.hydrogen_outlet_temp);n=[{type:"line",name:"氧侧出槽温度",data:a.x.map((f,P)=>({x:f,y:a.y[P],t:a.t?a.t[P]:void 0})),color:"#FF7F0E",marker:{enabled:!1}},{type:"line",name:"氢气出槽温度",data:m.x.map((f,P)=>({x:f,y:m.y[P],t:m.t?m.t[P]:void 0})),color:"#9467BD",marker:{enabled:!1}}];const l=[...a.y,...m.y].filter(f=>f!=null);if(l.length>0){const f=Math.max(...l),P=f*.1;T=0,y=f+P,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="温度 (°C)",v="电解槽氢氧侧出槽温度"}else if(p.value==="oxygen_hydrogen_cross"){const x=B.value[p.value];if(x.oxygen_in_hydrogen&&x.hydrogen_in_oxygen){const a=j(x.oxygen_in_hydrogen),m=j(x.hydrogen_in_oxygen);n=[{type:"line",name:"氧中氢",data:a.x.map((f,P)=>({x:f,y:a.y[P],t:a.t?a.t[P]:void 0})),color:"#17BECF",marker:{enabled:!1}},{type:"line",name:"氢中氧",data:m.x.map((f,P)=>({x:f,y:m.y[P],t:m.t?m.t[P]:void 0})),color:"#8C564B",marker:{enabled:!1}}];const l=[...a.y,...m.y].filter(f=>f!=null);if(l.length>0){const f=Math.max(...l),P=f*.1;T=0,y=f+P,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="含量 (ppm)",v="氧中氢/氢中氧"}else if(p.value==="pressure_difference"){const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"Pressure Difference",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#E74C3C",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="压力差 (Bar)",v="电解槽进出口压差"}else{const x=B.value[p.value];if(x.x&&x.y){const a=j(x);n=[{type:"line",name:"Hydrogen Flow",data:a.x.map((l,f)=>({x:l,y:a.y[f],t:a.t?a.t[f]:void 0})),color:"#9467BD",marker:{enabled:!1}}];const m=a.y.filter(l=>l!=null);if(m.length>0){const l=Math.max(...m),f=l*.1;T=0,y=l+f,_.value===void 0?(E.value=0,_.value=y,I.value=Math.ceil(y*.05)):(T=E.value,y=_.value)}a.x.length>0&&(Q=Math.max(...a.x)*2)}else n=[];M="氢流量",v="氢气流量"}k=Li.chart(Ze.value,{accessibility:{enabled:!1},boost:{useGPUTranslations:!0,seriesThreshold:1},chart:{type:"line",zooming:{type:"x"},panning:{enabled:!0,type:"x"},animation:!1,panKey:"shift"},title:{text:v},xAxis:{title:{text:"时间 (小时)"},crosshair:!0,max:Q},yAxis:{title:{text:M},crosshair:!0,min:T,max:y,startOnTick:!1,endOnTick:!1},legend:{enabled:["voltage","inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(p.value),layout:"horizontal",align:"center",verticalAlign:"bottom",maxHeight:80},tooltip:{shared:!0,useHTML:!0,animation:!1,positioner:function(x,a,m){const l=this.chart;let f=m.plotX+l.plotLeft+10,P=m.plotY+l.plotTop-a/2;return f+x>l.plotWidth+l.plotLeft&&(f=m.plotX+l.plotLeft-x-10),P<l.plotTop&&(P=l.plotTop),P+a>l.plotTop+l.plotHeight&&(P=l.plotTop+l.plotHeight-a),{x:f,y:P}},formatter:function(){const x=this.x;let a='<div style="font-size: 14px;">';if(a+='<div style="text-align: center; font-weight: 500; margin-bottom: 8px; padding-bottom: 4px; border-bottom: 1px solid #eee;">',a+=`时间: <span style="color: #409EFF">${x.toFixed(0)}</span> 小时`,this.points&&this.points.length>0&&this.points[0].options.t&&(a+=`<br><span style="font-size: 12px; color: #909399;">${this.points[0].options.t}</span>`),a+="</div>",this.points){let m="",l=2;p.value==="voltage"||p.value==="voltage_range"||p.value==="voltage_avg"?(m="mV",l=0):p.value==="pump_pressure"||p.value==="inlet_outlet_pressure"||p.value==="oxygen_hydrogen_outlet_pressure"||p.value==="pressure_difference"?(m="Mpa",l=2):p.value==="specific_gravity"?(m="mg/cm³",l=3):p.value==="oxygen_hydrogen_outlet_temp"?(m="℃",l=1):p.value==="oxygen_hydrogen_cross"?(m="ppm",l=2):p.value==="hydrogen_flow_meter"&&(m="",l=2),this.points.forEach(f=>{a+='<div style="margin: 4px 0; display: flex; align-items: center; justify-content: space-between;">',a+='<span style="display: flex; align-items: center;">',a+=`<span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color: ${f.series.color}; margin-right: 8px;"></span>`,a+=`<span style="font-weight: 500;">${f.series.name}</span>`,a+="</span>",a+=`<span style="font-weight: bold; color: ${f.series.color};">&nbsp;${Number(f.y).toFixed(l)}${m?" "+m:""}</span>`,a+="</div>"})}return a+="</div>",a}},plotOptions:{line:{animation:!1,marker:{enabled:!1},states:{hover:{enabled:!0,lineWidth:4}}}},series:n,credits:{enabled:!1},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{enabled:!1}}}]}})};return Ei(async()=>{await bt();const b=localStorage.getItem("cached_machine_name"),n=localStorage.getItem("cached_machine_model");if(b&&n){const M=Te.value.some(T=>T.machine_name===b),v=Te.value.some(T=>T.machine_name===b&&T.machine_model===n);M&&v&&(te.value=b,oe.value=n,await Ie("voltage"))}}),Si(()=>{k&&k.destroy()}),(b,n)=>{const M=Be("el-button"),v=Be("el-radio-button"),T=Be("el-radio-group"),y=Be("el-option"),Q=Be("el-select"),x=Be("el-input-number"),a=Be("el-card"),m=Be("el-empty");return ve(),He(a,null,{default:N(()=>[ee("div",Ii,[H(M,{onClick:We,type:"primary",plain:"",icon:"ArrowLeft"},{default:N(()=>[...n[5]||(n[5]=[ge("返回首页",-1)])]),_:1})]),H(a,{style:{"margin-bottom":"20px"}},{default:N(()=>[ee("div",Ni,[X.value?(ve(),at("div",Oi,[H(T,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=l=>p.value=l),onChange:_t,size:"large"},{default:N(()=>[H(v,{label:"voltage"},{default:N(()=>[...n[6]||(n[6]=[ge("小室电压",-1)])]),_:1}),H(v,{label:"voltage_avg"},{default:N(()=>[...n[7]||(n[7]=[ge("小室电压平均值",-1)])]),_:1}),H(v,{label:"voltage_range"},{default:N(()=>[...n[8]||(n[8]=[ge("小室极差",-1)])]),_:1}),H(v,{label:"pump_pressure"},{default:N(()=>[...n[9]||(n[9]=[ge("泵后压力",-1)])]),_:1}),H(v,{label:"specific_gravity"},{default:N(()=>[...n[10]||(n[10]=[ge("碱液比重",-1)])]),_:1}),H(v,{label:"hydrogen_flow_meter"},{default:N(()=>[...n[11]||(n[11]=[ge("氢气流量",-1)])]),_:1}),H(v,{label:"inlet_outlet_pressure"},{default:N(()=>[...n[12]||(n[12]=[ge("电解槽进出槽压力",-1)])]),_:1}),H(v,{label:"pressure_difference"},{default:N(()=>[...n[13]||(n[13]=[ge("电解槽进出口压差",-1)])]),_:1}),H(v,{label:"oxygen_hydrogen_outlet_pressure"},{default:N(()=>[...n[14]||(n[14]=[ge("电解槽氢氧侧出槽压力",-1)])]),_:1}),H(v,{label:"oxygen_hydrogen_outlet_temp"},{default:N(()=>[...n[15]||(n[15]=[ge("电解槽氢氧侧出槽温度",-1)])]),_:1}),H(v,{label:"oxygen_hydrogen_cross"},{default:N(()=>[...n[16]||(n[16]=[ge("氧中氢/氢中氧",-1)])]),_:1})]),_:1},8,["modelValue"])])):je("",!0)]),ee("div",Xi,[ee("div",Gi,[n[17]||(n[17]=ee("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备名称 (Machine Name)",-1)),H(Q,{modelValue:te.value,"onUpdate:modelValue":n[1]||(n[1]=l=>te.value=l),placeholder:"请选择设备名称",filterable:"",clearable:"",style:{width:"100%"},loading:Ue.value,onChange:At},{default:N(()=>[(ve(!0),at(si,null,ii(Qe.value,l=>(ve(),He(y,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),ee("div",Fi,[n[18]||(n[18]=ee("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备型号 (Machine Model)",-1)),H(Q,{modelValue:oe.value,"onUpdate:modelValue":n[2]||(n[2]=l=>oe.value=l),placeholder:"请选择设备型号",filterable:"",clearable:"",style:{width:"100%"},loading:Ue.value,disabled:!te.value,onChange:ht},{default:N(()=>[(ve(!0),at(si,null,ii(yt.value,l=>(ve(),He(y,{key:l,label:l,value:l},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","disabled"])]),X.value?(ve(),at("div",Hi,[ee("div",null,[n[19]||(n[19]=ee("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最小值 (Y Min)",-1)),H(x,{modelValue:E.value,"onUpdate:modelValue":n[3]||(n[3]=l=>E.value=l),step:I.value,min:0,placeholder:"0",style:{width:"150px"},onChange:be,precision:lt.value},null,8,["modelValue","step","precision"])]),ee("div",null,[n[20]||(n[20]=ee("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最大值 (Y Max)",-1)),H(x,{modelValue:_.value,"onUpdate:modelValue":n[4]||(n[4]=l=>_.value=l),step:I.value,min:0,placeholder:"自适应",style:{width:"150px"},onChange:be,precision:lt.value},null,8,["modelValue","step","precision"])]),ee("div",ji,[H(M,{onClick:Pt,type:"primary"},{default:N(()=>[...n[21]||(n[21]=[ge("自动适配",-1)])]),_:1})])])):je("",!0)])]),_:1}),X.value?(ve(),He(a,{key:0},{header:N(()=>[ee("div",Yi,[ee("div",Wi,xt(p.value==="voltage"?"小室电压":p.value==="voltage_range"?"小室极差":p.value==="voltage_avg"?"小室电压平均值":p.value==="pump_pressure"?"泵后压力":p.value==="specific_gravity"?"碱液比重":p.value==="hydrogen_flow_meter"?"氢气流量":p.value==="inlet_outlet_pressure"?"电解槽进出槽压力":p.value==="oxygen_hydrogen_outlet_pressure"?"电解槽氢氧侧出槽压力":p.value==="oxygen_hydrogen_outlet_temp"?"电解槽氢氧侧出槽温度":p.value==="oxygen_hydrogen_cross"?"氧中氢/氢中氧":"电解槽进出口压差"),1),nt.value?(ve(),at("div",qi,xt(nt.value),1)):je("",!0)])]),footer:N(()=>[ee("div",$i," 渲染模式: Boost 高性能模式 | 设备: "+xt(Je.value)+" | 数据点: "+xt(ut.value),1)]),default:N(()=>[ke.value?(ve(),He(oi,{key:0})):je("",!0),Ui(ee("div",{ref_key:"chartContainer",ref:Ze,style:{width:"100%",height:"600px"}},null,512),[[Ri,!ke.value]])]),_:1})):je("",!0),!X.value&&ke.value?(ve(),He(a,{key:1},{header:N(()=>[...n[22]||(n[22]=[ee("div",{style:{"font-size":"16px","font-weight":"500"}},"加载中...",-1)])]),default:N(()=>[H(oi)]),_:1})):je("",!0),!X.value&&!ke.value?(ve(),He(m,{key:2,description:"请选择设备名称和型号","image-size":200})):je("",!0)]),_:1})}}}),is=zi(Ki,[["__scopeId","data-v-b441b91a"]]);export{is as default};
