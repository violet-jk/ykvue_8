import{d as ws,c as de,o as N,a as p,az as Yt,Q as He,a6 as Ye,D as Mt,r as D,b as At,m as Ds,X as Vs,R as C,I as je,L as Ee,J as A,al as me,aA as Bs,n as ys,O as J,K as Ls,S as Is,P as pt,E as Ns}from"./vue-BIsjhf4e.js";import{H as Os}from"./highcharts-C3rLauaZ.js";import{_ as Cs}from"./index-Bsu7RegS.js";import{E as $,b as fs}from"./element-plus-C6RnWqGJ.js";import"./highcharts-DSb220Oi.js";var Wt={exports:{}},Gs=Wt.exports,As;function Fs(){return As||(As=1,(function(qt,Et){(function(We,ve){qt.exports=ve(We._Highcharts,We._Highcharts.Color)})(typeof window>"u"?Gs:window,(We,ve)=>(()=>{let Y,V;var we,Z={620:t=>{t.exports=ve},944:t=>{t.exports=We}},ee={};function g(t){var e=ee[t];if(e!==void 0)return e.exports;var s=ee[t]={exports:{}};return Z[t](s,s.exports,g),s.exports}g.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return g.d(e,{a:e}),e},g.d=(t,e)=>{for(var s in e)g.o(e,s)&&!g.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},g.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Oe={};g.d(Oe,{default:()=>zs});var Ce=g(944),M=g.n(Ce);let gt=["area","areaspline","arearange","column","columnrange","bar","line","scatter","heatmap","bubble","treemap"],F={};gt.forEach(t=>{F[t]=!0});let{composed:fe}=M(),{addEvent:W,pick:ce,pushUnique:it}=M();function ze(t){let e=t.series,s=t.boost=t.boost||{},i=t.options.boost||{},o=ce(i.seriesThreshold,50);if(e.length>=o)return!0;if(e.length===1)return!1;let n=i.allowForce;if(n===void 0){for(let r of(n=!0,t.xAxis))if(ce(r.min,-1/0)>ce(r.dataMin,-1/0)||ce(r.max,1/0)<ce(r.dataMax,1/0)){n=!1;break}}if(s.forceChartBoost!==void 0){if(n)return s.forceChartBoost;s.forceChartBoost=void 0}let d=0,l=0,h;for(let r of e)(h=r.options).boostThreshold!==0&&r.visible!==!1&&r.type!=="heatmap"&&(F[r.type]&&++d,(function(...b){let c=-Number.MAX_VALUE;return b.forEach(I=>{if(I!=null&&I.length!==void 0&&I.length>0)return c=I.length,!0}),c})(r.getColumn("x",!0),h.data,r.points)>=(h.boostThreshold||Number.MAX_VALUE)&&++l);return s.forceChartBoost=n&&(d===e.length&&l===d||l>5),s.forceChartBoost}function St(t){function e(){t.boost&&t.boost.wgl&&ze(t)&&t.boost.wgl.render(t)}W(t,"predraw",function(){t.boost=t.boost||{},t.boost.forceChartBoost=void 0,t.boosted=!1,t.axes.some(o=>o.isPanning)||t.boost.clear?.(),t.boost.canvas&&t.boost.wgl&&ze(t)&&t.boost.wgl.allocateBuffer(t),t.boost.markerGroup&&t.xAxis&&t.xAxis.length>0&&t.yAxis&&t.yAxis.length>0&&t.boost.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),W(t,"load",e,{order:-1}),W(t,"redraw",e);let s=-1,i=-1;W(t.pointer,"afterGetHoverData",o=>{let n=o.hoverPoint?.series;if(t.boost=t.boost||{},t.boost.markerGroup&&n){let d=t.inverted?n.yAxis:n.xAxis,l=t.inverted?n.xAxis:n.yAxis;(d&&d.pos!==s||l&&l.pos!==i)&&(t.series.forEach(h=>{h.halo?.hide()}),t.boost.markerGroup.translate(d.pos,l.pos),s=d.pos,i=l.pos)}})}let De={compose:function(t,e){return e&&it(fe,"Boost.Chart")&&t.prototype.callbacks.push(St),t},getBoostClipRect:function(t,e){let s=t.navigator,i={x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};if(s&&t.inverted?(i.width+=s.top+s.height,s.opposite||(i.x=s.left)):s&&!t.inverted&&(i.height=s.top+s.height-t.plotTop),e.is){let{xAxis:o,yAxis:n}=e;if(i=t.getClipBox(e),t.inverted){let d=i.width;i.width=i.height,i.height=d,i.x=n.pos,i.y=o.pos}else i.x=o.pos,i.y=n.pos}if(e===t){let o=t.inverted?t.xAxis:t.yAxis;o.length<=1&&(i.y=Math.min(o[0].pos,i.y),i.height=o[0].pos-t.plotTop+o[0].len)}return i},isChartSeriesBoosting:ze};var Se=g(620),Ve=g.n(Se);let mt={area:"LINES",arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"},{clamp:qe,error:Ut,pick:ot}=M(),_t=class{constructor(t){this.errors=[],this.uLocations={},this.gl=t,t&&this.createShader()}bind(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)}createShader(){let t=this.stringToProgram(`#version 100
#define LN10 2.302585092994046
precision highp float;
attribute vec4 aVertexPosition;
attribute vec4 aColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform mat4 uPMatrix;
uniform float pSize;
uniform float translatedThreshold;
uniform bool hasThreshold;
uniform bool skipTranslation;
uniform float xAxisTrans;
uniform float xAxisMin;
uniform float xAxisMax;
uniform float xAxisMinPad;
uniform float xAxisPointRange;
uniform float xAxisLen;
uniform bool  xAxisPostTranslate;
uniform float xAxisOrdinalSlope;
uniform float xAxisOrdinalOffset;
uniform float xAxisPos;
uniform bool  xAxisCVSCoord;
uniform bool  xAxisIsLog;
uniform bool  xAxisReversed;
uniform float yAxisTrans;
uniform float yAxisMin;
uniform float yAxisMax;
uniform float yAxisMinPad;
uniform float yAxisPointRange;
uniform float yAxisLen;
uniform bool  yAxisPostTranslate;
uniform float yAxisOrdinalSlope;
uniform float yAxisOrdinalOffset;
uniform float yAxisPos;
uniform bool  yAxisCVSCoord;
uniform bool  yAxisIsLog;
uniform bool  yAxisReversed;
uniform bool  isCircle;
uniform bool  isBubble;
uniform bool  bubbleSizeByArea;
uniform float bubbleZMin;
uniform float bubbleZMax;
uniform float bubbleZThreshold;
uniform float bubbleMinSize;
uniform float bubbleMaxSize;
uniform bool  bubbleSizeAbs;
uniform bool  isInverted;
float bubbleRadius(){
float value = aVertexPosition.w;
float zMax = bubbleZMax;
float zMin = bubbleZMin;
float radius = 0.0;
float pos = 0.0;
float zRange = zMax - zMin;
if (bubbleSizeAbs){
value = value - bubbleZThreshold;
zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);
zMin = 0.0;
}
if (value < zMin){
radius = bubbleZMin / 2.0 - 1.0;
} else {
pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;
if (bubbleSizeByArea && pos > 0.0){
pos = sqrt(pos);
}
radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;
}
return radius * 2.0;
}
float translate(float val,
float pointPlacement,
float localA,
float localMin,
float minPixelPadding,
float pointRange,
float len,
bool  cvsCoord,
bool  isLog,
bool  reversed
){
float sign = 1.0;
float cvsOffset = 0.0;
if (cvsCoord) {
sign *= -1.0;
cvsOffset = len;
}
if (isLog) {
val = log(val) / LN10;
}
if (reversed) {
sign *= -1.0;
cvsOffset -= sign * len;
}
return sign * (val - localMin) * localA + cvsOffset + 
(sign * minPixelPadding);
}
float xToPixels(float value) {
if (skipTranslation){
return value;// + xAxisPos;
}
return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;
}
float yToPixels(float value, float checkTreshold) {
float v;
if (skipTranslation){
v = value;// + yAxisPos;
} else {
v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;
if (v > yAxisLen) {
v = yAxisLen;
}
}
if (checkTreshold > 0.0 && hasThreshold) {
v = min(v, translatedThreshold);
}
return v;
}
void main(void) {
if (isBubble){
gl_PointSize = bubbleRadius();
} else {
gl_PointSize = pSize;
}
vColor = aColor;
if (!skipTranslation && isCircle && (
aVertexPosition.x < xAxisMin ||
aVertexPosition.x > xAxisMax ||
aVertexPosition.y < yAxisMin ||
aVertexPosition.y > yAxisMax
)) {
gl_Position = uPMatrix * vec4(2.0, 2.0, 2.0, 1.0);
} else if (skipTranslation && isInverted) {
gl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);
} else if (isInverted) {
gl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);
} else {
gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);
}
}`,"vertex"),e=this.stringToProgram(`precision highp float;
uniform vec4 fillColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform sampler2D uSampler;
uniform bool isCircle;
uniform bool hasColor;
void main(void) {
vec4 col = fillColor;
vec4 tcol = texture2D(uSampler, gl_PointCoord.st);
if (hasColor) {
col = vColor;
}
if (isCircle) {
col *= tcol;
if (tcol.r < 0.0) {
discard;
} else {
gl_FragColor = col;
}
} else {
gl_FragColor = col;
}
}`,"fragment"),s=i=>this.gl.getUniformLocation(this.shaderProgram,i);return t&&e?(this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,t),this.gl.attachShader(this.shaderProgram,e),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)?(this.gl.useProgram(this.shaderProgram),this.gl.bindAttribLocation(this.shaderProgram,0,"aVertexPosition"),this.pUniform=s("uPMatrix"),this.psUniform=s("pSize"),this.fcUniform=s("fillColor"),this.isBubbleUniform=s("isBubble"),this.bubbleSizeAbsUniform=s("bubbleSizeAbs"),this.bubbleSizeAreaUniform=s("bubbleSizeByArea"),this.uSamplerUniform=s("uSampler"),this.skipTranslationUniform=s("skipTranslation"),this.isCircleUniform=s("isCircle"),this.isInverted=s("isInverted"),!0):(this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1,!1)):(this.shaderProgram=!1,this.handleErrors(),!1)}handleErrors(){this.errors.length&&Ut("[highcharts boost] shader error - "+this.errors.join(`
`))}stringToProgram(t,e){let s=this.gl.createShader(e==="vertex"?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);return this.gl.shaderSource(s,t),this.gl.compileShader(s),this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)?s:(this.errors.push("when compiling "+e+` shader:
`+this.gl.getShaderInfoLog(s)),!1)}destroy(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)}fillColorUniform(){return this.fcUniform}getProgram(){return this.shaderProgram}pointSizeUniform(){return this.psUniform}perspectiveUniform(){return this.pUniform}reset(){this.gl&&this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))}setBubbleUniforms(t,e,s,i=1){let o=t.options,n=Number.MAX_VALUE,d=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&t.is("bubble")){let l=t.getPxExtremes();n=ot(o.zMin,qe(e,o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE,n)),d=ot(o.zMax,Math.max(d,s)),this.gl.uniform1i(this.isBubbleUniform,1),this.gl.uniform1i(this.isCircleUniform,1),this.gl.uniform1i(this.bubbleSizeAreaUniform,t.options.sizeBy!=="width"),this.gl.uniform1i(this.bubbleSizeAbsUniform,t.options.sizeByAbsoluteValue),this.setUniform("bubbleMinSize",l.minPxSize*i),this.setUniform("bubbleMaxSize",l.maxPxSize*i),this.setUniform("bubbleZMin",n),this.setUniform("bubbleZMax",d),this.setUniform("bubbleZThreshold",t.options.zThreshold)}}setColor(t){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,t[0]/255,t[1]/255,t[2]/255,t[3])}setDrawAsCircle(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,+!!t)}setInverted(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,t)}setPMatrix(t){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,t)}setPointSize(t){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,t)}setSkipTranslation(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,+(t===!0))}setTexture(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,t)}setUniform(t,e){if(this.gl&&this.shaderProgram){let s=this.uLocations[t]=this.uLocations[t]||this.gl.getUniformLocation(this.shaderProgram,t);this.gl.uniform1f(s,e)}}},Ke=class{constructor(t,e,s){this.buffer=!1,this.iterator=0,this.preAllocated=!1,this.vertAttribute=!1,this.components=s||2,this.dataComponents=s,this.gl=t,this.shader=e}allocate(t){this.iterator=-1,this.preAllocated=new Float32Array(4*t)}bind(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,!1,0,0)}build(t,e,s){let i;return this.data=t||[],this.data&&this.data.length!==0||this.preAllocated?(this.components=s||this.components,this.buffer&&this.gl.deleteBuffer(this.buffer),this.preAllocated||(i=new Float32Array(this.data)),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||i,this.gl.STATIC_DRAW),this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),e),this.gl.enableVertexAttribArray(this.vertAttribute),i=!1,!0):(this.destroy(),!1)}destroy(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.buffer=!1,this.vertAttribute=!1),this.iterator=0,this.components=this.dataComponents||2,this.data=[]}push(t,e,s,i){this.preAllocated&&(this.preAllocated[++this.iterator]=t,this.preAllocated[++this.iterator]=e,this.preAllocated[++this.iterator]=s,this.preAllocated[++this.iterator]=i)}render(t,e,s){let i=this.preAllocated?this.preAllocated.length:this.data.length;return!!this.buffer&&!!i&&((!t||t>i||t<0)&&(t=0),(!e||e>i)&&(e=i),!(t>=e)&&(s=s||"POINTS",this.gl.drawArrays(this.gl[s],t/this.components,(e-t)/this.components),!0))}},{getBoostClipRect:at}=De,{parse:Ue}=Ve(),{doc:vt,win:te}=M(),{isNumber:Rt,isObject:Kt,merge:Zt,objectEach:Qt,pick:rt}=M(),zt={column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},Jt={scatter:!0,bubble:!0},wt=["webgl","experimental-webgl","moz-webgl","webkit-3d"];class Ze{static orthoMatrix(e,s){return[2/e,0,0,0,0,-(2/s),0,0,0,0,-2,0,-1,1,-1,1]}static seriesPointCount(e){let s,i,o;return e.boosted?(s=!!e.options.stacking,i=(e.getColumn("x").length?e.getColumn("x"):void 0)||e.options.xData||e.getColumn("x",!0),o=(s?e.data:i||e.options.data).length,e.type==="treemap"?o*=12:e.type==="heatmap"?o*=6:zt[e.type]&&(o*=2),o):0}constructor(e){this.data=[],this.height=0,this.isInited=!1,this.markerData=[],this.series=[],this.textureHandles={},this.width=0,this.postRenderCallback=e,this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}}}getPixelRatio(){return this.settings.pixelRatio||te.devicePixelRatio||1}setOptions(e){"pixelRatio"in e||(e.pixelRatio=1),Zt(!0,this.settings,e)}allocateBuffer(e){let s=this.vbuffer,i=0;this.settings.usePreallocated&&(e.series.forEach(o=>{o.boosted&&(i+=Ze.seriesPointCount(o))}),s&&s.allocate(i))}allocateBufferForSingleSeries(e){let s=this.vbuffer,i=0;this.settings.usePreallocated&&(e.boosted&&(i=Ze.seriesPointCount(e)),s&&s.allocate(i))}clear(){let e=this.gl;e&&e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}pushSeriesData(e,s){let i=this.data,o=this.settings,n=this.vbuffer,d=e.pointArrayMap&&e.pointArrayMap.join(",")==="low,high",{chart:l,options:h,sorted:r,xAxis:b,yAxis:c}=e,I=!!h.stacking,X=h.data,se=e.xAxis.getExtremes(),ie=se.min-(e.xAxis.minPointOffset||0),oe=se.max+(e.xAxis.minPointOffset||0),be=e.yAxis.getExtremes(),ye=be.min-(e.yAxis.minPointOffset||0),ae=be.max+(e.yAxis.minPointOffset||0),Pe=(e.getColumn("x").length?e.getColumn("x"):void 0)||h.xData||e.getColumn("x",!0),Q=(e.getColumn("y").length?e.getColumn("y"):void 0)||h.yData||e.getColumn("y",!0),re=(e.getColumn("z").length?e.getColumn("z"):void 0)||h.zData||e.getColumn("z",!0),Ae=!Pe||Pe.length===0,_e=e.options.colorByPoint,ke=h.connectNulls,ue=e.points||!1,K=I?e.data:Pe||X,Be={x:Number.MAX_VALUE,y:0},ut={x:-Number.MAX_VALUE,y:0},kt=l.index===void 0,ht=zt[e.type],Tt=h.zoneAxis||"y",Fe=h.zones||!1,bt=h.threshold,Xe=this.getPixelRatio(),$e=e.chart.plotWidth,Le=!1,ft=!1,Ie,et,G=0,pe=!1,S,U,R,ge,z=-1,Te=!1,Me=!1,tt,as=!1,rs=!1,ne,ls=!1,ns=!0,vs=!0,yt,st=!1,ds=!1,Ft=0,us=0;if(h.boostData&&h.boostData.length>0)return;h.gapSize&&(ds=h.gapUnit!=="value"?h.gapSize*e.closestPointRange:h.gapSize),Fe&&(yt=[],Fe.forEach((x,k)=>{if(x.color){let H=Ue(x.color).rgba;H[0]/=255,H[1]/=255,H[2]/=255,yt[k]=H,st||x.value!==void 0||(st=H)}}),st||(st=Ue(e.pointAttribs&&e.pointAttribs().fill||e.color).rgba,st[0]/=255,st[1]/=255,st[2]/=255)),l.inverted&&($e=e.chart.plotHeight),e.closestPointRangePx=Number.MAX_VALUE;let ct=x=>{x&&(s.colorData.push(x[0]),s.colorData.push(x[1]),s.colorData.push(x[2]),s.colorData.push(x[3]))},Ne=(x,k,H,he=1,le)=>{ct(le),Xe!==1&&(!o.useGPUTranslations||s.skipTranslation)&&(x*=Xe,k*=Xe,he*=Xe),o.usePreallocated&&n?(n.push(x,k,+!!H,he),Ft+=4):(i.push(x),i.push(k),i.push(H?Xe:0),i.push(he))},hs=()=>{s.segments.length&&(s.segments[s.segments.length-1].to=i.length||Ft)},Xt=()=>{s.segments.length&&s.segments[s.segments.length-1].from===(i.length||Ft)||(hs(),s.segments.push({from:i.length||Ft}))},xs=(x,k,H,he,le)=>{ct(le),Ne(x+H,k),ct(le),Ne(x,k),ct(le),Ne(x,k+he),ct(le),Ne(x,k+he),ct(le),Ne(x+H,k+he),ct(le),Ne(x+H,k)};if(Xt(),ue&&ue.length>0){s.skipTranslation=!0,s.drawMode="TRIANGLES",ue[0].node&&ue[0].node.levelDynamic&&ue.sort((x,k)=>{if(x.node){if(x.node.levelDynamic>k.node.levelDynamic)return 1;if(x.node.levelDynamic<k.node.levelDynamic)return-1}return 0}),ue.forEach(x=>{let k,H,he=x.plotY;if(he!==void 0&&!isNaN(he)&&x.y!==null&&x.shapeArgs){let{x:le=0,y:$t=0,width:jt=0,height:Ht=0}=x.shapeArgs;k=(H=l.styledMode?x.series.colorAttribs(x):H=x.series.pointAttribs(x))["stroke-width"]||0,ne=Ue(H.fill).rgba,ne[0]/=255,ne[1]/=255,ne[2]/=255,e.is("treemap")&&(k=k||1,et=Ue(H.stroke).rgba,et[0]/=255,et[1]/=255,et[2]/=255,xs(le,$t,jt,Ht,et),k/=2),e.is("heatmap")&&l.inverted&&(le=b.len-le,$t=c.len-$t,jt=-jt,Ht=-Ht),xs(le+k,$t+k,jt-2*k,Ht-2*k,ne)}}),hs();return}for(;z<K.length-1;){if((R=K[++z])===void 0)continue;if(kt)break;let x=X&&X[z];if(!Ae){Kt(x,!0)&&x.color&&(ne=Ue(x.color).rgba);let k=e.options.keys?.indexOf("color");Array.isArray(x)&&k&&typeof x[k]=="string"?ne=Ue(x[k]).rgba:_e&&l.options.colors&&(us%=l.options.colors.length,ne=Ue(l.options.colors[us]).rgba),ne&&(ne[0]/=255,ne[1]/=255,ne[2]/=255),us++}if(Ae?(S=R[0],U=R[1],K[z+1]&&(Me=K[z+1][0]),K[z-1]&&(Te=K[z-1][0]),R.length>=3&&(ge=R[2],R[2]>s.zMax&&(s.zMax=R[2]),R[2]<s.zMin&&(s.zMin=R[2]))):(S=R,U=Q?.[z],K[z+1]&&(Me=K[z+1]),K[z-1]&&(Te=K[z-1]),re&&re.length&&(ge=re[z],re[z]>s.zMax&&(s.zMax=re[z]),re[z]<s.zMin&&(s.zMin=re[z]))),!ke&&(S===null||U===null)){Xt();continue}if(Me&&Me>=ie&&Me<=oe&&(as=!0),Te&&Te>=ie&&Te<=oe&&(rs=!0),d?(Ae&&(U=R.slice(1,3)),tt=e.getColumn("low",!0)?.[z],U=e.getColumn("high",!0)?.[z]||0):I&&(S=R.x,tt=(U=R.stackY)-R.y),ye!=null&&ae!=null&&(ns=U>=ye&&U<=ae),!(!r&&!ns||(S>oe&&ut.x<oe&&(ut.x=S,ut.y=U),S<ie&&Be.x>ie&&(Be.x=S,Be.y=U),U===null&&ke))){if(U===null||!ns&&K.length>1&&!as&&!rs){Xt();continue}if((r&&(Me>=ie||S>=ie)&&(Te<=oe||S<=oe)||!r&&S>=ie&&S<=oe)&&(ls=!0),ls||as||rs){if(ds&&S-Te>ds&&Xt(),Fe){let k;Fe.some((H,he)=>{let le=Fe[he-1];return Tt==="x"?H.value!==void 0&&S<=H.value&&(yt[he]&&(!le||S>=le.value)&&(k=yt[he]),!0):H.value!==void 0&&U<=H.value&&(yt[he]&&(!le||U>=le.value)&&(k=yt[he]),!0)}),ne=k||st||ne}if(o.useGPUTranslations||(s.skipTranslation=!0,S=b.toPixels(S,!0),U=c.toPixels(U,!0),!(S>$e)||s.drawMode!=="POINTS")){if(s.hasMarkers&&ls&&Le!==!1&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(S-Le))),!o.useGPUTranslations&&!o.usePreallocated&&Le&&1>Math.abs(S-Le)&&ft&&1>Math.abs(U-ft)){o.debug.showSkipSummary&&++G;continue}ht&&(Ie=tt||0,(tt===!1||tt===void 0)&&(Ie=U<0?U:0),(d||I)&&!c.logarithmic||(Ie=Math.max(bt===null?ye:bt,ye)),o.useGPUTranslations||(Ie=c.toPixels(Ie,!0)),Ne(S,Ie,!1,0,ne)),h.step&&!vs&&Ne(S,ft,!1,2,ne),Ne(S,U,!1,e.type==="bubble"?ge||1:2,ne),Le=S,ft=U,pe=!0,vs=!1}}}}o.debug.showSkipSummary&&console.log("skipped points:",G);let bs=(x,k)=>{if(o.useGPUTranslations||(s.skipTranslation=!0,x.x=b.toPixels(x.x,!0),x.y=c.toPixels(x.y,!0)),k){this.data=[x.x,x.y,0,2].concat(this.data);return}Ne(x.x,x.y,0,2)};!pe&&ke!==!1&&e.drawMode==="line_strip"&&(Be.x<Number.MAX_VALUE&&bs(Be,!0),ut.x>-Number.MAX_VALUE&&bs(ut)),hs()}pushSeries(e){let s=this.markerData,i=this.series,o=this.settings;i.length>0&&i[i.length-1].hasMarkers&&(i[i.length-1].markerTo=s.length),o.debug.timeSeriesProcessing&&console.time("building "+e.type+" series");let n={segments:[],markerFrom:s.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!e.options.marker&&e.options.marker.enabled!==!1,showMarkers:!0,drawMode:mt[e.type]||"LINE_STRIP"};e.index>=i.length?i.push(n):i[e.index]=n,this.pushSeriesData(e,n),o.debug.timeSeriesProcessing&&console.timeEnd("building "+e.type+" series")}flush(){let e=this.vbuffer;this.data=[],this.markerData=[],this.series=[],e&&e.destroy()}setXAxis(e){let s=this.shader;if(!s)return;let i=this.getPixelRatio();s.setUniform("xAxisTrans",e.transA*i),s.setUniform("xAxisMin",e.min),s.setUniform("xAxisMax",e.max),s.setUniform("xAxisMinPad",e.minPixelPadding*i),s.setUniform("xAxisPointRange",e.pointRange),s.setUniform("xAxisLen",e.len*i),s.setUniform("xAxisPos",e.pos*i),s.setUniform("xAxisCVSCoord",!e.horiz),s.setUniform("xAxisIsLog",!!e.logarithmic),s.setUniform("xAxisReversed",!!e.reversed)}setYAxis(e){let s=this.shader;if(!s)return;let i=this.getPixelRatio();s.setUniform("yAxisTrans",e.transA*i),s.setUniform("yAxisMin",e.min),s.setUniform("yAxisMax",e.max),s.setUniform("yAxisMinPad",e.minPixelPadding*i),s.setUniform("yAxisPointRange",e.pointRange),s.setUniform("yAxisLen",e.len*i),s.setUniform("yAxisPos",e.pos*i),s.setUniform("yAxisCVSCoord",!e.horiz),s.setUniform("yAxisIsLog",!!e.logarithmic),s.setUniform("yAxisReversed",!!e.reversed)}setThreshold(e,s){let i=this.shader;i&&(i.setUniform("hasThreshold",e),i.setUniform("translatedThreshold",s))}renderChart(e){let s=this.gl,i=this.settings,o=this.shader,n=this.vbuffer,d=this.getPixelRatio();if(!e)return!1;this.width=e.chartWidth*d,this.height=e.chartHeight*d;let l=this.height,h=this.width;if(!s||!o||!h||!l)return!1;i.debug.timeRendering&&console.time("gl rendering"),s.canvas.width=h,s.canvas.height=l,o.bind(),s.viewport(0,0,h,l),o.setPMatrix(Ze.orthoMatrix(h,l)),i.lineWidth>1&&!M().isMS&&s.lineWidth(i.lineWidth),n&&(n.build(this.data,"aVertexPosition",4),n.bind()),o.setInverted(e.inverted),this.series.forEach((r,b)=>{let c=r.series.options,I=c.marker,X=c.lineWidth!==void 0?c.lineWidth:1,se=c.threshold,ie=Rt(se),oe=r.series.yAxis.getThreshold(se),be=rt(c.marker?c.marker.enabled:null,!!r.series.xAxis.isRadial||null,r.series.closestPointRangePx>2*((c.marker?c.marker.radius:10)||10)),ye=this.textureHandles[I&&I.symbol||r.series.symbol]||this.textureHandles.circle,ae,Pe,Q,re=[];if(r.segments.length!==0&&r.segments[0].from!==r.segments[0].to&&(ye.isReady&&(s.bindTexture(s.TEXTURE_2D,ye.handle),o.setTexture(ye.handle)),e.styledMode?r.series.markerGroup===r.series.chart.boost?.markerGroup?(delete r.series.markerGroup,r.series.markerGroup=r.series.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"),Q=r.series.markerGroup.getStyle("fill"),r.series.markerGroup.destroy(),r.series.markerGroup=r.series.chart.boost?.markerGroup):Q=r.series.markerGroup?.getStyle("fill"):(Q=r.drawMode==="POINTS"&&r.series.pointAttribs&&r.series.pointAttribs().fill||r.series.color,c.colorByPoint&&(Q=r.series.chart.options.colors[b])),r.series.fillOpacity&&c.fillOpacity&&(Q=new(Ve())(Q).setOpacity(rt(c.fillOpacity,1)).get()),re=Ue(Q).rgba,i.useAlpha||(re[3]=1),c.boostBlending==="add"?(s.blendFunc(s.SRC_ALPHA,s.ONE),s.blendEquation(s.FUNC_ADD)):c.boostBlending==="mult"||c.boostBlending==="multiply"?s.blendFunc(s.DST_COLOR,s.ZERO):c.boostBlending==="darken"?(s.blendFunc(s.ONE,s.ONE),s.blendEquation(s.FUNC_MIN)):s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),o.reset(),r.colorData.length>0?(o.setUniform("hasColor",1),(Pe=new Ke(s,o)).build(Array(r.segments[0].from).concat(r.colorData),"aColor",4),Pe.bind()):(o.setUniform("hasColor",0),s.disableVertexAttribArray(s.getAttribLocation(o.getProgram(),"aColor"))),o.setColor(re),this.setXAxis(r.series.xAxis),this.setYAxis(r.series.yAxis),this.setThreshold(ie,oe),r.drawMode==="POINTS"&&o.setPointSize(2*rt(c.marker&&c.marker.radius,.5)*d),o.setSkipTranslation(r.skipTranslation),r.series.type==="bubble"&&o.setBubbleUniforms(r.series,r.zMin,r.zMax,d),o.setDrawAsCircle(Jt[r.series.type]||!1),n)){if(X>0||r.drawMode!=="LINE_STRIP"){let{x:Ae,y:_e,width:ke,height:ue}=at(e,r.series);for(s.enable(s.SCISSOR_TEST),s.scissor(Ae,l-_e-ue,ke,ue),ae=0;ae<r.segments.length;ae++)n.render(r.segments[ae].from,r.segments[ae].to,r.drawMode);s.disable(s.SCISSOR_TEST)}if(r.hasMarkers&&be)for(o.setPointSize(2*rt(c.marker&&c.marker.radius,5)*d),o.setDrawAsCircle(!0),ae=0;ae<r.segments.length;ae++)n.render(r.segments[ae].from,r.segments[ae].to,"POINTS")}}),i.debug.timeRendering&&console.timeEnd("gl rendering"),this.postRenderCallback&&this.postRenderCallback(this),this.flush()}render(e){if(this.clear(),e.renderer.forExport)return this.renderChart(e);this.isInited?this.renderChart(e):setTimeout(()=>{this.render(e)},1)}setSize(e,s){let i=this.shader;i&&(this.width!==e||this.height!==s)&&(this.width=e,this.height=s,i.bind(),i.setPMatrix(Ze.orthoMatrix(e,s)))}init(e,s){let i=this.settings;if(this.isInited=!1,!e)return!1;i.debug.timeSetup&&console.time("gl setup");for(let l=0;l<wt.length&&(this.gl=e.getContext(wt[l],{}),!this.gl);++l);let o=this.gl;if(!o)return!1;s||this.flush(),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS);let n=this.shader=new _t(o);if(!n)return!1;this.vbuffer=new Ke(o,n);let d=(l,h)=>{let r={isReady:!1,texture:vt.createElement("canvas"),handle:o.createTexture()},b=r.texture.getContext("2d");this.textureHandles[l]=r,r.texture.width=512,r.texture.height=512,b.mozImageSmoothingEnabled=!1,b.webkitImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1,b.imageSmoothingEnabled=!1,b.strokeStyle="rgba(255, 255, 255, 0)",b.fillStyle="#FFF",h(b);try{o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.handle),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.bindTexture(o.TEXTURE_2D,null),r.isReady=!0}catch{}};return d("circle",l=>{l.beginPath(),l.arc(256,256,256,0,2*Math.PI),l.stroke(),l.fill()}),d("square",l=>{l.fillRect(0,0,512,512)}),d("diamond",l=>{l.beginPath(),l.moveTo(256,0),l.lineTo(512,256),l.lineTo(256,512),l.lineTo(0,256),l.lineTo(256,0),l.fill()}),d("triangle",l=>{l.beginPath(),l.moveTo(0,512),l.lineTo(256,0),l.lineTo(512,512),l.lineTo(0,512),l.fill()}),d("triangle-down",l=>{l.beginPath(),l.moveTo(0,0),l.lineTo(256,512),l.lineTo(512,0),l.lineTo(0,0),l.fill()}),this.isInited=!0,i.debug.timeSetup&&console.timeEnd("gl setup"),!0}destroy(){let e=this.gl,s=this.shader,i=this.vbuffer;this.flush(),i&&i.destroy(),s&&s.destroy(),e&&(Qt(this.textureHandles,o=>{o.handle&&e.deleteTexture(o.handle)}),e.canvas.width=1,e.canvas.height=1)}}(function(t){t.setLength=function(e,s,i){return Array.isArray(e)?(e.length=s,e):e[i?"subarray":"slice"](0,s)},t.splice=function(e,s,i,o,n=[]){if(Array.isArray(e))return Array.isArray(n)||(n=Array.from(n)),{removed:e.splice(s,i,...n),array:e};let d=Object.getPrototypeOf(e).constructor,l=e[o?"subarray":"slice"](s,s+i),h=new d(e.length-i+n.length);return h.set(e.subarray(0,s),0),h.set(n,s),h.set(e.subarray(s+i),s+n.length),{removed:l,array:h}}})(we||(we={}));let{setLength:es,splice:Dt}=we,{fireEvent:xt,objectEach:lt,uniqueKey:Qe}=M(),ts=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||Qe(),this.modified=this,this.rowCount=0,this.versionTag=Qe();let e=0;lt(t.columns||{},(s,i)=>{this.columns[i]=s.slice(),e=Math.max(e,s.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,lt(this.columns,(e,s)=>{e.length!==t&&(this.columns[s]=es(e,t))})}deleteRows(t,e=1){if(e>0&&t<this.rowCount){let s=0;lt(this.columns,(i,o)=>{this.columns[o]=Dt(i,t,e).array,s=i.length}),this.rowCount=s}xt(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=Qe()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((s,i)=>(s[i]=this.columns[i],s),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(s=>this.columns[s]?.[t])}setColumn(t,e=[],s=0,i){this.setColumns({[t]:e},s,i)}setColumns(t,e,s){let i=this.rowCount;lt(t,(o,n)=>{this.columns[n]=o.slice(),i=o.length}),this.applyRowCount(i),s?.silent||(xt(this,"afterSetColumns"),this.versionTag=Qe())}setRow(t,e=this.rowCount,s,i){let{columns:o}=this,n=s?this.rowCount+1:e+1;lt(t,(d,l)=>{let h=o[l]||i?.addColumns!==!1&&Array(n);h&&(s?h=Dt(h,e,0,!0,[d]).array:h[e]=d,o[l]=h)}),n>this.rowCount&&this.applyRowCount(n),i?.silent||(xt(this,"afterSetRows"),this.versionTag=Qe())}},{getBoostClipRect:ss,isChartSeriesBoosting:nt}=De,{getOptions:Vt}=M(),{composed:is,doc:Bt,noop:Lt,win:It}=M(),{addEvent:Nt,destroyObjectProperties:os,error:Ot,extend:Ct,fireEvent:Pt,isArray:u,isNumber:a,pick:f,pushUnique:v,wrap:m,defined:P}=M();function y(t,e){let s=e.boost;t&&s&&s.target&&s.canvas&&!nt(e.chart)&&t.allocateBufferForSingleSeries(e)}function q(t){return f(t&&t.options&&t.options.boost&&t.options.boost.enabled,!0)}function xe(t,e){let s=t.constructor,i=t.seriesGroup||e.group,o=t.chartWidth,n=t.chartHeight,d=t,l=typeof SVGForeignObjectElement<"u",h=!1;nt(t)?d=t:(d=e,h=!!(e.options.events?.click||e.options.point?.events?.click));let r=d.boost=d.boost||{};if(l=!1,V||(V=Bt.createElement("canvas")),!r.target&&(r.canvas=V,t.renderer.forExport||!l?(d.renderTarget=r.target=t.renderer.image("",0,0,o,n).addClass("highcharts-boost-canvas").add(i),r.clear=function(){r.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},r.copy=function(){r.resize(),r.target.attr({href:r.canvas.toDataURL("image/png")})}):(r.targetFo=t.renderer.createElement("foreignObject").add(i),d.renderTarget=r.target=Bt.createElement("canvas"),r.targetCtx=r.target.getContext("2d"),r.targetFo.element.appendChild(r.target),r.clear=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height},r.copy=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height,r.targetCtx.drawImage(r.canvas,0,0)}),r.resize=function(){o=t.chartWidth,n=t.chartHeight,(r.targetFo||r.target).attr({x:0,y:0,width:o,height:n}).css({pointerEvents:h?void 0:"none",mixedBlendMode:"normal",opacity:1}).addClass(h?"highcharts-tracker":""),d instanceof s&&d.boost?.markerGroup?.translate(t.plotLeft,t.plotTop)},r.clipRect=t.renderer.clipRect(),(r.targetFo||r.target).attr({zIndex:e.options.zIndex}),d instanceof s&&(d.boost.markerGroup=d.renderer.g().add(i).translate(e.xAxis.pos,e.yAxis.pos))),r.canvas.width=o,r.canvas.height=n,r.clipRect){let b=ss(t,d);r.clipRect.attr(b),b.width===t.clipBox.width&&b.height===t.clipBox.height?i?.clip(t.renderer.clipRect(b.x-4,b.y,b.width+4,b.height+4)):(r.targetFo||r.target).clip(r.clipRect)}return r.resize(),r.clear(),!r.wgl&&(r.wgl=new Ze(b=>{b.settings.debug.timeBufferCopy&&console.time("buffer copy"),r.copy(),b.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),r.wgl.init(r.canvas)||Ot("[highcharts boost] - unable to init WebGL renderer"),r.wgl.setOptions(t.options.boost||{}),d instanceof s&&r.wgl.allocateBuffer(t)),r.wgl.setSize(o,n),r.wgl}function Re(t){let e=t.points;if(e){let s,i;for(i=0;i<e.length;i+=1)(s=e[i])&&s.destroyElements&&s.destroyElements()}for(let s of(["graph","area","tracker"].forEach(i=>{let o=t[i];o&&(t[i]=o.destroy())}),t.zones))os(s,void 0,!0)}function B(t,e,s,i,o,n){let d=(o=o||0)+(i=i||3e3),l=!0;for(;l&&o<d&&o<t.length;)l=e(t[o],o),++o;l&&(o<t.length?n?B(t,e,s,i,o,n):It.requestAnimationFrame?It.requestAnimationFrame(function(){B(t,e,s,i,o)}):setTimeout(B,0,t,e,s,i,o):s&&s())}function T(t,e){let s=t.options,i=t.dataTable.modified.rowCount,o=t.xAxis&&t.xAxis.options,n=t.yAxis&&t.yAxis.options,d=t.colorAxis&&t.colorAxis.options;return i>f(s.boostThreshold,Number.MAX_VALUE)&&a(n.min)&&a(n.max)&&(!e||a(o.min)&&a(o.max))&&(!d||a(d.min)&&a(d.max))}let L=(t,e)=>!t.forceCrop&&(nt(t.chart)||(e?e.length:0)>=f(t.options.boostThreshold,Number.MAX_VALUE));function _(){let t=this,e=t.chart;e.boost&&e.boost.markerGroup===t.markerGroup&&(t.markerGroup=void 0),e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(s){return s.series===t})),e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=void 0)}function E(){let t=this.boost;t&&t.canvas&&t.target&&(t.wgl&&t.wgl.clear(),t.clear&&t.clear())}function j(t){let e=t.boost;e&&e.canvas&&e.target&&e.wgl&&!nt(t.chart)&&e.wgl.render(t.chart)}function w(t,e){let s=t.options,i=t.xAxis,o=t.pointClass;if(e instanceof o)return e;let n=s.data,d=t.is("scatter"),l=(d&&t.getColumn("x",!0).length?t.getColumn("x",!0):void 0)||(t.getColumn("x").length?t.getColumn("x"):void 0)||s.xData||t.getColumn("x",!0)||!1,h=t.getColumn("y",!0)||s.yData||!1,r=e.i,b=n?.[r]?.color,c=new o(t,d&&l&&h?[l[r],h[r]]:(u(n)?n:[])[r],l?l[r]:void 0);if(d&&s?.keys?.length){let I=s.keys;for(let X=I.length-1;X>-1;X--)c[I[X]]=n[r][X]}return c.category=f(i.categories?i.categories[c.x]:c.x,c.x),c.key=c.name??c.category,c.dist=e.dist,c.distX=e.distX,c.plotX=e.plotX,c.plotY=e.plotY,c.index=r,c.percentage=e.percentage,c.isInside=t.isPointInside(c),b&&(c.color=b),c}function O(t){let{options:e,xAxis:s,yAxis:i}=this;if(!this.isDirty&&!s.isDirty&&!i.isDirty&&!t)return!1;this.yAxis.setTickInterval();let o=e.boostThreshold||0,n=e.cropThreshold,d=this.getColumn("x"),l=s.getExtremes(),h=l.max??Number.MAX_VALUE,r=l.min??-Number.MAX_VALUE,b=this.getColumn("y"),c=i.getExtremes(),I=c.max??Number.MAX_VALUE,X=c.min??-Number.MAX_VALUE;if(!this.boosted&&s.old&&i.old&&r>=(s.old.min??-Number.MAX_VALUE)&&h<=(s.old.max??Number.MAX_VALUE)&&X>=(i.old.min??-Number.MAX_VALUE)&&I<=(i.old.max??Number.MAX_VALUE))return this.dataTable.modified.setColumns({x:d,y:b}),!0;let se=this.dataTable.rowCount;if(!o||se<o||n&&!this.forceCrop&&!this.getExtremesFromAll&&!e.getExtremesFromAll&&se<n)return this.dataTable.modified.setColumns({x:d,y:b}),!0;let ie=[],oe=[],be=[],ye=!(a(l.max)||a(l.min)),ae=!(a(c.max)||a(c.min)),Pe=!1,Q,re=d[0],Ae=d[0],_e,ke=b?.[0],ue=b?.[0];for(let K=0,Be=d.length;K<Be;++K)Q=d[K],_e=b?.[K],Q>=r&&Q<=h&&_e>=X&&_e<=I?(ie.push({x:Q,y:_e}),oe.push(Q),be.push(_e),ye&&(re=Math.max(re,Q),Ae=Math.min(Ae,Q)),ae&&(ke=Math.max(ke,_e),ue=Math.min(ue,_e))):Pe=!0;return ye&&(s.dataMax=Math.max(re,s.dataMax||0),s.dataMin=Math.min(Ae,s.dataMin||0)),ae&&(i.dataMax=Math.max(ke,i.dataMax||0),i.dataMin=Math.min(ue,i.dataMin||0)),this.cropped=Pe,this.cropStart=0,Pe&&this.dataTable.modified===this.dataTable&&(this.dataTable.modified=new ts),this.dataTable.modified.setColumns({x:oe,y:be}),L(this,oe)||(this.processedData=ie),!0}function Je(){let t=this.options||{},e=this.chart,s=e.boost,i=this.boost,o=this.xAxis,n=this.yAxis,d=t.xData||this.getColumn("x",!0),l=t.yData||this.getColumn("y",!0),h=this.getColumn("low",!0),r=this.getColumn("high",!0),b=this.processedData||t.data,c=o.getExtremes(),I=c.min-(o.minPointOffset||0),X=c.max+(o.minPointOffset||0),se=n.getExtremes(),ie=se.min-(n.minPointOffset||0),oe=se.max+(n.minPointOffset||0),be={},ye=!!this.sampling,ae=t.enableMouseTracking,Pe=t.threshold,Q=this.pointArrayMap&&this.pointArrayMap.join(",")==="low,high",re=!!t.stacking,Ae=this.cropStart||0,_e=this.requireSorting,ke=!d,ue=t.findNearestPointBy==="x",K=(this.getColumn("x").length?this.getColumn("x"):void 0)||this.options.xData||this.getColumn("x",!0),Be=f(t.lineWidth,1),ut=t.nullInteraction&&ie,kt=e.tooltip,ht=!1,Tt,Fe=n.getThreshold(Pe),bt,Xe,$e,Le;if(!this.boosted||(this.points?.forEach(G=>{G?.destroyElements?.()}),this.points=[],kt&&!kt.isHidden?(e.hoverPoint?.series===this||e.hoverPoints?.some(G=>G.series===this))&&(e.hoverPoint=e.hoverPoints=void 0,kt.hide(0)):e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(G=>G.series!==this)),o.isPanning||n.isPanning)||(ht=xe(e,this),e.boosted=!0,!this.visible))return;(this.points||this.graph)&&Re(this),nt(e)?(this.markerGroup&&this.markerGroup!==s?.markerGroup&&this.markerGroup.destroy(),this.markerGroup=s?.markerGroup,i&&i.target&&(this.renderTarget=i.target=i.target.destroy())):(this.markerGroup===s?.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"));let ft=this.points=[],Ie=(G,pe,S,U)=>{let R=!!K&&K[Ae+S],ge=z=>{e.inverted&&(z=o.len-z,pe=n.len-pe),ft.push({destroy:Lt,x:R,clientX:z,plotX:z,plotY:pe,i:Ae+S,percentage:U})};G=Math.ceil(G),Y=ue?G:G+","+pe,ae&&(be[Y]?R===K[K.length-1]&&(ft.length--,ge(G)):(be[Y]=!0,ge(G)))};this.buildKDTree=Lt,Pt(this,"renderCanvas"),s&&i?.target&&Be>1&&this.is("line")&&(s.lineWidthFilter?.remove(),s.lineWidthFilter=e.renderer.definition({tagName:"filter",children:[{tagName:"feMorphology",attributes:{operator:"dilate",radius:.25*Be}}],attributes:{id:"linewidth"}}),i.target.attr({filter:"url(#linewidth)"})),ht&&(y(ht,this),ht.pushSeries(this),j(this));let et=ht.settings;e.renderer.forExport||(et.debug.timeKDTree&&console.time("kd tree building"),B(re?this.data.slice(Ae):d||b,function(G,pe){let S=e.index===void 0,U,R,ge,z,Te,Me=!1,tt=!0;return!P(G)||(!S&&(ke?(U=G[0],R=G[1]):(U=G,R=l[pe]??ut??null),Q?(ke&&(R=G.slice(1,3)),Me=h[pe],R=r[pe]):re&&(U=G.x,Me=(R=G.stackY)-G.y,Te=G.percentage),_e||(tt=(R||0)>=ie&&R<=oe),R!==null&&U>=I&&U<=X&&tt&&(ge=o.toPixels(U,!0),ye?(($e===void 0||ge===Tt)&&(Q||(Me=R),(Le===void 0||R>Xe)&&(Xe=R,Le=pe),($e===void 0||Me<bt)&&(bt=Me,$e=pe)),ue&&ge===Tt||($e!==void 0&&(z=n.toPixels(Xe,!0),Fe=n.toPixels(bt,!0),Ie(ge,z,Le,Te),Fe!==z&&Ie(ge,Fe,$e,Te)),$e=Le=void 0,Tt=ge)):Ie(ge,z=Math.ceil(n.toPixels(R,!0)),pe,Te))),!S)},()=>{Pt(this,"renderedCanvas"),delete this.buildKDTree,this.options&&this.buildKDTree(),et.debug.timeKDTree&&console.timeEnd("kd tree building")}))}function Ge(t){let e=!0;if(this.chart.options&&this.chart.options.boost&&(e=this.chart.options.boost.enabled===void 0||this.chart.options.boost.enabled),!e||!this.boosted)return t.call(this);this.chart.boosted=!0;let s=xe(this.chart,this);s&&(y(s,this),s.pushSeries(this)),j(this)}function Gt(t){if(this.boosted){if(T(this))return{};if(this.xAxis.isPanning||this.yAxis.isPanning)return this}return t.apply(this,[].slice.call(arguments,1))}function Ps(t){let e=this.options.data;if(q(this.chart)&&F[this.type]){let i=this.is("scatter")&&!this.is("bubble")&&!this.is("treemap")&&!this.is("heatmap");if(!L(this,e)||i||this.is("treemap")||this.options.stacking||!T(this,!0)){if(this.boosted&&(this.xAxis?.isPanning||this.yAxis?.isPanning))return;i&&this.yAxis.type!=="treegrid"?O.call(this,arguments[1]):t.apply(this,[].slice.call(arguments,1)),e=this.getColumn("x",!0)}if(this.boosted=L(this,e),this.boosted){let o;this.options.data?.length&&(a(o=this.getFirstValidPoint(this.options.data))||u(o)||this.is("treemap")||Ot(12,!1,this.chart));var s=this;s.boost=s.boost||{getPoint:d=>w(s,d)};let n=s.boost.altered=[];if(["allowDG","directTouch","stickyTracking"].forEach(d=>{n.push({prop:d,val:s[d],own:Object.hasOwnProperty.call(s,d)})}),s.allowDG=!1,s.directTouch=!1,s.stickyTracking=!0,s.finishedAnimating=!0,s.labelBySeries&&(s.labelBySeries=s.labelBySeries.destroy()),s.is("scatter")&&!s.is("treemap")&&s.data.length){for(let d of s.data)d?.destroy?.();s.data.length=0,s.points.length=0,delete s.processedData}}else(function(o){let n=o.boost,d=o.chart,l=d.boost;if(l?.markerGroup)for(let h of(l.markerGroup.destroy(),l.markerGroup=void 0,d.series))h.markerGroup=void 0,h.markerGroup=h.plotGroup("markerGroup","markers","visible",1,d.seriesGroup).addClass("highcharts-tracker");n&&((n.altered||[]).forEach(h=>{h.own?o[h.prop]=h.val:delete o[h.prop]}),n.clear&&n.clear()),(d.seriesGroup||o.group)?.clip()})(this)}else t.apply(this,[].slice.call(arguments,1))}function ks(t){let e=t.apply(this,[].slice.call(arguments,1));return this.boost&&e?this.boost.getPoint(e):e}let Ts={compose:function(t,e,s,i){if(v(is,"Boost.Series")){let o=Vt().plotOptions,n=t.prototype;if(Nt(t,"destroy",_),Nt(t,"hide",E),i&&(n.renderCanvas=Je),m(n,"getExtremes",Gt),m(n,"processData",Ps),m(n,"searchPoint",ks),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(d=>(function(l,h,r){function b(c){let I=this.options.stacking&&(r==="translate"||r==="generatePoints");this.boosted&&!I&&q(this.chart)&&this.type!=="heatmap"&&this.type!=="treemap"&&F[this.type]&&this.options.boostThreshold!==0?r==="render"&&this.renderCanvas&&this.renderCanvas():c.call(this)}if(m(l,r,b),r==="translate")for(let c of["column","arearange","columnrange","heatmap","treemap"])h[c]&&m(h[c].prototype,r,b)})(n,e,d)),m(s.prototype,"firePointEvent",function(d,l,h){if(l==="click"&&this.series.boosted){let r=h.point;if((r.dist||r.distX)>=(r.series.options.marker?.radius??10))return}return d.apply(this,[].slice.call(arguments,1))}),gt.forEach(d=>{let l=o[d];l&&(l.boostThreshold=5e3,l.boostData=[],e[d].prototype.fillOpacity=!0)}),i){let{area:d,areaspline:l,bubble:h,column:r,heatmap:b,scatter:c,treemap:I}=e;if(d&&Ct(d.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),l&&Ct(l.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),h){let X=h.prototype;delete X.buildKDTree,m(X,"markerAttribs",function(se){return!this.boosted&&se.apply(this,[].slice.call(arguments,1))})}r&&Ct(r.prototype,{fill:!0,sampling:!0}),c&&(c.prototype.fill=!0),[b,I].forEach(X=>{X&&m(X.prototype,"drawPoints",Ge)})}}return t},destroyGraphics:Re,eachAsync:B,getPoint:w},Ms={defaultHTMLColorMap:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{doc:Es,win:Ss}=M(),{addEvent:Us,error:Rs}=M(),ps=["webgl","experimental-webgl","moz-webgl","webkit-3d"];function gs(){let t;if(Ss.WebGLRenderingContext!==void 0){t=Es.createElement("canvas");for(let e=0;e<ps.length;++e)try{if(t.getContext(ps[e])!=null)return!0}catch{}}return!1}let ms={compose:function(t,e,s,i,o,n){let d=gs();d||(M().initCanvasBoost!==void 0?M().initCanvasBoost():Rs(26)),n&&!n.names.lightgoldenrodyellow&&(n.names={...n.names,...Ms.defaultHTMLColorMap}),De.compose(t,d),Ts.compose(s,i,o,d),Us(e,"setExtremes",function(l){for(let h of[this.chart,...this.series].map(r=>r.renderTarget).filter(Boolean)){let{horiz:r,pos:b}=this,c=r?"scaleX":"scaleY",I=r?"translateX":"translateY",X=h?.[c]??1,se=1,ie=0,oe=1,be="none";this.isPanning&&(se=(l.scale??1)*X,ie=(h?.[I]||0)-se*(l.move||0)+X*b-se*b,oe=.7,be="blur(3px)"),h?.attr({[c]:se,[I]:ie}).css({transition:"250ms filter, 250ms opacity",filter:be,opacity:oe})}})},hasWebGLSupport:gs},dt=M();dt.hasWebGLSupport=ms.hasWebGLSupport,ms.compose(dt.Chart,dt.Axis,dt.Series,dt.seriesTypes,dt.Point,dt.Color);let zs=M();return Oe.default})())})(Wt)),Wt.exports}Fs();const Xs={class:"chart-skeleton"},$s={class:"bg-decoration"},js={class:"skeleton-chart-wrapper"},Hs={class:"skeleton-y-axis"},Ys={class:"skeleton-chart-area"},Ws={class:"skeleton-grid"},qs={class:"data-points"},Ks={class:"skeleton-x-axis"},Zs=ws({__name:"ChartSkeleton",setup(qt){const Et=ve=>{const Y=Math.random()*4+2,V=Math.random()*100,we=Math.random()*5,Z=Math.random()*10+15;return{width:`${Y}px`,height:`${Y}px`,left:`${V}%`,animationDelay:`${we}s`,animationDuration:`${Z}s`}},We=ve=>{const Y=ve*12+Math.random()*8,V=Math.random()*70+10,we=ve*.2;return{left:`${Y}%`,top:`${V}%`,animationDelay:`${we}s`}};return(ve,Y)=>(N(),de("div",Xs,[p("div",$s,[(N(),de(He,null,Ye(20,V=>p("div",{class:"particle",key:V,style:Mt(Et())},null,4)),64))]),Y[3]||(Y[3]=Yt('<div class="skeleton-header" data-v-9b3f133d><div class="skeleton-bar title-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div><div class="skeleton-bar subtitle-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div></div>',1)),p("div",js,[p("div",Hs,[(N(),de(He,null,Ye(6,V=>p("div",{class:"skeleton-bar y-label",key:V,style:Mt({animationDelay:`${V*.1}s`})},[...Y[0]||(Y[0]=[p("div",{class:"shimmer"},null,-1)])],4)),64))]),p("div",Ys,[p("div",Ws,[(N(),de(He,null,Ye(6,V=>p("div",{class:"grid-line horizontal",key:"h"+V})),64)),(N(),de(He,null,Ye(12,V=>p("div",{class:"grid-line vertical",key:"v"+V})),64))]),Y[1]||(Y[1]=Yt('<div class="gradient-overlay" data-v-9b3f133d></div><svg class="skeleton-lines" viewBox="0 0 100 50" preserveAspectRatio="none" data-v-9b3f133d><defs data-v-9b3f133d><linearGradient id="lineGradient1" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#667eea;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#764ba2;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#667eea;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><linearGradient id="lineGradient2" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#f093fb;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#f5576c;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#f093fb;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><linearGradient id="lineGradient3" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#4facfe;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#00f2fe;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#4facfe;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><filter id="glow" data-v-9b3f133d><feGaussianBlur stdDeviation="2" result="coloredBlur" data-v-9b3f133d></feGaussianBlur><feMerge data-v-9b3f133d><feMergeNode in="coloredBlur" data-v-9b3f133d></feMergeNode><feMergeNode in="SourceGraphic" data-v-9b3f133d></feMergeNode></feMerge></filter></defs><path class="animated-line line-1" d="M0,40 Q25,30 50,25 T100,15" fill="none" stroke="url(#lineGradient1)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path><path class="animated-line line-2" d="M0,35 Q25,25 50,30 T100,20" fill="none" stroke="url(#lineGradient2)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path><path class="animated-line line-3" d="M0,30 Q25,35 50,35 T100,25" fill="none" stroke="url(#lineGradient3)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path></svg>',2)),p("div",qs,[(N(),de(He,null,Ye(8,V=>p("div",{class:"data-point",key:V,style:Mt(We(V))},null,4)),64))])]),p("div",Ks,[(N(),de(He,null,Ye(8,V=>p("div",{class:"skeleton-bar x-label",key:V,style:Mt({animationDelay:`${V*.08}s`})},[...Y[2]||(Y[2]=[p("div",{class:"shimmer"},null,-1)])],4)),64))])]),Y[4]||(Y[4]=Yt('<div class="skeleton-footer" data-v-9b3f133d><div class="skeleton-bar footer-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div></div><div class="loading-overlay" data-v-9b3f133d><div class="loading-spinner-container" data-v-9b3f133d><div class="loading-spinner" data-v-9b3f133d><div class="spinner-ring" data-v-9b3f133d></div><div class="spinner-ring" data-v-9b3f133d></div><div class="spinner-ring" data-v-9b3f133d></div></div></div><div class="loading-text" data-v-9b3f133d><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span> 数据加载中 <span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span></div><div class="loading-progress" data-v-9b3f133d><div class="progress-bar" data-v-9b3f133d></div></div></div>',2))]))}}),_s=Cs(Zs,[["__scopeId","data-v-9b3f133d"]]),Qs={class:"h-[90vh] flex flex-col bg-background text-slate-600 antialiased font-sans overflow-hidden"},Js={class:"flex-1 p-6 max-w-8xl mx-auto w-full overflow-y-auto"},ei={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap"}},ti={key:0},si={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap","margin-top":"10px"}},ii={style:{flex:"1","min-width":"100px","max-width":"200px"}},oi={style:{flex:"1","min-width":"100px","max-width":"300px"}},ai={style:{display:"flex",gap:"8px","align-items":"center"}},ri={key:1,style:{display:"flex",gap:"16px","align-items":"center"}},li={style:{"padding-top":"24px"}},ni={style:{display:"flex",gap:"8px","padding-top":"24px"}},di={style:{display:"flex","justify-content":"space-between","align-items":"center"}},ui={style:{"font-size":"16px","font-weight":"500"}},hi={key:0,style:{"font-size":"14px",color:"#666"}},fi={style:{"text-align":"center",color:"#666","font-size":"12px"}},ci={key:0,style:{padding:"20px"}},pi={style:{"margin-bottom":"20px"}},gi={style:{"text-align":"right"}},mi={key:1,style:{padding:"20px"}},vi={style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"4px"}},xi={style:{display:"flex",gap:"4px"}},bi={style:{"text-align":"right","margin-top":"20px"}},yi={style:{"text-align":"right"}},cs=50,Ai=ws({__name:"Charts",setup(qt){const Et=Bs(),We=()=>{Et.push("/home")},ve=D(!1),Y=()=>{ve.value=!0},V=D([]),we=D(!1),Z=D(""),ee=D(""),g=D("voltage"),Oe=D(!1),Ce=D(!1),M=D(null),gt=D(null);let F=null;const fe=D(0),W=D(void 0),ce=D(10),it=D(!1),ze=D(1),St=D([]),De=D([]),Se=D([]),Ve=D(1),mt=D(""),qe=D(null),Ut=D(null),ot=D(!1),_t=D(!1),Ke=D([]),at=D([]),Ue=D([]),vt=D(!1),te=D(new Set),Rt=At(()=>{switch(g.value){case"voltage":case"voltage_range":case"avg_voltage":return 0;case"pump_pressure":case"inlet_outlet_pressure":case"oxygen_hydrogen_outlet_pressure":case"pressure_difference":return 2;case"specific_gravity":return 3;case"oxygen_hydrogen_outlet_temp":return 1;case"oxygen_hydrogen_cross":return 2;case"hydrogen_flow_meter":return 2;default:return 2}}),Kt=At(()=>{const u=new Set;return V.value.forEach(a=>{a.machine_name&&u.add(a.machine_name)}),Array.from(u).sort((a,f)=>{const v=parseInt(a.split("#")[0].trim())||0,m=parseInt(f.split("#")[0].trim())||0;return v-m})}),Zt=At(()=>{if(!Z.value)return[];const u=new Set;return V.value.forEach(a=>{a.machine_name===Z.value&&a.machine_model&&u.add(a.machine_model)}),Array.from(u).sort((a,f)=>f.localeCompare(a))}),Qt=At(()=>!Z.value||!ee.value?"":`${Z.value} - ${ee.value}`),rt=At(()=>{if(!M.value)return"";const u=M.value[g.value];return u?g.value==="voltage"?`${Object.keys(u).length} 条曲线`:["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value)?"2 条曲线":"1 条曲线":""}),zt=At(()=>{if(!M.value)return 0;const u=M.value[g.value];if(!u)return 0;if(g.value==="voltage")return Object.values(u).reduce((a,f)=>f.x&&f.y?a+Math.min(f.x.length,f.y.length):a,0);if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value)){const a=u;let f=0;return Object.values(a).forEach(v=>{v.x&&v.y&&(f+=Math.min(v.x.length,v.y.length))}),f}else{const a=u;return a.x&&a.y?Math.min(a.x.length,a.y.length):0}}),Jt=async()=>{we.value=!0;try{const a=await(await fetch("/api/get/device_list")).json();a.status==="success"?V.value=a.data:$.error("加载设备列表失败")}catch(u){console.error("Error loading device list:",u),$.error("加载设备列表失败")}finally{we.value=!1}},wt=async()=>{if(!Z.value||!ee.value){$.warning("请先选择设备名称和型号");return}Oe.value=!0;try{const u=`/api/get/one_device/all_data?machine_name=${encodeURIComponent(Z.value)}&machine_model=${encodeURIComponent(ee.value)}`,f=await(await fetch(u)).json();if(f.status==="success"){M.value=f.data,Ce.value=!0;const v=f.data.voltage;if(v&&Object.keys(v).length>0){const m=Object.keys(v)[0],P=v[m];P.x&&P.t&&P.id&&(St.value=P.x.map((y,q)=>({x:y,t:P.t[q]})),De.value=P.x.map((y,q)=>({x:y,t:P.t[q],label:`小时数: ${y} (时间: ${P.t[q]})`,value:y}))),Ue.value=Object.keys(v)}ys(()=>{Pt()}),$.success("数据加载成功")}else $.error(`加载数据失败: ${f.detail||"未知错误"}`)}catch(u){console.error("Error loading chart data:",u),$.error("加载数据失败")}finally{Oe.value=!1}},Ze=()=>{Z.value?localStorage.setItem("cached_machine_name_optimized",Z.value):localStorage.removeItem("cached_machine_name_optimized"),ee.value="",localStorage.removeItem("cached_machine_model_optimized"),F&&(F.destroy(),F=null),Ce.value=!1,M.value=null,g.value="voltage",fe.value=0,W.value=void 0,ce.value=10,vt.value=!1},es=async()=>{ee.value?localStorage.setItem("cached_machine_model_optimized",ee.value):localStorage.removeItem("cached_machine_model_optimized"),F&&(F.destroy(),F=null),Ce.value=!1,M.value=null,g.value="voltage",fe.value=0,W.value=void 0,ce.value=10,vt.value=!1,ee.value&&(await ys(),wt())},Dt=()=>{fe.value=0,W.value=void 0,ce.value=10,Pt()},xt=()=>{if(!M.value)return 0;const u=M.value[g.value];if(!u)return 0;let a=0;if(g.value==="voltage")Object.values(u).forEach(f=>{if(f.y&&f.y.length>0){const v=f.y.filter(m=>m!=null);if(v.length>0){const m=Math.max(...v);m>a&&(a=m)}}});else if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value))Object.values(u).forEach(v=>{if(v.y&&v.y.length>0){const m=v.y.filter(P=>P!=null);if(m.length>0){const P=Math.max(...m);P>a&&(a=P)}}});else{const f=u;if(f.y&&f.y.length>0){const v=f.y.filter(m=>m!=null);v.length>0&&(a=Math.max(...v))}}return a},lt=()=>{const u=xt();fe.value=0,W.value=u*1.1,ce.value=Math.ceil(u*.05),F&&F.yAxis&&F.yAxis[0]&&F.yAxis[0].update({min:0,max:u*1.1},!0)},Qe=()=>{F&&F.yAxis&&F.yAxis[0]&&F.yAxis[0].update({min:fe.value,max:W.value||void 0},!0)},ts=async()=>{if(!Z.value||!ee.value){$.warning("请先选择设备名称和型号");return}fs.prompt("请输入新的设备型号","修改设备型号",{confirmButtonText:"下一步",cancelButtonText:"取消",inputPattern:/^.+$/,inputErrorMessage:"设备型号不能为空",inputPlaceholder:"请输入新的设备型号"}).then(({value:u})=>{if(!u||u.trim()===""){$.warning("设备型号不能为空");return}const a=u.trim();fs.confirm(`<div style="line-height: 1.8;">
          <p style="margin-bottom: 12px;"><strong>请确认以下修改信息：</strong></p>
          <p>设备名称：<span style="color: #409EFF; font-weight: 500;">${Z.value}</span></p>
          <p>原设备型号：<span style="color: #E6A23C; font-weight: 500;">${ee.value}</span></p>
          <p>新设备型号：<span style="color: #67C23A; font-weight: 500;">${a}</span></p>
          <p style="margin-top: 12px; padding: 8px; background-color: #FEF0F0; border-left: 4px solid #F56C6C; color: #F56C6C;">
            <strong>⚠️ 警告：</strong>此操作将修改数据库中的所有相关数据，一旦修改无法撤回！
          </p>
        </div>`,"确认修改设备型号",{confirmButtonText:"确定修改",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,confirmButtonClass:"el-button--danger"}).then(async()=>{await Ct(Z.value,ee.value,a)}).catch(()=>{$.info("已取消修改")})}).catch(()=>{$.info("已取消修改")})},ss=()=>{it.value=!0,ze.value=1,qe.value=null,Ut.value=null,at.value=[],mt.value="",Ve.value=1,te.value=new Set,Se.value=[]},nt=u=>{u&&(mt.value="",Ve.value=1,Vt())},Vt=()=>{const u=(Ve.value-1)*cs,a=u+cs,f=De.value.slice(u,a);Ve.value===1?Se.value=f:Se.value=[...Se.value,...f],Ve.value++},is=u=>{if(mt.value=u,u==="")Ve.value=1,Se.value=De.value.slice(0,cs),Ve.value=2;else{const a=De.value.filter(f=>f.x.toString().includes(u));Se.value=a}},Bt=u=>{const a=St.value.find(f=>f.x===u);a&&(Ut.value=a.t)},Lt=u=>{te.value.has(u)?te.value.delete(u):te.value.add(u),te.value=new Set(te.value)},It=u=>{fs.prompt("请输入要修改的值（将应用到该列所有单元格）","一键修改",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^-?\d+$/,inputErrorMessage:"请输入有效的整数",inputPlaceholder:"请输入数值"}).then(({value:a})=>{if(a===null||a===""){$.warning("输入值不能为空");return}const f=parseInt(a);if(isNaN(f)){$.error("请输入有效的数值");return}at.value.forEach(v=>{v.values[u]=f}),$.success(`已将 ID ${Ke.value[u]} 列的所有值修改为 ${f}`)}).catch(()=>{})},Nt=async()=>{if(!(qe.value===null||!M.value)){ot.value=!0;try{const u=M.value.voltage,a=Object.keys(u)[0],f=u[a],v=f.x.findIndex(q=>q===qe.value);if(v===-1){$.error("未找到对应的数据"),ot.value=!1;return}const m=f.id[v],y=await(await fetch("/api/get/raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:m,cells:Ue.value})})).json();y.status==="success"?(Ke.value=m,at.value=y.data.map(q=>({cell:q.cell,values:q.values})),ze.value=2):$.error(`加载数据失败: ${y.detail||"未知错误"}`)}catch(u){console.error("Error loading raw data:",u),$.error("加载数据失败")}finally{ot.value=!1}}},os=async()=>{_t.value=!0;try{const u=[],a=[];te.value.forEach(m=>{a.push(Ke.value[m])}),at.value.forEach(m=>{m.values.forEach((P,y)=>{te.value.has(y)||u.push({id:Ke.value[y],cell:m.cell,value:P})})});const v=await(await fetch("/api/get/update_raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:u,deletes:a})})).json();if(v.status==="success"){const m=[];v.updated_count>0&&m.push(`更新 ${v.updated_count} 条数据`),v.deleted_count>0&&m.push(`删除 ${v.deleted_count} 条数据`),$.success(`操作成功！${m.join("，")}`),it.value=!1,vt.value=!0}else $.error(`更新失败: ${v.detail||"未知错误"}`)}catch(u){console.error("Error saving raw data:",u),$.error("更新失败")}finally{_t.value=!1}},Ot=()=>{window.location.reload()},Ct=async(u,a,f)=>{const v=$({message:"正在更新数据库...",type:"info",duration:0});try{const P=await(await fetch("/api/get/update/machine_model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_name:u,old_machine_model:a,new_machine_model:f})})).json();P.status==="success"?($.success(`修改成功！共更新 ${P.updated_count} 条数据`),ee.value=f,localStorage.setItem("cached_machine_model_optimized",f),setTimeout(()=>{window.location.reload()},1500)):$.error(`修改失败: ${P.detail||"未知错误"}`)}catch(m){console.error("Error updating machine model:",m),$.error("修改失败，请检查网络连接")}finally{v.close()}},Pt=()=>{if(!gt.value||!M.value)return;const u=M.value[g.value];if(!u)return;F&&F.destroy();const a=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#EFC94C","#17BECF","#4C72B0","#DD8452","#55A868","#C44E52","#8172B3","#937860","#64B5CD","#E99675","#97BBCD","#B5BD89","#FF6F61","#6A5ACD"];let f=[],v="",m="",P,y,q=0;const xe=(B,T,L)=>{if(B.x&&B.y){f=[{type:"line",name:T,data:B.x.map((E,j)=>({x:E,y:B.y[j],t:B.t?B.t[j]:void 0})),color:L,marker:{enabled:!1},connectNulls:!0}];const _=B.y.filter(E=>E!=null);if(_.length>0){const E=Math.max(..._),j=E*.1;P=0,y=E+j,W.value===void 0?(fe.value=0,W.value=y,ce.value=Math.ceil(y*.05)):(P=fe.value,y=W.value)}B.x.length>0&&(q=Math.max(...B.x)*1.2)}},Re=(B,T)=>{const L=[],_=[];if(T.forEach(({key:E,name:j,color:w})=>{const O=B[E];if(O&&O.x&&O.y){L.push({type:"line",name:j,data:O.x.map((Ge,Gt)=>({x:Ge,y:O.y[Gt],t:O.t?O.t[Gt]:void 0})),color:w,marker:{enabled:!1},connectNulls:!0});const Je=O.y.filter(Ge=>Ge!=null);_.push(...Je),O.x.length>0&&q===0&&(q=Math.max(...O.x)*1.2)}}),f=L,_.length>0){const E=Math.max(..._),j=E*.1;P=0,y=E+j,W.value===void 0?(fe.value=0,W.value=y,ce.value=Math.ceil(y*.05)):(P=fe.value,y=W.value)}};if(g.value==="voltage"){f=Object.entries(u).map(([L,_],E)=>({type:"line",name:L,data:_.x.map((j,w)=>({x:j,y:_.y[w],t:_.t?_.t[w]:void 0})),color:a[E%a.length],marker:{enabled:!1},connectNulls:!0})),v="电压 (mV)",m="小室电压";const B=xt()*1.1;P=0,y=B,W.value===void 0?(fe.value=0,W.value=B,ce.value=Math.ceil(B*.05)):(P=fe.value,y=W.value);const T=f[0];if(T&&"data"in T&&Array.isArray(T.data)&&T.data.length>0){const L=T.data.map(E=>E.x);q=Math.max(...L)*1.2}}else g.value==="voltage_range"?(xe(u,"极差","#7cb5ec"),v="极差 (mV)",m="小室极差"):g.value==="avg_voltage"?(xe(u,"平均电压","#FF7F0E"),v="小室平均电压 (mV)",m="小室电压平均值"):g.value==="pump_pressure"?(xe(u,"泵后压力","#2CA02C"),v="泵压 (Bar)",m="泵后压力"):g.value==="specific_gravity"?(xe(u,"碱液比重","#D62728"),v="比重 (mg/cm³)",m="碱液比重"):g.value==="hydrogen_flow_meter"?(xe(u,"Hydrogen Flow","#9467BD"),v="氢流量(L/min)",m="氢气流量"):g.value==="pressure_difference"?(xe(u,"Pressure Difference","#E74C3C"),v="压力差 (Bar)",m="电解槽进出口压差"):g.value==="inlet_outlet_pressure"?(Re(u,[{key:"inlet_pressure",name:"进槽压力",color:"#1F77B4"},{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#FF7F0E"}]),v="压差 (Bar)",m="电解槽进出槽压力"):g.value==="oxygen_hydrogen_outlet_pressure"?(Re(u,[{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#2CA02C"},{key:"hydrogen_outlet_pressure",name:"氢侧出槽压力",color:"#D62728"}]),v="压差 (Bar)",m="电解槽氢氧侧出槽压力"):g.value==="oxygen_hydrogen_outlet_temp"?(Re(u,[{key:"oxygen_outlet_temp",name:"氧侧出槽温度",color:"#FF7F0E"},{key:"hydrogen_outlet_temp",name:"氢气出槽温度",color:"#9467BD"}]),v="温度 (°C)",m="电解槽氢氧侧出槽温度"):g.value==="oxygen_hydrogen_cross"&&(Re(u,[{key:"oxygen_in_hydrogen",name:"氧中氢",color:"#17BECF"},{key:"hydrogen_in_oxygen",name:"氢中氧",color:"#8C564B"}]),v="含量 (ppm)",m="氧中氢/氢中氧");F=Os.chart(gt.value,{accessibility:{enabled:!1},boost:{useGPUTranslations:!0,seriesThreshold:1},chart:{type:"line",zooming:{type:"x"},panning:{enabled:!0,type:"x"},animation:!1,panKey:"shift"},title:{text:m},xAxis:{title:{text:"时间 (小时)"},crosshair:{color:"#c50404",width:1,dashStyle:"Solid",zIndex:5},max:q},yAxis:{title:{text:v},crosshair:!1,min:P,max:y,startOnTick:!1,endOnTick:!1},legend:{enabled:["voltage","inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value),layout:"horizontal",align:"center",verticalAlign:"bottom",maxHeight:80},tooltip:{shared:!0,useHTML:!0,animation:!1,positioner:function(B,T,L){const _=this.chart;let E=L.plotX+_.plotLeft+10,j=L.plotY+_.plotTop-T/2;return E+B>_.plotWidth+_.plotLeft&&(E=L.plotX+_.plotLeft-B-10),j<_.plotTop&&(j=_.plotTop),j+T>_.plotTop+_.plotHeight&&(j=_.plotTop+_.plotHeight-T),{x:E,y:j}},formatter:function(){const B=this.x;let T='<div style="font-size: 14px;">';if(T+='<div style="text-align: center; font-weight: 500; margin-bottom: 8px; padding-bottom: 4px; border-bottom: 1px solid #eee;">',T+=`时间: <span style="color: #409EFF">${B.toFixed(0)}</span> 小时`,this.points&&this.points.length>0&&this.points[0].options.t&&(T+=`<br><span style="font-size: 12px; color: #909399;">${this.points[0].options.t}</span>`),T+="</div>",this.points){let L="",_=2;g.value==="voltage"||g.value==="voltage_range"||g.value==="avg_voltage"?(L="mV",_=0):g.value==="pump_pressure"||g.value==="inlet_outlet_pressure"||g.value==="oxygen_hydrogen_outlet_pressure"||g.value==="pressure_difference"?(L="Mpa",_=2):g.value==="specific_gravity"?(L="mg/cm³",_=3):g.value==="oxygen_hydrogen_outlet_temp"?(L="℃",_=1):g.value==="oxygen_hydrogen_cross"?(L="ppm",_=2):g.value==="hydrogen_flow_meter"&&(L="L/min",_=2),this.points.forEach(E=>{T+='<div style="margin: 4px 0; display: flex; align-items: center; justify-content: space-between;">',T+='<span style="display: flex; align-items: center;">',T+=`<span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color: ${E.series.color}; margin-right: 8px;"></span>`,T+=`<span style="font-weight: 500;">${E.series.name}</span>`,T+="</span>",T+=`<span style="font-weight: bold; color: ${E.series.color};">&nbsp;${Number(E.y).toFixed(_)}${L?" "+L:""}</span>`,T+="</div>"})}return T+="</div>",T}},plotOptions:{line:{animation:!1,marker:{enabled:!1},states:{hover:{enabled:!1,lineWidth:4}}}},series:f,credits:{enabled:!1},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{enabled:!1}}}]}})};return Ds(async()=>{await Jt();const u=localStorage.getItem("cached_machine_name_optimized"),a=localStorage.getItem("cached_machine_model_optimized");if(u&&a){const f=V.value.some(m=>m.machine_name===u),v=V.value.some(m=>m.machine_name===u&&m.machine_model===a);f&&v&&(Z.value=u,ee.value=a,await wt())}}),Vs(()=>{F&&F.destroy()}),(u,a)=>{const f=me("el-radio-button"),v=me("el-radio-group"),m=me("el-option"),P=me("el-select"),y=me("el-button"),q=me("el-divider"),xe=me("el-input-number"),Re=me("el-card"),B=me("el-empty"),T=me("el-select-v2"),L=me("el-table-column"),_=me("el-tooltip"),E=me("el-table"),j=me("el-dialog");return N(),de("div",Qs,[p("nav",{class:"bg-surface sticky top-0 z-50 border-b border-slate-200 px-6 py-4 shadow-sm backdrop-blur-md bg-white/90"},[p("div",{class:"max-w-8xl mx-auto flex justify-between items-center"},[a[12]||(a[12]=Yt('<div class="flex items-center gap-3" data-v-344e4d71><div class="w-10 h-10 bg-blue-600 text-white rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/30" data-v-344e4d71><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-344e4d71><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" data-v-344e4d71></path></svg></div><div data-v-344e4d71><h1 class="text-xl font-bold text-slate-800 tracking-tight" data-v-344e4d71>历史数据分析</h1><p class="text-xs text-slate-500 font-medium" data-v-344e4d71>电解槽多维度数据图表</p></div></div>',1)),p("div",{class:"flex items-center gap-3"},[p("button",{class:"bg-slate-100 border border-slate-200 text-slate-600 hover:bg-slate-200 px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-all active:scale-95 flex items-center gap-2",onClick:Y},[...a[11]||(a[11]=[p("span",null,"📖",-1),p("span",null,"使用说明",-1)])]),p("button",{class:"bg-white border border-slate-200 text-slate-600 hover:text-blue-600 hover:border-blue-200 px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-all active:scale-95",onClick:We}," 返回首页 ")])])]),p("main",Js,[C(Re,{style:{"margin-bottom":"20px"}},{default:A(()=>[p("div",ei,[Ce.value?(N(),de("div",ti,[C(v,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=w=>g.value=w),onChange:Dt,size:"large"},{default:A(()=>[C(f,{label:"voltage"},{default:A(()=>[...a[13]||(a[13]=[J("小室电压",-1)])]),_:1}),C(f,{label:"avg_voltage"},{default:A(()=>[...a[14]||(a[14]=[J("小室电压平均值",-1)])]),_:1}),C(f,{label:"voltage_range"},{default:A(()=>[...a[15]||(a[15]=[J("小室极差",-1)])]),_:1}),C(f,{label:"pump_pressure"},{default:A(()=>[...a[16]||(a[16]=[J("泵后压力",-1)])]),_:1}),C(f,{label:"specific_gravity"},{default:A(()=>[...a[17]||(a[17]=[J("碱液比重",-1)])]),_:1}),C(f,{label:"hydrogen_flow_meter"},{default:A(()=>[...a[18]||(a[18]=[J("氢气流量",-1)])]),_:1}),C(f,{label:"inlet_outlet_pressure"},{default:A(()=>[...a[19]||(a[19]=[J("电解槽进出槽压力",-1)])]),_:1}),C(f,{label:"pressure_difference"},{default:A(()=>[...a[20]||(a[20]=[J("电解槽进出口压差",-1)])]),_:1}),C(f,{label:"oxygen_hydrogen_outlet_pressure"},{default:A(()=>[...a[21]||(a[21]=[J("电解槽氢氧侧出槽压力",-1)])]),_:1}),C(f,{label:"oxygen_hydrogen_outlet_temp"},{default:A(()=>[...a[22]||(a[22]=[J("电解槽氢氧侧出槽温度",-1)])]),_:1}),C(f,{label:"oxygen_hydrogen_cross"},{default:A(()=>[...a[23]||(a[23]=[J("氧中氢/氢中氧",-1)])]),_:1})]),_:1},8,["modelValue"])])):Ee("",!0)]),p("div",si,[p("div",ii,[a[24]||(a[24]=p("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备名称 (Machine Name)",-1)),C(P,{modelValue:Z.value,"onUpdate:modelValue":a[1]||(a[1]=w=>Z.value=w),placeholder:"请选择设备名称",filterable:"",clearable:"",style:{width:"100%"},loading:we.value,onChange:Ze},{default:A(()=>[(N(!0),de(He,null,Ye(Kt.value,w=>(N(),je(m,{key:w,label:w,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),p("div",oi,[a[26]||(a[26]=p("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备型号 (Machine Model)",-1)),p("div",ai,[C(P,{modelValue:ee.value,"onUpdate:modelValue":a[2]||(a[2]=w=>ee.value=w),placeholder:"请选择设备型号",filterable:"",clearable:"",style:{flex:"1"},loading:we.value,disabled:!Z.value,onChange:es},{default:A(()=>[(N(!0),de(He,null,Ye(Zt.value,w=>(N(),je(m,{key:w,label:w,value:w},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","disabled"]),C(y,{type:"warning",plain:"",disabled:!Z.value||!ee.value,onClick:ts,style:{"white-space":"nowrap"}},{default:A(()=>[...a[25]||(a[25]=[J(" 修改设备型号 ",-1)])]),_:1},8,["disabled"])])]),Ce.value?(N(),je(q,{key:0,direction:"vertical",style:{height:"50px",margin:"0 8px"}})):Ee("",!0),Ce.value?(N(),de("div",ri,[p("div",null,[a[27]||(a[27]=p("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最小值 (Y Min)",-1)),C(xe,{modelValue:fe.value,"onUpdate:modelValue":a[3]||(a[3]=w=>fe.value=w),step:ce.value,min:0,placeholder:"0",style:{width:"150px"},onChange:Qe,precision:Rt.value},null,8,["modelValue","step","precision"])]),p("div",null,[a[28]||(a[28]=p("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最大值 (Y Max)",-1)),C(xe,{modelValue:W.value,"onUpdate:modelValue":a[4]||(a[4]=w=>W.value=w),step:ce.value,min:0,placeholder:"自适应",style:{width:"150px"},onChange:Qe,precision:Rt.value},null,8,["modelValue","step","precision"])]),p("div",li,[C(y,{onClick:lt,type:"primary"},{default:A(()=>[...a[29]||(a[29]=[J("自动适配",-1)])]),_:1})])])):Ee("",!0),C(q,{direction:"vertical",style:{height:"50px",margin:"0 8px"}}),p("div",ni,[C(y,{type:"primary",plain:"",onClick:ss,disabled:!Ce.value},{default:A(()=>[...a[30]||(a[30]=[J(" 修改原始数据 ",-1)])]),_:1},8,["disabled"]),vt.value?(N(),je(y,{key:0,type:"success",onClick:Ot},{default:A(()=>[...a[31]||(a[31]=[J(" 刷新页面 ",-1)])]),_:1})):Ee("",!0)])])]),_:1}),Ce.value?(N(),je(Re,{key:0},{header:A(()=>[p("div",di,[p("div",ui,pt(g.value==="voltage"?"小室电压":g.value==="voltage_range"?"小室极差":g.value==="avg_voltage"?"小室电压平均值":g.value==="pump_pressure"?"泵后压力":g.value==="specific_gravity"?"碱液比重":g.value==="hydrogen_flow_meter"?"氢气流量":g.value==="inlet_outlet_pressure"?"电解槽进出槽压力":g.value==="oxygen_hydrogen_outlet_pressure"?"电解槽氢氧侧出槽压力":g.value==="oxygen_hydrogen_outlet_temp"?"电解槽氢氧侧出槽温度":g.value==="oxygen_hydrogen_cross"?"氧中氢/氢中氧":"电解槽进出口压差"),1),rt.value?(N(),de("div",hi,pt(rt.value),1)):Ee("",!0)])]),footer:A(()=>[p("div",fi," 渲染模式: Boost 高性能模式 | 设备: "+pt(Qt.value)+" | 数据点: "+pt(zt.value),1)]),default:A(()=>[Oe.value?(N(),je(_s,{key:0})):Ee("",!0),Ls(p("div",{ref_key:"chartContainer",ref:gt,style:{width:"100%",height:"600px"}},null,512),[[Is,!Oe.value]])]),_:1})):Ee("",!0),!Ce.value&&Oe.value?(N(),je(Re,{key:1},{header:A(()=>[...a[32]||(a[32]=[p("div",{style:{"font-size":"16px","font-weight":"500"}},"加载中...",-1)])]),default:A(()=>[C(_s)]),_:1})):Ee("",!0),!Ce.value&&!Oe.value?(N(),je(B,{key:2,description:"请选择设备名称和型号","image-size":200})):Ee("",!0),C(j,{modelValue:it.value,"onUpdate:modelValue":a[8]||(a[8]=w=>it.value=w),title:"修改原始数据",width:ze.value===1?"30%":"80%","close-on-click-modal":!1},{default:A(()=>[ze.value===1?(N(),de("div",ci,[a[36]||(a[36]=p("h3",{style:{"margin-bottom":"16px"}},"步骤 1: 选择时间点",-1)),p("div",pi,[a[33]||(a[33]=p("div",{style:{"margin-bottom":"8px","font-weight":"500"}},"选择时间点：",-1)),C(T,{modelValue:qe.value,"onUpdate:modelValue":a[5]||(a[5]=w=>qe.value=w),placeholder:"请选择时间点（支持搜索）",filterable:"",remote:"","remote-method":is,options:Se.value,style:{width:"100%"},onChange:Bt,onVisibleChange:nt},{footer:A(()=>[Se.value.length<De.value.length&&mt.value===""?(N(),de("div",{key:0,onClick:Vt,class:"load-more-trigger"}," 点击加载更多 (已加载 "+pt(Se.value.length)+" / "+pt(De.value.length)+") ",1)):Ee("",!0)]),_:1},8,["modelValue","options"])]),p("div",gi,[C(y,{onClick:a[6]||(a[6]=w=>it.value=!1)},{default:A(()=>[...a[34]||(a[34]=[J("取消",-1)])]),_:1}),C(y,{type:"primary",onClick:Nt,disabled:qe.value===null,loading:ot.value},{default:A(()=>[...a[35]||(a[35]=[J(" 下一步 ",-1)])]),_:1},8,["disabled","loading"])])])):Ee("",!0),ze.value===2?(N(),de("div",mi,[a[39]||(a[39]=p("h3",{style:{"margin-bottom":"16px"}},"步骤 2: 编辑数据",-1)),C(E,{data:at.value,border:"",stripe:"",style:{width:"100%"},"max-height":"500"},{default:A(()=>[C(L,{prop:"cell",label:"Cell",width:"100",fixed:""}),(N(!0),de(He,null,Ye(Ke.value,(w,O)=>(N(),je(L,{key:w,width:"180px","class-name":te.value.has(O)?"deleted-column":""},{header:A(()=>[p("div",vi,[p("span",{style:Mt(te.value.has(O)?"text-decoration: line-through; color: #999;":"")}," ID: "+pt(w),5),p("div",xi,[C(_,{content:"一键修改该列所有值",placement:"top"},{default:A(()=>[C(y,{type:"primary",icon:"Edit",size:"small",circle:"",onClick:Je=>It(O),disabled:te.value.has(O)},null,8,["onClick","disabled"])]),_:2},1024),C(_,{content:te.value.has(O)?"恢复该列":"删除该列",placement:"top"},{default:A(()=>[C(y,{type:te.value.has(O)?"success":"danger",icon:te.value.has(O)?"RefreshLeft":"Delete",size:"small",circle:"",onClick:Je=>Lt(O)},null,8,["type","icon","onClick"])]),_:2},1032,["content"])])])]),default:A(Je=>[C(xe,{modelValue:Je.row.values[O],"onUpdate:modelValue":Ge=>Je.row.values[O]=Ge,precision:0,step:10,style:{width:"100%"},disabled:te.value.has(O),class:Ns(te.value.has(O)?"deleted-input":"")},null,8,["modelValue","onUpdate:modelValue","disabled","class"])]),_:2},1032,["class-name"]))),128))]),_:1},8,["data"]),p("div",bi,[C(y,{onClick:a[7]||(a[7]=w=>ze.value=1)},{default:A(()=>[...a[37]||(a[37]=[J("返回",-1)])]),_:1}),C(y,{type:"primary",onClick:os,loading:_t.value},{default:A(()=>[...a[38]||(a[38]=[J("确认更新",-1)])]),_:1},8,["loading"])])])):Ee("",!0)]),_:1},8,["modelValue","width"]),C(j,{modelValue:ve.value,"onUpdate:modelValue":a[10]||(a[10]=w=>ve.value=w),title:"使用说明",width:"600px","close-on-click-modal":!1},{footer:A(()=>[p("div",yi,[C(y,{type:"primary",onClick:a[9]||(a[9]=w=>ve.value=!1)},{default:A(()=>[...a[40]||(a[40]=[J("知道了",-1)])]),_:1})])]),default:A(()=>[a[41]||(a[41]=p("div",{style:{"line-height":"1.8",padding:"0 20px"}},[p("h4",{style:{margin:"16px 0 12px 0",color:"#409EFF","font-size":"16px"}},"📊 图表说明"),p("p",{style:{margin:"8px 0","font-weight":"600",color:"#303133"}},"📈 简要说明:"),p("ul",{style:{margin:"4px 0 16px 20px",color:"#606266"}},[p("li",{style:{margin:"4px 0"}},"可自定义Y轴范围或自动适配"),p("li",{style:{margin:"4px 0"}},"自动过滤小室电压小于1680的时间点"),p("li",{style:{margin:"4px 0"}},"所有图表的时间点对齐"),p("li",{style:{margin:"4px 0"}},"所有数据均为平均值(每小时),向下取整"),p("li",{style:{margin:"4px 0"}},"X轴扩充为最大时间的1.2倍"),p("li",{style:{margin:"4px 0"}},"修改原始数据目前仅支持修改小室电压")]),p("p",{style:{margin:"8px 0","font-weight":"600",color:"#303133"}},"💡 操作提示:"),p("ul",{style:{margin:"4px 0 16px 20px",color:"#606266"}},[p("li",{style:{margin:"4px 0"}},"支持X轴缩放,鼠标选中区域就可以放大图表"),p("li",{style:{margin:"4px 0"}},"按住Shift+拖拽:平移图表")])],-1))]),_:1},8,["modelValue"])])])}}}),Ti=Cs(Ai,[["__scopeId","data-v-344e4d71"]]);export{Ti as default};
