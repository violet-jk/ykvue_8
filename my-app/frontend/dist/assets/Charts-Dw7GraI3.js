import{d as Si,r as V,b as gt,m as Ui,X as Ri,I as Ve,o as J,J as A,al as he,n as gi,a as b,R as C,L as we,O as $,c as Xe,a6 as oi,Q as ri,K as zi,S as Di,P as at,az as Li,E as Vi,D as Bi}from"./vue-CGKoAhY9.js";import{H as Ii,C as xi}from"./ChartSkeleton-BlK_jkTK.js";import{E as G,b as ai}from"./element-plus-CF0txsad.js";import{_ as Ni}from"./index-5WF7m1qL.js";import"./highcharts-DSb220Oi.js";var Ft={exports:{}},Oi=Ft.exports,vi;function Fi(){return vi||(vi=1,(function(ni,ui){(function(lt,Be){ni.exports=Be(lt._Highcharts,lt._Highcharts.Color)})(typeof window>"u"?Oi:window,(lt,Be)=>(()=>{let je,Y;var W,g={620:t=>{t.exports=Be},944:t=>{t.exports=lt}},Ie={};function F(t){var e=Ie[t];if(e!==void 0)return e.exports;var i=Ie[t]={exports:{}};return g[t](i,i.exports,F),i.exports}F.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return F.d(e,{a:e}),e},F.d=(t,e)=>{for(var i in e)F.o(e,i)&&!F.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},F.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var le={};F.d(le,{default:()=>Ei});var xt=F(944),P=F.n(xt);let ne=["area","areaspline","arearange","column","columnrange","bar","line","scatter","heatmap","bubble","treemap"],j={};ne.forEach(t=>{j[t]=!0});let{composed:Te}=P(),{addEvent:Se,pick:ve,pushUnique:Pt}=P();function Ue(t){let e=t.series,i=t.boost=t.boost||{},s=t.options.boost||{},o=ve(s.seriesThreshold,50);if(e.length>=o)return!0;if(e.length===1)return!1;let n=s.allowForce;if(n===void 0){for(let r of(n=!0,t.xAxis))if(ve(r.min,-1/0)>ve(r.dataMin,-1/0)||ve(r.max,1/0)<ve(r.dataMax,1/0)){n=!1;break}}if(i.forceChartBoost!==void 0){if(n)return i.forceChartBoost;i.forceChartBoost=void 0}let u=0,l=0,h;for(let r of e)(h=r.options).boostThreshold!==0&&r.visible!==!1&&r.type!=="heatmap"&&(j[r.type]&&++u,(function(...v){let p=-Number.MAX_VALUE;return v.forEach(B=>{if(B!=null&&B.length!==void 0&&B.length>0)return p=B.length,!0}),p})(r.getColumn("x",!0),h.data,r.points)>=(h.boostThreshold||Number.MAX_VALUE)&&++l);return i.forceChartBoost=n&&(u===e.length&&l===u||l>5),i.forceChartBoost}function ke(t){function e(){t.boost&&t.boost.wgl&&Ue(t)&&t.boost.wgl.render(t)}Se(t,"predraw",function(){t.boost=t.boost||{},t.boost.forceChartBoost=void 0,t.boosted=!1,t.axes.some(o=>o.isPanning)||t.boost.clear?.(),t.boost.canvas&&t.boost.wgl&&Ue(t)&&t.boost.wgl.allocateBuffer(t),t.boost.markerGroup&&t.xAxis&&t.xAxis.length>0&&t.yAxis&&t.yAxis.length>0&&t.boost.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),Se(t,"load",e,{order:-1}),Se(t,"redraw",e);let i=-1,s=-1;Se(t.pointer,"afterGetHoverData",o=>{let n=o.hoverPoint?.series;if(t.boost=t.boost||{},t.boost.markerGroup&&n){let u=t.inverted?n.yAxis:n.xAxis,l=t.inverted?n.xAxis:n.yAxis;(u&&u.pos!==i||l&&l.pos!==s)&&(t.series.forEach(h=>{h.halo?.hide()}),t.boost.markerGroup.translate(u.pos,l.pos),i=u.pos,s=l.pos)}})}let Me={compose:function(t,e){return e&&Pt(Te,"Boost.Chart")&&t.prototype.callbacks.push(ke),t},getBoostClipRect:function(t,e){let i=t.navigator,s={x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};if(i&&t.inverted?(s.width+=i.top+i.height,i.opposite||(s.x=i.left)):i&&!t.inverted&&(s.height=i.top+i.height-t.plotTop),e.is){let{xAxis:o,yAxis:n}=e;if(s=t.getClipBox(e),t.inverted){let u=s.width;s.width=s.height,s.height=u,s.x=n.pos,s.y=o.pos}else s.x=o.pos,s.y=n.pos}if(e===t){let o=t.inverted?t.xAxis:t.yAxis;o.length<=1&&(s.y=Math.min(o[0].pos,s.y),s.height=o[0].pos-t.plotTop+o[0].len)}return s},isChartSeriesBoosting:Ue};var nt=F(620),Ne=F.n(nt);let wt={area:"LINES",arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"},{clamp:ut,error:vt,pick:He}=P(),Ze=class{constructor(t){this.errors=[],this.uLocations={},this.gl=t,t&&this.createShader()}bind(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)}createShader(){let t=this.stringToProgram(`#version 100
#define LN10 2.302585092994046
precision highp float;
attribute vec4 aVertexPosition;
attribute vec4 aColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform mat4 uPMatrix;
uniform float pSize;
uniform float translatedThreshold;
uniform bool hasThreshold;
uniform bool skipTranslation;
uniform float xAxisTrans;
uniform float xAxisMin;
uniform float xAxisMax;
uniform float xAxisMinPad;
uniform float xAxisPointRange;
uniform float xAxisLen;
uniform bool  xAxisPostTranslate;
uniform float xAxisOrdinalSlope;
uniform float xAxisOrdinalOffset;
uniform float xAxisPos;
uniform bool  xAxisCVSCoord;
uniform bool  xAxisIsLog;
uniform bool  xAxisReversed;
uniform float yAxisTrans;
uniform float yAxisMin;
uniform float yAxisMax;
uniform float yAxisMinPad;
uniform float yAxisPointRange;
uniform float yAxisLen;
uniform bool  yAxisPostTranslate;
uniform float yAxisOrdinalSlope;
uniform float yAxisOrdinalOffset;
uniform float yAxisPos;
uniform bool  yAxisCVSCoord;
uniform bool  yAxisIsLog;
uniform bool  yAxisReversed;
uniform bool  isCircle;
uniform bool  isBubble;
uniform bool  bubbleSizeByArea;
uniform float bubbleZMin;
uniform float bubbleZMax;
uniform float bubbleZThreshold;
uniform float bubbleMinSize;
uniform float bubbleMaxSize;
uniform bool  bubbleSizeAbs;
uniform bool  isInverted;
float bubbleRadius(){
float value = aVertexPosition.w;
float zMax = bubbleZMax;
float zMin = bubbleZMin;
float radius = 0.0;
float pos = 0.0;
float zRange = zMax - zMin;
if (bubbleSizeAbs){
value = value - bubbleZThreshold;
zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);
zMin = 0.0;
}
if (value < zMin){
radius = bubbleZMin / 2.0 - 1.0;
} else {
pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;
if (bubbleSizeByArea && pos > 0.0){
pos = sqrt(pos);
}
radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;
}
return radius * 2.0;
}
float translate(float val,
float pointPlacement,
float localA,
float localMin,
float minPixelPadding,
float pointRange,
float len,
bool  cvsCoord,
bool  isLog,
bool  reversed
){
float sign = 1.0;
float cvsOffset = 0.0;
if (cvsCoord) {
sign *= -1.0;
cvsOffset = len;
}
if (isLog) {
val = log(val) / LN10;
}
if (reversed) {
sign *= -1.0;
cvsOffset -= sign * len;
}
return sign * (val - localMin) * localA + cvsOffset + 
(sign * minPixelPadding);
}
float xToPixels(float value) {
if (skipTranslation){
return value;// + xAxisPos;
}
return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;
}
float yToPixels(float value, float checkTreshold) {
float v;
if (skipTranslation){
v = value;// + yAxisPos;
} else {
v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;
if (v > yAxisLen) {
v = yAxisLen;
}
}
if (checkTreshold > 0.0 && hasThreshold) {
v = min(v, translatedThreshold);
}
return v;
}
void main(void) {
if (isBubble){
gl_PointSize = bubbleRadius();
} else {
gl_PointSize = pSize;
}
vColor = aColor;
if (!skipTranslation && isCircle && (
aVertexPosition.x < xAxisMin ||
aVertexPosition.x > xAxisMax ||
aVertexPosition.y < yAxisMin ||
aVertexPosition.y > yAxisMax
)) {
gl_Position = uPMatrix * vec4(2.0, 2.0, 2.0, 1.0);
} else if (skipTranslation && isInverted) {
gl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);
} else if (isInverted) {
gl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);
} else {
gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);
}
}`,"vertex"),e=this.stringToProgram(`precision highp float;
uniform vec4 fillColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform sampler2D uSampler;
uniform bool isCircle;
uniform bool hasColor;
void main(void) {
vec4 col = fillColor;
vec4 tcol = texture2D(uSampler, gl_PointCoord.st);
if (hasColor) {
col = vColor;
}
if (isCircle) {
col *= tcol;
if (tcol.r < 0.0) {
discard;
} else {
gl_FragColor = col;
}
} else {
gl_FragColor = col;
}
}`,"fragment"),i=s=>this.gl.getUniformLocation(this.shaderProgram,s);return t&&e?(this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,t),this.gl.attachShader(this.shaderProgram,e),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)?(this.gl.useProgram(this.shaderProgram),this.gl.bindAttribLocation(this.shaderProgram,0,"aVertexPosition"),this.pUniform=i("uPMatrix"),this.psUniform=i("pSize"),this.fcUniform=i("fillColor"),this.isBubbleUniform=i("isBubble"),this.bubbleSizeAbsUniform=i("bubbleSizeAbs"),this.bubbleSizeAreaUniform=i("bubbleSizeByArea"),this.uSamplerUniform=i("uSampler"),this.skipTranslationUniform=i("skipTranslation"),this.isCircleUniform=i("isCircle"),this.isInverted=i("isInverted"),!0):(this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1,!1)):(this.shaderProgram=!1,this.handleErrors(),!1)}handleErrors(){this.errors.length&&vt("[highcharts boost] shader error - "+this.errors.join(`
`))}stringToProgram(t,e){let i=this.gl.createShader(e==="vertex"?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.errors.push("when compiling "+e+` shader:
`+this.gl.getShaderInfoLog(i)),!1)}destroy(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)}fillColorUniform(){return this.fcUniform}getProgram(){return this.shaderProgram}pointSizeUniform(){return this.psUniform}perspectiveUniform(){return this.pUniform}reset(){this.gl&&this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))}setBubbleUniforms(t,e,i,s=1){let o=t.options,n=Number.MAX_VALUE,u=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&t.is("bubble")){let l=t.getPxExtremes();n=He(o.zMin,ut(e,o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE,n)),u=He(o.zMax,Math.max(u,i)),this.gl.uniform1i(this.isBubbleUniform,1),this.gl.uniform1i(this.isCircleUniform,1),this.gl.uniform1i(this.bubbleSizeAreaUniform,t.options.sizeBy!=="width"),this.gl.uniform1i(this.bubbleSizeAbsUniform,t.options.sizeByAbsoluteValue),this.setUniform("bubbleMinSize",l.minPxSize*s),this.setUniform("bubbleMaxSize",l.maxPxSize*s),this.setUniform("bubbleZMin",n),this.setUniform("bubbleZMax",u),this.setUniform("bubbleZThreshold",t.options.zThreshold)}}setColor(t){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,t[0]/255,t[1]/255,t[2]/255,t[3])}setDrawAsCircle(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,+!!t)}setInverted(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,t)}setPMatrix(t){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,t)}setPointSize(t){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,t)}setSkipTranslation(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,+(t===!0))}setTexture(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,t)}setUniform(t,e){if(this.gl&&this.shaderProgram){let i=this.uLocations[t]=this.uLocations[t]||this.gl.getUniformLocation(this.shaderProgram,t);this.gl.uniform1f(i,e)}}},bt=class{constructor(t,e,i){this.buffer=!1,this.iterator=0,this.preAllocated=!1,this.vertAttribute=!1,this.components=i||2,this.dataComponents=i,this.gl=t,this.shader=e}allocate(t){this.iterator=-1,this.preAllocated=new Float32Array(4*t)}bind(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,!1,0,0)}build(t,e,i){let s;return this.data=t||[],this.data&&this.data.length!==0||this.preAllocated?(this.components=i||this.components,this.buffer&&this.gl.deleteBuffer(this.buffer),this.preAllocated||(s=new Float32Array(this.data)),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||s,this.gl.STATIC_DRAW),this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),e),this.gl.enableVertexAttribArray(this.vertAttribute),s=!1,!0):(this.destroy(),!1)}destroy(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.buffer=!1,this.vertAttribute=!1),this.iterator=0,this.components=this.dataComponents||2,this.data=[]}push(t,e,i,s){this.preAllocated&&(this.preAllocated[++this.iterator]=t,this.preAllocated[++this.iterator]=e,this.preAllocated[++this.iterator]=i,this.preAllocated[++this.iterator]=s)}render(t,e,i){let s=this.preAllocated?this.preAllocated.length:this.data.length;return!!this.buffer&&!!s&&((!t||t>s||t<0)&&(t=0),(!e||e>s)&&(e=s),!(t>=e)&&(i=i||"POINTS",this.gl.drawArrays(this.gl[i],t/this.components,(e-t)/this.components),!0))}},{getBoostClipRect:dt}=Me,{parse:I}=Ne(),{doc:Tt,win:Gt}=P(),{isNumber:Xt,isObject:jt,merge:kt,objectEach:Ht,pick:ht}=P(),yt={column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},$t={scatter:!0,bubble:!0},Mt=["webgl","experimental-webgl","moz-webgl","webkit-3d"];class $e{static orthoMatrix(e,i){return[2/e,0,0,0,0,-(2/i),0,0,0,0,-2,0,-1,1,-1,1]}static seriesPointCount(e){let i,s,o;return e.boosted?(i=!!e.options.stacking,s=(e.getColumn("x").length?e.getColumn("x"):void 0)||e.options.xData||e.getColumn("x",!0),o=(i?e.data:s||e.options.data).length,e.type==="treemap"?o*=12:e.type==="heatmap"?o*=6:yt[e.type]&&(o*=2),o):0}constructor(e){this.data=[],this.height=0,this.isInited=!1,this.markerData=[],this.series=[],this.textureHandles={},this.width=0,this.postRenderCallback=e,this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}}}getPixelRatio(){return this.settings.pixelRatio||Gt.devicePixelRatio||1}setOptions(e){"pixelRatio"in e||(e.pixelRatio=1),kt(!0,this.settings,e)}allocateBuffer(e){let i=this.vbuffer,s=0;this.settings.usePreallocated&&(e.series.forEach(o=>{o.boosted&&(s+=$e.seriesPointCount(o))}),i&&i.allocate(s))}allocateBufferForSingleSeries(e){let i=this.vbuffer,s=0;this.settings.usePreallocated&&(e.boosted&&(s=$e.seriesPointCount(e)),i&&i.allocate(s))}clear(){let e=this.gl;e&&e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}pushSeriesData(e,i){let s=this.data,o=this.settings,n=this.vbuffer,u=e.pointArrayMap&&e.pointArrayMap.join(",")==="low,high",{chart:l,options:h,sorted:r,xAxis:v,yAxis:p}=e,B=!!h.stacking,O=h.data,Q=e.xAxis.getExtremes(),ee=Q.min-(e.xAxis.minPointOffset||0),te=Q.max+(e.xAxis.minPointOffset||0),pe=e.yAxis.getExtremes(),me=pe.min-(e.yAxis.minPointOffset||0),ie=pe.max+(e.yAxis.minPointOffset||0),Ae=(e.getColumn("x").length?e.getColumn("x"):void 0)||h.xData||e.getColumn("x",!0),Z=(e.getColumn("y").length?e.getColumn("y"):void 0)||h.yData||e.getColumn("y",!0),se=(e.getColumn("z").length?e.getColumn("z"):void 0)||h.zData||e.getColumn("z",!0),ge=!Ae||Ae.length===0,xe=e.options.colorByPoint,_e=h.connectNulls,ue=e.points||!1,H=B?e.data:Ae||O,Re={x:Number.MAX_VALUE,y:0},it={x:-Number.MAX_VALUE,y:0},_t=l.index===void 0,st=yt[e.type],Ct=h.zoneAxis||"y",Oe=h.zones||!1,pt=h.threshold,Fe=this.getPixelRatio(),Ge=e.chart.plotWidth,ze=!1,ot=!1,De,We,N=0,fe=!1,S,U,R,ce,D=-1,Ce=!1,Pe=!1,qe,Zt=!1,Jt=!1,ae,Qt=!1,ei=!0,ci=!0,mt,Ke=!1,ti=!1,Vt=0,ii=0;if(h.boostData&&h.boostData.length>0)return;h.gapSize&&(ti=h.gapUnit!=="value"?h.gapSize*e.closestPointRange:h.gapSize),Oe&&(mt=[],Oe.forEach((x,T)=>{if(x.color){let X=I(x.color).rgba;X[0]/=255,X[1]/=255,X[2]/=255,mt[T]=X,Ke||x.value!==void 0||(Ke=X)}}),Ke||(Ke=I(e.pointAttribs&&e.pointAttribs().fill||e.color).rgba,Ke[0]/=255,Ke[1]/=255,Ke[2]/=255)),l.inverted&&(Ge=e.chart.plotHeight),e.closestPointRangePx=Number.MAX_VALUE;let rt=x=>{x&&(i.colorData.push(x[0]),i.colorData.push(x[1]),i.colorData.push(x[2]),i.colorData.push(x[3]))},Le=(x,T,X,de=1,oe)=>{rt(oe),Fe!==1&&(!o.useGPUTranslations||i.skipTranslation)&&(x*=Fe,T*=Fe,de*=Fe),o.usePreallocated&&n?(n.push(x,T,+!!X,de),Vt+=4):(s.push(x),s.push(T),s.push(X?Fe:0),s.push(de))},si=()=>{i.segments.length&&(i.segments[i.segments.length-1].to=s.length||Vt)},Bt=()=>{i.segments.length&&i.segments[i.segments.length-1].from===(s.length||Vt)||(si(),i.segments.push({from:s.length||Vt}))},pi=(x,T,X,de,oe)=>{rt(oe),Le(x+X,T),rt(oe),Le(x,T),rt(oe),Le(x,T+de),rt(oe),Le(x,T+de),rt(oe),Le(x+X,T+de),rt(oe),Le(x+X,T)};if(Bt(),ue&&ue.length>0){i.skipTranslation=!0,i.drawMode="TRIANGLES",ue[0].node&&ue[0].node.levelDynamic&&ue.sort((x,T)=>{if(x.node){if(x.node.levelDynamic>T.node.levelDynamic)return 1;if(x.node.levelDynamic<T.node.levelDynamic)return-1}return 0}),ue.forEach(x=>{let T,X,de=x.plotY;if(de!==void 0&&!isNaN(de)&&x.y!==null&&x.shapeArgs){let{x:oe=0,y:It=0,width:Nt=0,height:Ot=0}=x.shapeArgs;T=(X=l.styledMode?x.series.colorAttribs(x):X=x.series.pointAttribs(x))["stroke-width"]||0,ae=I(X.fill).rgba,ae[0]/=255,ae[1]/=255,ae[2]/=255,e.is("treemap")&&(T=T||1,We=I(X.stroke).rgba,We[0]/=255,We[1]/=255,We[2]/=255,pi(oe,It,Nt,Ot,We),T/=2),e.is("heatmap")&&l.inverted&&(oe=v.len-oe,It=p.len-It,Nt=-Nt,Ot=-Ot),pi(oe+T,It+T,Nt-2*T,Ot-2*T,ae)}}),si();return}for(;D<H.length-1;){if((R=H[++D])===void 0)continue;if(_t)break;let x=O&&O[D];if(!ge){jt(x,!0)&&x.color&&(ae=I(x.color).rgba);let T=e.options.keys?.indexOf("color");Array.isArray(x)&&T&&typeof x[T]=="string"?ae=I(x[T]).rgba:xe&&l.options.colors&&(ii%=l.options.colors.length,ae=I(l.options.colors[ii]).rgba),ae&&(ae[0]/=255,ae[1]/=255,ae[2]/=255),ii++}if(ge?(S=R[0],U=R[1],H[D+1]&&(Pe=H[D+1][0]),H[D-1]&&(Ce=H[D-1][0]),R.length>=3&&(ce=R[2],R[2]>i.zMax&&(i.zMax=R[2]),R[2]<i.zMin&&(i.zMin=R[2]))):(S=R,U=Z?.[D],H[D+1]&&(Pe=H[D+1]),H[D-1]&&(Ce=H[D-1]),se&&se.length&&(ce=se[D],se[D]>i.zMax&&(i.zMax=se[D]),se[D]<i.zMin&&(i.zMin=se[D]))),!_e&&(S===null||U===null)){Bt();continue}if(Pe&&Pe>=ee&&Pe<=te&&(Zt=!0),Ce&&Ce>=ee&&Ce<=te&&(Jt=!0),u?(ge&&(U=R.slice(1,3)),qe=e.getColumn("low",!0)?.[D],U=e.getColumn("high",!0)?.[D]||0):B&&(S=R.x,qe=(U=R.stackY)-R.y),me!=null&&ie!=null&&(ei=U>=me&&U<=ie),!(!r&&!ei||(S>te&&it.x<te&&(it.x=S,it.y=U),S<ee&&Re.x>ee&&(Re.x=S,Re.y=U),U===null&&_e))){if(U===null||!ei&&H.length>1&&!Zt&&!Jt){Bt();continue}if((r&&(Pe>=ee||S>=ee)&&(Ce<=te||S<=te)||!r&&S>=ee&&S<=te)&&(Qt=!0),Qt||Zt||Jt){if(ti&&S-Ce>ti&&Bt(),Oe){let T;Oe.some((X,de)=>{let oe=Oe[de-1];return Ct==="x"?X.value!==void 0&&S<=X.value&&(mt[de]&&(!oe||S>=oe.value)&&(T=mt[de]),!0):X.value!==void 0&&U<=X.value&&(mt[de]&&(!oe||U>=oe.value)&&(T=mt[de]),!0)}),ae=T||Ke||ae}if(o.useGPUTranslations||(i.skipTranslation=!0,S=v.toPixels(S,!0),U=p.toPixels(U,!0),!(S>Ge)||i.drawMode!=="POINTS")){if(i.hasMarkers&&Qt&&ze!==!1&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(S-ze))),!o.useGPUTranslations&&!o.usePreallocated&&ze&&1>Math.abs(S-ze)&&ot&&1>Math.abs(U-ot)){o.debug.showSkipSummary&&++N;continue}st&&(De=qe||0,(qe===!1||qe===void 0)&&(De=U<0?U:0),(u||B)&&!p.logarithmic||(De=Math.max(pt===null?me:pt,me)),o.useGPUTranslations||(De=p.toPixels(De,!0)),Le(S,De,!1,0,ae)),h.step&&!ci&&Le(S,ot,!1,2,ae),Le(S,U,!1,e.type==="bubble"?ce||1:2,ae),ze=S,ot=U,fe=!0,ci=!1}}}}o.debug.showSkipSummary&&console.log("skipped points:",N);let mi=(x,T)=>{if(o.useGPUTranslations||(i.skipTranslation=!0,x.x=v.toPixels(x.x,!0),x.y=p.toPixels(x.y,!0)),T){this.data=[x.x,x.y,0,2].concat(this.data);return}Le(x.x,x.y,0,2)};!fe&&_e!==!1&&e.drawMode==="line_strip"&&(Re.x<Number.MAX_VALUE&&mi(Re,!0),it.x>-Number.MAX_VALUE&&mi(it)),si()}pushSeries(e){let i=this.markerData,s=this.series,o=this.settings;s.length>0&&s[s.length-1].hasMarkers&&(s[s.length-1].markerTo=i.length),o.debug.timeSeriesProcessing&&console.time("building "+e.type+" series");let n={segments:[],markerFrom:i.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!e.options.marker&&e.options.marker.enabled!==!1,showMarkers:!0,drawMode:wt[e.type]||"LINE_STRIP"};e.index>=s.length?s.push(n):s[e.index]=n,this.pushSeriesData(e,n),o.debug.timeSeriesProcessing&&console.timeEnd("building "+e.type+" series")}flush(){let e=this.vbuffer;this.data=[],this.markerData=[],this.series=[],e&&e.destroy()}setXAxis(e){let i=this.shader;if(!i)return;let s=this.getPixelRatio();i.setUniform("xAxisTrans",e.transA*s),i.setUniform("xAxisMin",e.min),i.setUniform("xAxisMax",e.max),i.setUniform("xAxisMinPad",e.minPixelPadding*s),i.setUniform("xAxisPointRange",e.pointRange),i.setUniform("xAxisLen",e.len*s),i.setUniform("xAxisPos",e.pos*s),i.setUniform("xAxisCVSCoord",!e.horiz),i.setUniform("xAxisIsLog",!!e.logarithmic),i.setUniform("xAxisReversed",!!e.reversed)}setYAxis(e){let i=this.shader;if(!i)return;let s=this.getPixelRatio();i.setUniform("yAxisTrans",e.transA*s),i.setUniform("yAxisMin",e.min),i.setUniform("yAxisMax",e.max),i.setUniform("yAxisMinPad",e.minPixelPadding*s),i.setUniform("yAxisPointRange",e.pointRange),i.setUniform("yAxisLen",e.len*s),i.setUniform("yAxisPos",e.pos*s),i.setUniform("yAxisCVSCoord",!e.horiz),i.setUniform("yAxisIsLog",!!e.logarithmic),i.setUniform("yAxisReversed",!!e.reversed)}setThreshold(e,i){let s=this.shader;s&&(s.setUniform("hasThreshold",e),s.setUniform("translatedThreshold",i))}renderChart(e){let i=this.gl,s=this.settings,o=this.shader,n=this.vbuffer,u=this.getPixelRatio();if(!e)return!1;this.width=e.chartWidth*u,this.height=e.chartHeight*u;let l=this.height,h=this.width;if(!i||!o||!h||!l)return!1;s.debug.timeRendering&&console.time("gl rendering"),i.canvas.width=h,i.canvas.height=l,o.bind(),i.viewport(0,0,h,l),o.setPMatrix($e.orthoMatrix(h,l)),s.lineWidth>1&&!P().isMS&&i.lineWidth(s.lineWidth),n&&(n.build(this.data,"aVertexPosition",4),n.bind()),o.setInverted(e.inverted),this.series.forEach((r,v)=>{let p=r.series.options,B=p.marker,O=p.lineWidth!==void 0?p.lineWidth:1,Q=p.threshold,ee=Xt(Q),te=r.series.yAxis.getThreshold(Q),pe=ht(p.marker?p.marker.enabled:null,!!r.series.xAxis.isRadial||null,r.series.closestPointRangePx>2*((p.marker?p.marker.radius:10)||10)),me=this.textureHandles[B&&B.symbol||r.series.symbol]||this.textureHandles.circle,ie,Ae,Z,se=[];if(r.segments.length!==0&&r.segments[0].from!==r.segments[0].to&&(me.isReady&&(i.bindTexture(i.TEXTURE_2D,me.handle),o.setTexture(me.handle)),e.styledMode?r.series.markerGroup===r.series.chart.boost?.markerGroup?(delete r.series.markerGroup,r.series.markerGroup=r.series.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"),Z=r.series.markerGroup.getStyle("fill"),r.series.markerGroup.destroy(),r.series.markerGroup=r.series.chart.boost?.markerGroup):Z=r.series.markerGroup?.getStyle("fill"):(Z=r.drawMode==="POINTS"&&r.series.pointAttribs&&r.series.pointAttribs().fill||r.series.color,p.colorByPoint&&(Z=r.series.chart.options.colors[v])),r.series.fillOpacity&&p.fillOpacity&&(Z=new(Ne())(Z).setOpacity(ht(p.fillOpacity,1)).get()),se=I(Z).rgba,s.useAlpha||(se[3]=1),p.boostBlending==="add"?(i.blendFunc(i.SRC_ALPHA,i.ONE),i.blendEquation(i.FUNC_ADD)):p.boostBlending==="mult"||p.boostBlending==="multiply"?i.blendFunc(i.DST_COLOR,i.ZERO):p.boostBlending==="darken"?(i.blendFunc(i.ONE,i.ONE),i.blendEquation(i.FUNC_MIN)):i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),o.reset(),r.colorData.length>0?(o.setUniform("hasColor",1),(Ae=new bt(i,o)).build(Array(r.segments[0].from).concat(r.colorData),"aColor",4),Ae.bind()):(o.setUniform("hasColor",0),i.disableVertexAttribArray(i.getAttribLocation(o.getProgram(),"aColor"))),o.setColor(se),this.setXAxis(r.series.xAxis),this.setYAxis(r.series.yAxis),this.setThreshold(ee,te),r.drawMode==="POINTS"&&o.setPointSize(2*ht(p.marker&&p.marker.radius,.5)*u),o.setSkipTranslation(r.skipTranslation),r.series.type==="bubble"&&o.setBubbleUniforms(r.series,r.zMin,r.zMax,u),o.setDrawAsCircle($t[r.series.type]||!1),n)){if(O>0||r.drawMode!=="LINE_STRIP"){let{x:ge,y:xe,width:_e,height:ue}=dt(e,r.series);for(i.enable(i.SCISSOR_TEST),i.scissor(ge,l-xe-ue,_e,ue),ie=0;ie<r.segments.length;ie++)n.render(r.segments[ie].from,r.segments[ie].to,r.drawMode);i.disable(i.SCISSOR_TEST)}if(r.hasMarkers&&pe)for(o.setPointSize(2*ht(p.marker&&p.marker.radius,5)*u),o.setDrawAsCircle(!0),ie=0;ie<r.segments.length;ie++)n.render(r.segments[ie].from,r.segments[ie].to,"POINTS")}}),s.debug.timeRendering&&console.timeEnd("gl rendering"),this.postRenderCallback&&this.postRenderCallback(this),this.flush()}render(e){if(this.clear(),e.renderer.forExport)return this.renderChart(e);this.isInited?this.renderChart(e):setTimeout(()=>{this.render(e)},1)}setSize(e,i){let s=this.shader;s&&(this.width!==e||this.height!==i)&&(this.width=e,this.height=i,s.bind(),s.setPMatrix($e.orthoMatrix(e,i)))}init(e,i){let s=this.settings;if(this.isInited=!1,!e)return!1;s.debug.timeSetup&&console.time("gl setup");for(let l=0;l<Mt.length&&(this.gl=e.getContext(Mt[l],{}),!this.gl);++l);let o=this.gl;if(!o)return!1;i||this.flush(),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS);let n=this.shader=new Ze(o);if(!n)return!1;this.vbuffer=new bt(o,n);let u=(l,h)=>{let r={isReady:!1,texture:Tt.createElement("canvas"),handle:o.createTexture()},v=r.texture.getContext("2d");this.textureHandles[l]=r,r.texture.width=512,r.texture.height=512,v.mozImageSmoothingEnabled=!1,v.webkitImageSmoothingEnabled=!1,v.msImageSmoothingEnabled=!1,v.imageSmoothingEnabled=!1,v.strokeStyle="rgba(255, 255, 255, 0)",v.fillStyle="#FFF",h(v);try{o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.handle),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.bindTexture(o.TEXTURE_2D,null),r.isReady=!0}catch{}};return u("circle",l=>{l.beginPath(),l.arc(256,256,256,0,2*Math.PI),l.stroke(),l.fill()}),u("square",l=>{l.fillRect(0,0,512,512)}),u("diamond",l=>{l.beginPath(),l.moveTo(256,0),l.lineTo(512,256),l.lineTo(256,512),l.lineTo(0,256),l.lineTo(256,0),l.fill()}),u("triangle",l=>{l.beginPath(),l.moveTo(0,512),l.lineTo(256,0),l.lineTo(512,512),l.lineTo(0,512),l.fill()}),u("triangle-down",l=>{l.beginPath(),l.moveTo(0,0),l.lineTo(256,512),l.lineTo(512,0),l.lineTo(0,0),l.fill()}),this.isInited=!0,s.debug.timeSetup&&console.timeEnd("gl setup"),!0}destroy(){let e=this.gl,i=this.shader,s=this.vbuffer;this.flush(),s&&s.destroy(),i&&i.destroy(),e&&(Ht(this.textureHandles,o=>{o.handle&&e.deleteTexture(o.handle)}),e.canvas.width=1,e.canvas.height=1)}}(function(t){t.setLength=function(e,i,s){return Array.isArray(e)?(e.length=i,e):e[s?"subarray":"slice"](0,i)},t.splice=function(e,i,s,o,n=[]){if(Array.isArray(e))return Array.isArray(n)||(n=Array.from(n)),{removed:e.splice(i,s,...n),array:e};let u=Object.getPrototypeOf(e).constructor,l=e[o?"subarray":"slice"](i,i+s),h=new u(e.length-s+n.length);return h.set(e.subarray(0,i),0),h.set(n,i),h.set(e.subarray(i+s),i+n.length),{removed:l,array:h}}})(W||(W={}));let{setLength:Et,splice:St}=W,{fireEvent:ft,objectEach:Je,uniqueKey:Qe}=P(),Yt=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||Qe(),this.modified=this,this.rowCount=0,this.versionTag=Qe();let e=0;Je(t.columns||{},(i,s)=>{this.columns[s]=i.slice(),e=Math.max(e,i.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,Je(this.columns,(e,i)=>{e.length!==t&&(this.columns[i]=Et(e,t))})}deleteRows(t,e=1){if(e>0&&t<this.rowCount){let i=0;Je(this.columns,(s,o)=>{this.columns[o]=St(s,t,e).array,i=s.length}),this.rowCount=i}ft(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=Qe()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((i,s)=>(i[s]=this.columns[s],i),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(i=>this.columns[i]?.[t])}setColumn(t,e=[],i=0,s){this.setColumns({[t]:e},i,s)}setColumns(t,e,i){let s=this.rowCount;Je(t,(o,n)=>{this.columns[n]=o.slice(),s=o.length}),this.applyRowCount(s),i?.silent||(ft(this,"afterSetColumns"),this.versionTag=Qe())}setRow(t,e=this.rowCount,i,s){let{columns:o}=this,n=i?this.rowCount+1:e+1;Je(t,(u,l)=>{let h=o[l]||s?.addColumns!==!1&&Array(n);h&&(i?h=St(h,e,0,!0,[u]).array:h[e]=u,o[l]=h)}),n>this.rowCount&&this.applyRowCount(n),s?.silent||(ft(this,"afterSetRows"),this.versionTag=Qe())}},{getBoostClipRect:Ut,isChartSeriesBoosting:et}=Me,{getOptions:Wt}=P(),{composed:qt,doc:Rt,noop:zt,win:Dt}=P(),{addEvent:Lt,destroyObjectProperties:Kt,error:At,extend:d,fireEvent:a,isArray:f,isNumber:m,pick:c,pushUnique:k,wrap:w,defined:q}=P();function be(t,e){let i=e.boost;t&&i&&i.target&&i.canvas&&!et(e.chart)&&t.allocateBufferForSingleSeries(e)}function Ee(t){return c(t&&t.options&&t.options.boost&&t.options.boost.enabled,!0)}function L(t,e){let i=t.constructor,s=t.seriesGroup||e.group,o=t.chartWidth,n=t.chartHeight,u=t,l=typeof SVGForeignObjectElement<"u",h=!1;et(t)?u=t:(u=e,h=!!(e.options.events?.click||e.options.point?.events?.click));let r=u.boost=u.boost||{};if(l=!1,Y||(Y=Rt.createElement("canvas")),!r.target&&(r.canvas=Y,t.renderer.forExport||!l?(u.renderTarget=r.target=t.renderer.image("",0,0,o,n).addClass("highcharts-boost-canvas").add(s),r.clear=function(){r.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},r.copy=function(){r.resize(),r.target.attr({href:r.canvas.toDataURL("image/png")})}):(r.targetFo=t.renderer.createElement("foreignObject").add(s),u.renderTarget=r.target=Rt.createElement("canvas"),r.targetCtx=r.target.getContext("2d"),r.targetFo.element.appendChild(r.target),r.clear=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height},r.copy=function(){r.target.width=r.canvas.width,r.target.height=r.canvas.height,r.targetCtx.drawImage(r.canvas,0,0)}),r.resize=function(){o=t.chartWidth,n=t.chartHeight,(r.targetFo||r.target).attr({x:0,y:0,width:o,height:n}).css({pointerEvents:h?void 0:"none",mixedBlendMode:"normal",opacity:1}).addClass(h?"highcharts-tracker":""),u instanceof i&&u.boost?.markerGroup?.translate(t.plotLeft,t.plotTop)},r.clipRect=t.renderer.clipRect(),(r.targetFo||r.target).attr({zIndex:e.options.zIndex}),u instanceof i&&(u.boost.markerGroup=u.renderer.g().add(s).translate(e.xAxis.pos,e.yAxis.pos))),r.canvas.width=o,r.canvas.height=n,r.clipRect){let v=Ut(t,u);r.clipRect.attr(v),v.width===t.clipBox.width&&v.height===t.clipBox.height?s?.clip(t.renderer.clipRect(v.x-4,v.y,v.width+4,v.height+4)):(r.targetFo||r.target).clip(r.clipRect)}return r.resize(),r.clear(),!r.wgl&&(r.wgl=new $e(v=>{v.settings.debug.timeBufferCopy&&console.time("buffer copy"),r.copy(),v.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),r.wgl.init(r.canvas)||At("[highcharts boost] - unable to init WebGL renderer"),r.wgl.setOptions(t.options.boost||{}),u instanceof i&&r.wgl.allocateBuffer(t)),r.wgl.setSize(o,n),r.wgl}function E(t){let e=t.points;if(e){let i,s;for(s=0;s<e.length;s+=1)(i=e[s])&&i.destroyElements&&i.destroyElements()}for(let i of(["graph","area","tracker"].forEach(s=>{let o=t[s];o&&(t[s]=o.destroy())}),t.zones))Kt(i,void 0,!0)}function z(t,e,i,s,o,n){let u=(o=o||0)+(s=s||3e3),l=!0;for(;l&&o<u&&o<t.length;)l=e(t[o],o),++o;l&&(o<t.length?n?z(t,e,i,s,o,n):Dt.requestAnimationFrame?Dt.requestAnimationFrame(function(){z(t,e,i,s,o)}):setTimeout(z,0,t,e,i,s,o):i&&i())}function _(t,e){let i=t.options,s=t.dataTable.modified.rowCount,o=t.xAxis&&t.xAxis.options,n=t.yAxis&&t.yAxis.options,u=t.colorAxis&&t.colorAxis.options;return s>c(i.boostThreshold,Number.MAX_VALUE)&&m(n.min)&&m(n.max)&&(!e||m(o.min)&&m(o.max))&&(!u||m(u.min)&&m(u.max))}let M=(t,e)=>!t.forceCrop&&(et(t.chart)||(e?e.length:0)>=c(t.options.boostThreshold,Number.MAX_VALUE));function K(){let t=this,e=t.chart;e.boost&&e.boost.markerGroup===t.markerGroup&&(t.markerGroup=void 0),e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(i){return i.series===t})),e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=void 0)}function Ye(){let t=this.boost;t&&t.canvas&&t.target&&(t.wgl&&t.wgl.clear(),t.clear&&t.clear())}function y(t){let e=t.boost;e&&e.canvas&&e.target&&e.wgl&&!et(t.chart)&&e.wgl.render(t.chart)}function re(t,e){let i=t.options,s=t.xAxis,o=t.pointClass;if(e instanceof o)return e;let n=i.data,u=t.is("scatter"),l=(u&&t.getColumn("x",!0).length?t.getColumn("x",!0):void 0)||(t.getColumn("x").length?t.getColumn("x"):void 0)||i.xData||t.getColumn("x",!0)||!1,h=t.getColumn("y",!0)||i.yData||!1,r=e.i,v=n?.[r]?.color,p=new o(t,u&&l&&h?[l[r],h[r]]:(f(n)?n:[])[r],l?l[r]:void 0);if(u&&i?.keys?.length){let B=i.keys;for(let O=B.length-1;O>-1;O--)p[B[O]]=n[r][O]}return p.category=c(s.categories?s.categories[p.x]:p.x,p.x),p.key=p.name??p.category,p.dist=e.dist,p.distX=e.distX,p.plotX=e.plotX,p.plotY=e.plotY,p.index=r,p.percentage=e.percentage,p.isInside=t.isPointInside(p),v&&(p.color=v),p}function ye(t){let{options:e,xAxis:i,yAxis:s}=this;if(!this.isDirty&&!i.isDirty&&!s.isDirty&&!t)return!1;this.yAxis.setTickInterval();let o=e.boostThreshold||0,n=e.cropThreshold,u=this.getColumn("x"),l=i.getExtremes(),h=l.max??Number.MAX_VALUE,r=l.min??-Number.MAX_VALUE,v=this.getColumn("y"),p=s.getExtremes(),B=p.max??Number.MAX_VALUE,O=p.min??-Number.MAX_VALUE;if(!this.boosted&&i.old&&s.old&&r>=(i.old.min??-Number.MAX_VALUE)&&h<=(i.old.max??Number.MAX_VALUE)&&O>=(s.old.min??-Number.MAX_VALUE)&&B<=(s.old.max??Number.MAX_VALUE))return this.dataTable.modified.setColumns({x:u,y:v}),!0;let Q=this.dataTable.rowCount;if(!o||Q<o||n&&!this.forceCrop&&!this.getExtremesFromAll&&!e.getExtremesFromAll&&Q<n)return this.dataTable.modified.setColumns({x:u,y:v}),!0;let ee=[],te=[],pe=[],me=!(m(l.max)||m(l.min)),ie=!(m(p.max)||m(p.min)),Ae=!1,Z,se=u[0],ge=u[0],xe,_e=v?.[0],ue=v?.[0];for(let H=0,Re=u.length;H<Re;++H)Z=u[H],xe=v?.[H],Z>=r&&Z<=h&&xe>=O&&xe<=B?(ee.push({x:Z,y:xe}),te.push(Z),pe.push(xe),me&&(se=Math.max(se,Z),ge=Math.min(ge,Z)),ie&&(_e=Math.max(_e,xe),ue=Math.min(ue,xe))):Ae=!0;return me&&(i.dataMax=Math.max(se,i.dataMax||0),i.dataMin=Math.min(ge,i.dataMin||0)),ie&&(s.dataMax=Math.max(_e,s.dataMax||0),s.dataMin=Math.min(ue,s.dataMin||0)),this.cropped=Ae,this.cropStart=0,Ae&&this.dataTable.modified===this.dataTable&&(this.dataTable.modified=new Yt),this.dataTable.modified.setColumns({x:te,y:pe}),M(this,te)||(this.processedData=ee),!0}function ct(){let t=this.options||{},e=this.chart,i=e.boost,s=this.boost,o=this.xAxis,n=this.yAxis,u=t.xData||this.getColumn("x",!0),l=t.yData||this.getColumn("y",!0),h=this.getColumn("low",!0),r=this.getColumn("high",!0),v=this.processedData||t.data,p=o.getExtremes(),B=p.min-(o.minPointOffset||0),O=p.max+(o.minPointOffset||0),Q=n.getExtremes(),ee=Q.min-(n.minPointOffset||0),te=Q.max+(n.minPointOffset||0),pe={},me=!!this.sampling,ie=t.enableMouseTracking,Ae=t.threshold,Z=this.pointArrayMap&&this.pointArrayMap.join(",")==="low,high",se=!!t.stacking,ge=this.cropStart||0,xe=this.requireSorting,_e=!u,ue=t.findNearestPointBy==="x",H=(this.getColumn("x").length?this.getColumn("x"):void 0)||this.options.xData||this.getColumn("x",!0),Re=c(t.lineWidth,1),it=t.nullInteraction&&ee,_t=e.tooltip,st=!1,Ct,Oe=n.getThreshold(Ae),pt,Fe,Ge,ze;if(!this.boosted||(this.points?.forEach(N=>{N?.destroyElements?.()}),this.points=[],_t&&!_t.isHidden?(e.hoverPoint?.series===this||e.hoverPoints?.some(N=>N.series===this))&&(e.hoverPoint=e.hoverPoints=void 0,_t.hide(0)):e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(N=>N.series!==this)),o.isPanning||n.isPanning)||(st=L(e,this),e.boosted=!0,!this.visible))return;(this.points||this.graph)&&E(this),et(e)?(this.markerGroup&&this.markerGroup!==i?.markerGroup&&this.markerGroup.destroy(),this.markerGroup=i?.markerGroup,s&&s.target&&(this.renderTarget=s.target=s.target.destroy())):(this.markerGroup===i?.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"));let ot=this.points=[],De=(N,fe,S,U)=>{let R=!!H&&H[ge+S],ce=D=>{e.inverted&&(D=o.len-D,fe=n.len-fe),ot.push({destroy:zt,x:R,clientX:D,plotX:D,plotY:fe,i:ge+S,percentage:U})};N=Math.ceil(N),je=ue?N:N+","+fe,ie&&(pe[je]?R===H[H.length-1]&&(ot.length--,ce(N)):(pe[je]=!0,ce(N)))};this.buildKDTree=zt,a(this,"renderCanvas"),i&&s?.target&&Re>1&&this.is("line")&&(i.lineWidthFilter?.remove(),i.lineWidthFilter=e.renderer.definition({tagName:"filter",children:[{tagName:"feMorphology",attributes:{operator:"dilate",radius:.25*Re}}],attributes:{id:"linewidth"}}),s.target.attr({filter:"url(#linewidth)"})),st&&(be(st,this),st.pushSeries(this),y(this));let We=st.settings;e.renderer.forExport||(We.debug.timeKDTree&&console.time("kd tree building"),z(se?this.data.slice(ge):u||v,function(N,fe){let S=e.index===void 0,U,R,ce,D,Ce,Pe=!1,qe=!0;return!q(N)||(!S&&(_e?(U=N[0],R=N[1]):(U=N,R=l[fe]??it??null),Z?(_e&&(R=N.slice(1,3)),Pe=h[fe],R=r[fe]):se&&(U=N.x,Pe=(R=N.stackY)-N.y,Ce=N.percentage),xe||(qe=(R||0)>=ee&&R<=te),R!==null&&U>=B&&U<=O&&qe&&(ce=o.toPixels(U,!0),me?((Ge===void 0||ce===Ct)&&(Z||(Pe=R),(ze===void 0||R>Fe)&&(Fe=R,ze=fe),(Ge===void 0||Pe<pt)&&(pt=Pe,Ge=fe)),ue&&ce===Ct||(Ge!==void 0&&(D=n.toPixels(Fe,!0),Oe=n.toPixels(pt,!0),De(ce,D,ze,Ce),Oe!==D&&De(ce,Oe,Ge,Ce)),Ge=ze=void 0,Ct=ce)):De(ce,D=Math.ceil(n.toPixels(R,!0)),fe,Ce))),!S)},()=>{a(this,"renderedCanvas"),delete this.buildKDTree,this.options&&this.buildKDTree(),We.debug.timeKDTree&&console.timeEnd("kd tree building")}))}function bi(t){let e=!0;if(this.chart.options&&this.chart.options.boost&&(e=this.chart.options.boost.enabled===void 0||this.chart.options.boost.enabled),!e||!this.boosted)return t.call(this);this.chart.boosted=!0;let i=L(this.chart,this);i&&(be(i,this),i.pushSeries(this)),y(this)}function yi(t){if(this.boosted){if(_(this))return{};if(this.xAxis.isPanning||this.yAxis.isPanning)return this}return t.apply(this,[].slice.call(arguments,1))}function Ai(t){let e=this.options.data;if(Ee(this.chart)&&j[this.type]){let s=this.is("scatter")&&!this.is("bubble")&&!this.is("treemap")&&!this.is("heatmap");if(!M(this,e)||s||this.is("treemap")||this.options.stacking||!_(this,!0)){if(this.boosted&&(this.xAxis?.isPanning||this.yAxis?.isPanning))return;s&&this.yAxis.type!=="treegrid"?ye.call(this,arguments[1]):t.apply(this,[].slice.call(arguments,1)),e=this.getColumn("x",!0)}if(this.boosted=M(this,e),this.boosted){let o;this.options.data?.length&&(m(o=this.getFirstValidPoint(this.options.data))||f(o)||this.is("treemap")||At(12,!1,this.chart));var i=this;i.boost=i.boost||{getPoint:u=>re(i,u)};let n=i.boost.altered=[];if(["allowDG","directTouch","stickyTracking"].forEach(u=>{n.push({prop:u,val:i[u],own:Object.hasOwnProperty.call(i,u)})}),i.allowDG=!1,i.directTouch=!1,i.stickyTracking=!0,i.finishedAnimating=!0,i.labelBySeries&&(i.labelBySeries=i.labelBySeries.destroy()),i.is("scatter")&&!i.is("treemap")&&i.data.length){for(let u of i.data)u?.destroy?.();i.data.length=0,i.points.length=0,delete i.processedData}}else(function(o){let n=o.boost,u=o.chart,l=u.boost;if(l?.markerGroup)for(let h of(l.markerGroup.destroy(),l.markerGroup=void 0,u.series))h.markerGroup=void 0,h.markerGroup=h.plotGroup("markerGroup","markers","visible",1,u.seriesGroup).addClass("highcharts-tracker");n&&((n.altered||[]).forEach(h=>{h.own?o[h.prop]=h.val:delete o[h.prop]}),n.clear&&n.clear()),(u.seriesGroup||o.group)?.clip()})(this)}else t.apply(this,[].slice.call(arguments,1))}function _i(t){let e=t.apply(this,[].slice.call(arguments,1));return this.boost&&e?this.boost.getPoint(e):e}let Ci={compose:function(t,e,i,s){if(k(qt,"Boost.Series")){let o=Wt().plotOptions,n=t.prototype;if(Lt(t,"destroy",K),Lt(t,"hide",Ye),s&&(n.renderCanvas=ct),w(n,"getExtremes",yi),w(n,"processData",Ai),w(n,"searchPoint",_i),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(u=>(function(l,h,r){function v(p){let B=this.options.stacking&&(r==="translate"||r==="generatePoints");this.boosted&&!B&&Ee(this.chart)&&this.type!=="heatmap"&&this.type!=="treemap"&&j[this.type]&&this.options.boostThreshold!==0?r==="render"&&this.renderCanvas&&this.renderCanvas():p.call(this)}if(w(l,r,v),r==="translate")for(let p of["column","arearange","columnrange","heatmap","treemap"])h[p]&&w(h[p].prototype,r,v)})(n,e,u)),w(i.prototype,"firePointEvent",function(u,l,h){if(l==="click"&&this.series.boosted){let r=h.point;if((r.dist||r.distX)>=(r.series.options.marker?.radius??10))return}return u.apply(this,[].slice.call(arguments,1))}),ne.forEach(u=>{let l=o[u];l&&(l.boostThreshold=5e3,l.boostData=[],e[u].prototype.fillOpacity=!0)}),s){let{area:u,areaspline:l,bubble:h,column:r,heatmap:v,scatter:p,treemap:B}=e;if(u&&d(u.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),l&&d(l.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),h){let O=h.prototype;delete O.buildKDTree,w(O,"markerAttribs",function(Q){return!this.boosted&&Q.apply(this,[].slice.call(arguments,1))})}r&&d(r.prototype,{fill:!0,sampling:!0}),p&&(p.prototype.fill=!0),[v,B].forEach(O=>{O&&w(O.prototype,"drawPoints",bi)})}}return t},destroyGraphics:E,eachAsync:z,getPoint:re},Pi={defaultHTMLColorMap:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{doc:wi,win:Ti}=P(),{addEvent:ki,error:Mi}=P(),di=["webgl","experimental-webgl","moz-webgl","webkit-3d"];function hi(){let t;if(Ti.WebGLRenderingContext!==void 0){t=wi.createElement("canvas");for(let e=0;e<di.length;++e)try{if(t.getContext(di[e])!=null)return!0}catch{}}return!1}let fi={compose:function(t,e,i,s,o,n){let u=hi();u||(P().initCanvasBoost!==void 0?P().initCanvasBoost():Mi(26)),n&&!n.names.lightgoldenrodyellow&&(n.names={...n.names,...Pi.defaultHTMLColorMap}),Me.compose(t,u),Ci.compose(i,s,o,u),ki(e,"setExtremes",function(l){for(let h of[this.chart,...this.series].map(r=>r.renderTarget).filter(Boolean)){let{horiz:r,pos:v}=this,p=r?"scaleX":"scaleY",B=r?"translateX":"translateY",O=h?.[p]??1,Q=1,ee=0,te=1,pe="none";this.isPanning&&(Q=(l.scale??1)*O,ee=(h?.[B]||0)-Q*(l.move||0)+O*v-Q*v,te=.7,pe="blur(3px)"),h?.attr({[p]:Q,[B]:ee}).css({transition:"250ms filter, 250ms opacity",filter:pe,opacity:te})}})},hasWebGLSupport:hi},tt=P();tt.hasWebGLSupport=fi.hasWebGLSupport,fi.compose(tt.Chart,tt.Axis,tt.Series,tt.seriesTypes,tt.Point,tt.Color);let Ei=P();return le.default})())})(Ft)),Ft.exports}Fi();const Gi={style:{"margin-bottom":"20px",display:"flex",gap:"12px","align-items":"center"}},Xi={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap"}},ji={key:0},Hi={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap","margin-top":"10px"}},$i={style:{flex:"1","min-width":"100px","max-width":"200px"}},Yi={style:{flex:"1","min-width":"100px","max-width":"300px"}},Wi={style:{display:"flex",gap:"8px","align-items":"center"}},qi={key:1,style:{display:"flex",gap:"16px","align-items":"center"}},Ki={style:{"padding-top":"24px"}},Zi={style:{display:"flex",gap:"8px","padding-top":"24px"}},Ji={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Qi={style:{"font-size":"16px","font-weight":"500"}},es={key:0,style:{"font-size":"14px",color:"#666"}},ts={style:{"text-align":"center",color:"#666","font-size":"12px"}},is={key:0,style:{padding:"20px"}},ss={style:{"margin-bottom":"20px"}},os={style:{"text-align":"right"}},rs={key:1,style:{padding:"20px"}},as={style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"4px"}},ls={style:{display:"flex",gap:"4px"}},ns={style:{"text-align":"right","margin-top":"20px"}},li=50,us=Si({__name:"Charts",setup(ni){const ui=Li(),lt=()=>{ui.push("/home")},Be=V([]),je=V(!1),Y=V(""),W=V(""),g=V("voltage"),Ie=V(!1),F=V(!1),le=V(null),xt=V(null);let P=null;const ne=V(0),j=V(void 0),Te=V(10),Se=V(!1),ve=V(1),Pt=V([]),Ue=V([]),ke=V([]),Me=V(1),nt=V(""),Ne=V(null),wt=V(null),ut=V(!1),vt=V(!1),He=V([]),Ze=V([]),bt=V([]),dt=V(!1),I=V(new Set),Tt=gt(()=>{switch(g.value){case"voltage":case"voltage_range":case"avg_voltage":return 0;case"pump_pressure":case"inlet_outlet_pressure":case"oxygen_hydrogen_outlet_pressure":case"pressure_difference":return 2;case"specific_gravity":return 3;case"oxygen_hydrogen_outlet_temp":return 1;case"oxygen_hydrogen_cross":return 2;case"hydrogen_flow_meter":return 2;default:return 2}}),Gt=gt(()=>{const d=new Set;return Be.value.forEach(a=>{a.machine_name&&d.add(a.machine_name)}),Array.from(d).sort((a,f)=>{const m=parseInt(a.split("#")[0].trim())||0,c=parseInt(f.split("#")[0].trim())||0;return m-c})}),Xt=gt(()=>{if(!Y.value)return[];const d=new Set;return Be.value.forEach(a=>{a.machine_name===Y.value&&a.machine_model&&d.add(a.machine_model)}),Array.from(d).sort((a,f)=>f.localeCompare(a))}),jt=gt(()=>!Y.value||!W.value?"":`${Y.value} - ${W.value}`),kt=gt(()=>{if(!le.value)return"";const d=le.value[g.value];return d?g.value==="voltage"?`${Object.keys(d).length} 条曲线`:["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value)?"2 条曲线":"1 条曲线":""}),Ht=gt(()=>{if(!le.value)return 0;const d=le.value[g.value];if(!d)return 0;if(g.value==="voltage")return Object.values(d).reduce((a,f)=>f.x&&f.y?a+Math.min(f.x.length,f.y.length):a,0);if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value)){const a=d;let f=0;return Object.values(a).forEach(m=>{m.x&&m.y&&(f+=Math.min(m.x.length,m.y.length))}),f}else{const a=d;return a.x&&a.y?Math.min(a.x.length,a.y.length):0}}),ht=async()=>{je.value=!0;try{const a=await(await fetch("/api/get/device_list")).json();a.status==="success"?Be.value=a.data:G.error("加载设备列表失败")}catch(d){console.error("Error loading device list:",d),G.error("加载设备列表失败")}finally{je.value=!1}},yt=async()=>{if(!Y.value||!W.value){G.warning("请先选择设备名称和型号");return}Ie.value=!0;try{const d=`/api/get/one_device/all_data?machine_name=${encodeURIComponent(Y.value)}&machine_model=${encodeURIComponent(W.value)}`,f=await(await fetch(d)).json();if(f.status==="success"){le.value=f.data,F.value=!0;const m=f.data.voltage;if(m&&Object.keys(m).length>0){const c=Object.keys(m)[0],k=m[c];k.x&&k.t&&k.id&&(Pt.value=k.x.map((w,q)=>({x:w,t:k.t[q]})),Ue.value=k.x.map((w,q)=>({x:w,t:k.t[q],label:`小时数: ${w} (时间: ${k.t[q]})`,value:w}))),bt.value=Object.keys(m)}gi(()=>{At()}),G.success("数据加载成功")}else G.error(`加载数据失败: ${f.detail||"未知错误"}`)}catch(d){console.error("Error loading chart data:",d),G.error("加载数据失败")}finally{Ie.value=!1}},$t=()=>{Y.value?localStorage.setItem("cached_machine_name_optimized",Y.value):localStorage.removeItem("cached_machine_name_optimized"),W.value="",localStorage.removeItem("cached_machine_model_optimized"),P&&(P.destroy(),P=null),F.value=!1,le.value=null,g.value="voltage",ne.value=0,j.value=void 0,Te.value=10,dt.value=!1},Mt=async()=>{W.value?localStorage.setItem("cached_machine_model_optimized",W.value):localStorage.removeItem("cached_machine_model_optimized"),P&&(P.destroy(),P=null),F.value=!1,le.value=null,g.value="voltage",ne.value=0,j.value=void 0,Te.value=10,dt.value=!1,W.value&&(await gi(),yt())},$e=()=>{ne.value=0,j.value=void 0,Te.value=10,At()},Et=()=>{if(!le.value)return 0;const d=le.value[g.value];if(!d)return 0;let a=0;if(g.value==="voltage")Object.values(d).forEach(f=>{if(f.y&&f.y.length>0){const m=f.y.filter(c=>c!=null);if(m.length>0){const c=Math.max(...m);c>a&&(a=c)}}});else if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value))Object.values(d).forEach(m=>{if(m.y&&m.y.length>0){const c=m.y.filter(k=>k!=null);if(c.length>0){const k=Math.max(...c);k>a&&(a=k)}}});else{const f=d;if(f.y&&f.y.length>0){const m=f.y.filter(c=>c!=null);m.length>0&&(a=Math.max(...m))}}return a},St=()=>{const d=Et();ne.value=0,j.value=d*1.1,Te.value=Math.ceil(d*.05),P&&P.yAxis&&P.yAxis[0]&&P.yAxis[0].update({min:0,max:d*1.1},!0)},ft=()=>{P&&P.yAxis&&P.yAxis[0]&&P.yAxis[0].update({min:ne.value,max:j.value||void 0},!0)},Je=async()=>{if(!Y.value||!W.value){G.warning("请先选择设备名称和型号");return}ai.prompt("请输入新的设备型号","修改设备型号",{confirmButtonText:"下一步",cancelButtonText:"取消",inputPattern:/^.+$/,inputErrorMessage:"设备型号不能为空",inputPlaceholder:"请输入新的设备型号"}).then(({value:d})=>{if(!d||d.trim()===""){G.warning("设备型号不能为空");return}const a=d.trim();ai.confirm(`<div style="line-height: 1.8;">
          <p style="margin-bottom: 12px;"><strong>请确认以下修改信息：</strong></p>
          <p>设备名称：<span style="color: #409EFF; font-weight: 500;">${Y.value}</span></p>
          <p>原设备型号：<span style="color: #E6A23C; font-weight: 500;">${W.value}</span></p>
          <p>新设备型号：<span style="color: #67C23A; font-weight: 500;">${a}</span></p>
          <p style="margin-top: 12px; padding: 8px; background-color: #FEF0F0; border-left: 4px solid #F56C6C; color: #F56C6C;">
            <strong>⚠️ 警告：</strong>此操作将修改数据库中的所有相关数据，一旦修改无法撤回！
          </p>
        </div>`,"确认修改设备型号",{confirmButtonText:"确定修改",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,confirmButtonClass:"el-button--danger"}).then(async()=>{await Kt(Y.value,W.value,a)}).catch(()=>{G.info("已取消修改")})}).catch(()=>{G.info("已取消修改")})},Qe=()=>{Se.value=!0,ve.value=1,Ne.value=null,wt.value=null,Ze.value=[],nt.value="",Me.value=1,I.value=new Set,ke.value=[]},Yt=d=>{d&&(nt.value="",Me.value=1,Ut())},Ut=()=>{const d=(Me.value-1)*li,a=d+li,f=Ue.value.slice(d,a);Me.value===1?ke.value=f:ke.value=[...ke.value,...f],Me.value++},et=d=>{if(nt.value=d,d==="")Me.value=1,ke.value=Ue.value.slice(0,li),Me.value=2;else{const a=Ue.value.filter(f=>f.x.toString().includes(d));ke.value=a}},Wt=d=>{const a=Pt.value.find(f=>f.x===d);a&&(wt.value=a.t)},qt=d=>{I.value.has(d)?I.value.delete(d):I.value.add(d),I.value=new Set(I.value)},Rt=d=>{ai.prompt("请输入要修改的值（将应用到该列所有单元格）","一键修改",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^-?\d+$/,inputErrorMessage:"请输入有效的整数",inputPlaceholder:"请输入数值"}).then(({value:a})=>{if(a===null||a===""){G.warning("输入值不能为空");return}const f=parseInt(a);if(isNaN(f)){G.error("请输入有效的数值");return}Ze.value.forEach(m=>{m.values[d]=f}),G.success(`已将 ID ${He.value[d]} 列的所有值修改为 ${f}`)}).catch(()=>{})},zt=async()=>{if(!(Ne.value===null||!le.value)){ut.value=!0;try{const d=le.value.voltage,a=Object.keys(d)[0],f=d[a],m=f.x.findIndex(q=>q===Ne.value);if(m===-1){G.error("未找到对应的数据"),ut.value=!1;return}const c=f.id[m],w=await(await fetch("/api/get/raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:c,cells:bt.value})})).json();w.status==="success"?(He.value=c,Ze.value=w.data.map(q=>({cell:q.cell,values:q.values})),ve.value=2):G.error(`加载数据失败: ${w.detail||"未知错误"}`)}catch(d){console.error("Error loading raw data:",d),G.error("加载数据失败")}finally{ut.value=!1}}},Dt=async()=>{vt.value=!0;try{const d=[],a=[];I.value.forEach(c=>{a.push(He.value[c])}),Ze.value.forEach(c=>{c.values.forEach((k,w)=>{I.value.has(w)||d.push({id:He.value[w],cell:c.cell,value:k})})});const m=await(await fetch("/api/get/update_raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:d,deletes:a})})).json();if(m.status==="success"){const c=[];m.updated_count>0&&c.push(`更新 ${m.updated_count} 条数据`),m.deleted_count>0&&c.push(`删除 ${m.deleted_count} 条数据`),G.success(`操作成功！${c.join("，")}`),Se.value=!1,dt.value=!0}else G.error(`更新失败: ${m.detail||"未知错误"}`)}catch(d){console.error("Error saving raw data:",d),G.error("更新失败")}finally{vt.value=!1}},Lt=()=>{window.location.reload()},Kt=async(d,a,f)=>{const m=G({message:"正在更新数据库...",type:"info",duration:0});try{const k=await(await fetch("/api/get/update/machine_model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_name:d,old_machine_model:a,new_machine_model:f})})).json();k.status==="success"?(G.success(`修改成功！共更新 ${k.updated_count} 条数据`),W.value=f,localStorage.setItem("cached_machine_model_optimized",f),setTimeout(()=>{window.location.reload()},1500)):G.error(`修改失败: ${k.detail||"未知错误"}`)}catch(c){console.error("Error updating machine model:",c),G.error("修改失败，请检查网络连接")}finally{m.close()}},At=()=>{if(!xt.value||!le.value)return;const d=le.value[g.value];if(!d)return;P&&P.destroy();const a=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#EFC94C","#17BECF","#4C72B0","#DD8452","#55A868","#C44E52","#8172B3","#937860","#64B5CD","#E99675","#97BBCD","#B5BD89","#FF6F61","#6A5ACD"];let f=[],m="",c="",k,w,q=0;const be=(L,E,z)=>{if(L.x&&L.y){f=[{type:"line",name:E,data:L.x.map((M,K)=>({x:M,y:L.y[K],t:L.t?L.t[K]:void 0})),color:z,marker:{enabled:!1},connectNulls:!0}];const _=L.y.filter(M=>M!=null);if(_.length>0){const M=Math.max(..._),K=M*.1;k=0,w=M+K,j.value===void 0?(ne.value=0,j.value=w,Te.value=Math.ceil(w*.05)):(k=ne.value,w=j.value)}L.x.length>0&&(q=Math.max(...L.x)*1.2)}},Ee=(L,E)=>{const z=[],_=[];if(E.forEach(({key:M,name:K,color:Ye})=>{const y=L[M];if(y&&y.x&&y.y){z.push({type:"line",name:K,data:y.x.map((ye,ct)=>({x:ye,y:y.y[ct],t:y.t?y.t[ct]:void 0})),color:Ye,marker:{enabled:!1},connectNulls:!0});const re=y.y.filter(ye=>ye!=null);_.push(...re),y.x.length>0&&q===0&&(q=Math.max(...y.x)*1.2)}}),f=z,_.length>0){const M=Math.max(..._),K=M*.1;k=0,w=M+K,j.value===void 0?(ne.value=0,j.value=w,Te.value=Math.ceil(w*.05)):(k=ne.value,w=j.value)}};if(g.value==="voltage"){f=Object.entries(d).map(([z,_],M)=>({type:"line",name:z,data:_.x.map((K,Ye)=>({x:K,y:_.y[Ye],t:_.t?_.t[Ye]:void 0})),color:a[M%a.length],marker:{enabled:!1},connectNulls:!0})),m="电压 (mV)",c="小室电压";const L=Et()*1.1;k=0,w=L,j.value===void 0?(ne.value=0,j.value=L,Te.value=Math.ceil(L*.05)):(k=ne.value,w=j.value);const E=f[0];if(E&&"data"in E&&Array.isArray(E.data)&&E.data.length>0){const z=E.data.map(M=>M.x);q=Math.max(...z)*1.2}}else g.value==="voltage_range"?(be(d,"极差","#7cb5ec"),m="极差 (mV)",c="小室极差"):g.value==="avg_voltage"?(be(d,"平均电压","#FF7F0E"),m="小室平均电压 (mV)",c="小室电压平均值"):g.value==="pump_pressure"?(be(d,"泵后压力","#2CA02C"),m="泵压 (Bar)",c="泵后压力"):g.value==="specific_gravity"?(be(d,"碱液比重","#D62728"),m="比重 (mg/cm³)",c="碱液比重"):g.value==="hydrogen_flow_meter"?(be(d,"Hydrogen Flow","#9467BD"),m="氢流量(L/min)",c="氢气流量"):g.value==="pressure_difference"?(be(d,"Pressure Difference","#E74C3C"),m="压力差 (Bar)",c="电解槽进出口压差"):g.value==="inlet_outlet_pressure"?(Ee(d,[{key:"inlet_pressure",name:"进槽压力",color:"#1F77B4"},{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#FF7F0E"}]),m="压差 (Bar)",c="电解槽进出槽压力"):g.value==="oxygen_hydrogen_outlet_pressure"?(Ee(d,[{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#2CA02C"},{key:"hydrogen_outlet_pressure",name:"氢侧出槽压力",color:"#D62728"}]),m="压差 (Bar)",c="电解槽氢氧侧出槽压力"):g.value==="oxygen_hydrogen_outlet_temp"?(Ee(d,[{key:"oxygen_outlet_temp",name:"氧侧出槽温度",color:"#FF7F0E"},{key:"hydrogen_outlet_temp",name:"氢气出槽温度",color:"#9467BD"}]),m="温度 (°C)",c="电解槽氢氧侧出槽温度"):g.value==="oxygen_hydrogen_cross"&&(Ee(d,[{key:"oxygen_in_hydrogen",name:"氧中氢",color:"#17BECF"},{key:"hydrogen_in_oxygen",name:"氢中氧",color:"#8C564B"}]),m="含量 (ppm)",c="氧中氢/氢中氧");P=Ii.chart(xt.value,{accessibility:{enabled:!1},boost:{useGPUTranslations:!0,seriesThreshold:1},chart:{type:"line",zooming:{type:"x"},panning:{enabled:!0,type:"x"},animation:!1,panKey:"shift"},title:{text:c},xAxis:{title:{text:"时间 (小时)"},crosshair:{color:"#c50404",width:1,dashStyle:"Solid",zIndex:5},max:q},yAxis:{title:{text:m},crosshair:!1,min:k,max:w,startOnTick:!1,endOnTick:!1},legend:{enabled:["voltage","inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(g.value),layout:"horizontal",align:"center",verticalAlign:"bottom",maxHeight:80},tooltip:{shared:!0,useHTML:!0,animation:!1,positioner:function(L,E,z){const _=this.chart;let M=z.plotX+_.plotLeft+10,K=z.plotY+_.plotTop-E/2;return M+L>_.plotWidth+_.plotLeft&&(M=z.plotX+_.plotLeft-L-10),K<_.plotTop&&(K=_.plotTop),K+E>_.plotTop+_.plotHeight&&(K=_.plotTop+_.plotHeight-E),{x:M,y:K}},formatter:function(){const L=this.x;let E='<div style="font-size: 14px;">';if(E+='<div style="text-align: center; font-weight: 500; margin-bottom: 8px; padding-bottom: 4px; border-bottom: 1px solid #eee;">',E+=`时间: <span style="color: #409EFF">${L.toFixed(0)}</span> 小时`,this.points&&this.points.length>0&&this.points[0].options.t&&(E+=`<br><span style="font-size: 12px; color: #909399;">${this.points[0].options.t}</span>`),E+="</div>",this.points){let z="",_=2;g.value==="voltage"||g.value==="voltage_range"||g.value==="avg_voltage"?(z="mV",_=0):g.value==="pump_pressure"||g.value==="inlet_outlet_pressure"||g.value==="oxygen_hydrogen_outlet_pressure"||g.value==="pressure_difference"?(z="Mpa",_=2):g.value==="specific_gravity"?(z="mg/cm³",_=3):g.value==="oxygen_hydrogen_outlet_temp"?(z="℃",_=1):g.value==="oxygen_hydrogen_cross"?(z="ppm",_=2):g.value==="hydrogen_flow_meter"&&(z="L/min",_=2),this.points.forEach(M=>{E+='<div style="margin: 4px 0; display: flex; align-items: center; justify-content: space-between;">',E+='<span style="display: flex; align-items: center;">',E+=`<span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color: ${M.series.color}; margin-right: 8px;"></span>`,E+=`<span style="font-weight: 500;">${M.series.name}</span>`,E+="</span>",E+=`<span style="font-weight: bold; color: ${M.series.color};">&nbsp;${Number(M.y).toFixed(_)}${z?" "+z:""}</span>`,E+="</div>"})}return E+="</div>",E}},plotOptions:{line:{animation:!1,marker:{enabled:!1},states:{hover:{enabled:!1,lineWidth:4}}}},series:f,credits:{enabled:!1},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{enabled:!1}}}]}})};return Ui(async()=>{await ht();const d=localStorage.getItem("cached_machine_name_optimized"),a=localStorage.getItem("cached_machine_model_optimized");if(d&&a){const f=Be.value.some(c=>c.machine_name===d),m=Be.value.some(c=>c.machine_name===d&&c.machine_model===a);f&&m&&(Y.value=d,W.value=a,await yt())}}),Ri(()=>{P&&P.destroy()}),(d,a)=>{const f=he("el-button"),m=he("el-popover"),c=he("el-radio-button"),k=he("el-radio-group"),w=he("el-option"),q=he("el-select"),be=he("el-divider"),Ee=he("el-input-number"),L=he("el-card"),E=he("el-empty"),z=he("el-select-v2"),_=he("el-table-column"),M=he("el-tooltip"),K=he("el-table"),Ye=he("el-dialog");return J(),Ve(L,null,{default:A(()=>[b("div",Gi,[C(f,{onClick:lt,type:"primary",plain:"",icon:"ArrowLeft"},{default:A(()=>[...a[9]||(a[9]=[$("返回首页",-1)])]),_:1}),C(m,{placement:"bottom-start",width:400,trigger:"hover"},{reference:A(()=>[C(f,{type:"info",plain:"",icon:"InfoFilled"},{default:A(()=>[...a[10]||(a[10]=[$("说明",-1)])]),_:1})]),default:A(()=>[a[11]||(a[11]=b("div",{style:{"line-height":"1.8"}},[b("h4",{style:{margin:"0 0 12px 0",color:"#409EFF"}},"📊 图表说明"),b("p",{style:{margin:"8px 0"}},[b("strong",null,"📈 简要说明:")]),b("ul",{style:{margin:"4px 0","padding-left":"20px"}},[b("li",null,"可自定义Y轴范围或自动适配"),b("li",null,"自动过滤小室电压小于1680的时间点"),b("li",null,"所有图表的时间点对齐"),b("li",null,"所有数据均为平均值(每小时),向下取整"),b("li",null,"X轴扩充为最大时间的1.2倍"),b("li",null,"修改原始数据目前仅支持修改小室电压")]),b("p",{style:{margin:"8px 0"}},[b("strong",null,"💡 操作提示:")]),b("ul",{style:{margin:"4px 0","padding-left":"20px"}},[b("li",null,"支持X轴缩放,鼠标选中区域就可以放大图表"),b("li",null,"按住Shift+拖拽:平移图表")])],-1))]),_:1})]),C(L,{style:{"margin-bottom":"20px"}},{default:A(()=>[b("div",Xi,[F.value?(J(),Xe("div",ji,[C(k,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=y=>g.value=y),onChange:$e,size:"large"},{default:A(()=>[C(c,{label:"voltage"},{default:A(()=>[...a[12]||(a[12]=[$("小室电压",-1)])]),_:1}),C(c,{label:"avg_voltage"},{default:A(()=>[...a[13]||(a[13]=[$("小室电压平均值",-1)])]),_:1}),C(c,{label:"voltage_range"},{default:A(()=>[...a[14]||(a[14]=[$("小室极差",-1)])]),_:1}),C(c,{label:"pump_pressure"},{default:A(()=>[...a[15]||(a[15]=[$("泵后压力",-1)])]),_:1}),C(c,{label:"specific_gravity"},{default:A(()=>[...a[16]||(a[16]=[$("碱液比重",-1)])]),_:1}),C(c,{label:"hydrogen_flow_meter"},{default:A(()=>[...a[17]||(a[17]=[$("氢气流量",-1)])]),_:1}),C(c,{label:"inlet_outlet_pressure"},{default:A(()=>[...a[18]||(a[18]=[$("电解槽进出槽压力",-1)])]),_:1}),C(c,{label:"pressure_difference"},{default:A(()=>[...a[19]||(a[19]=[$("电解槽进出口压差",-1)])]),_:1}),C(c,{label:"oxygen_hydrogen_outlet_pressure"},{default:A(()=>[...a[20]||(a[20]=[$("电解槽氢氧侧出槽压力",-1)])]),_:1}),C(c,{label:"oxygen_hydrogen_outlet_temp"},{default:A(()=>[...a[21]||(a[21]=[$("电解槽氢氧侧出槽温度",-1)])]),_:1}),C(c,{label:"oxygen_hydrogen_cross"},{default:A(()=>[...a[22]||(a[22]=[$("氧中氢/氢中氧",-1)])]),_:1})]),_:1},8,["modelValue"])])):we("",!0)]),b("div",Hi,[b("div",$i,[a[23]||(a[23]=b("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备名称 (Machine Name)",-1)),C(q,{modelValue:Y.value,"onUpdate:modelValue":a[1]||(a[1]=y=>Y.value=y),placeholder:"请选择设备名称",filterable:"",clearable:"",style:{width:"100%"},loading:je.value,onChange:$t},{default:A(()=>[(J(!0),Xe(ri,null,oi(Gt.value,y=>(J(),Ve(w,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),b("div",Yi,[a[25]||(a[25]=b("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备型号 (Machine Model)",-1)),b("div",Wi,[C(q,{modelValue:W.value,"onUpdate:modelValue":a[2]||(a[2]=y=>W.value=y),placeholder:"请选择设备型号",filterable:"",clearable:"",style:{flex:"1"},loading:je.value,disabled:!Y.value,onChange:Mt},{default:A(()=>[(J(!0),Xe(ri,null,oi(Xt.value,y=>(J(),Ve(w,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","disabled"]),C(f,{type:"warning",plain:"",disabled:!Y.value||!W.value,onClick:Je,style:{"white-space":"nowrap"}},{default:A(()=>[...a[24]||(a[24]=[$(" 修改设备型号 ",-1)])]),_:1},8,["disabled"])])]),F.value?(J(),Ve(be,{key:0,direction:"vertical",style:{height:"50px",margin:"0 8px"}})):we("",!0),F.value?(J(),Xe("div",qi,[b("div",null,[a[26]||(a[26]=b("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最小值 (Y Min)",-1)),C(Ee,{modelValue:ne.value,"onUpdate:modelValue":a[3]||(a[3]=y=>ne.value=y),step:Te.value,min:0,placeholder:"0",style:{width:"150px"},onChange:ft,precision:Tt.value},null,8,["modelValue","step","precision"])]),b("div",null,[a[27]||(a[27]=b("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最大值 (Y Max)",-1)),C(Ee,{modelValue:j.value,"onUpdate:modelValue":a[4]||(a[4]=y=>j.value=y),step:Te.value,min:0,placeholder:"自适应",style:{width:"150px"},onChange:ft,precision:Tt.value},null,8,["modelValue","step","precision"])]),b("div",Ki,[C(f,{onClick:St,type:"primary"},{default:A(()=>[...a[28]||(a[28]=[$("自动适配",-1)])]),_:1})])])):we("",!0),C(be,{direction:"vertical",style:{height:"50px",margin:"0 8px"}}),b("div",Zi,[C(f,{type:"primary",plain:"",onClick:Qe,disabled:!F.value},{default:A(()=>[...a[29]||(a[29]=[$(" 修改原始数据 ",-1)])]),_:1},8,["disabled"]),dt.value?(J(),Ve(f,{key:0,type:"success",onClick:Lt},{default:A(()=>[...a[30]||(a[30]=[$(" 刷新页面 ",-1)])]),_:1})):we("",!0)])])]),_:1}),F.value?(J(),Ve(L,{key:0},{header:A(()=>[b("div",Ji,[b("div",Qi,at(g.value==="voltage"?"小室电压":g.value==="voltage_range"?"小室极差":g.value==="avg_voltage"?"小室电压平均值":g.value==="pump_pressure"?"泵后压力":g.value==="specific_gravity"?"碱液比重":g.value==="hydrogen_flow_meter"?"氢气流量":g.value==="inlet_outlet_pressure"?"电解槽进出槽压力":g.value==="oxygen_hydrogen_outlet_pressure"?"电解槽氢氧侧出槽压力":g.value==="oxygen_hydrogen_outlet_temp"?"电解槽氢氧侧出槽温度":g.value==="oxygen_hydrogen_cross"?"氧中氢/氢中氧":"电解槽进出口压差"),1),kt.value?(J(),Xe("div",es,at(kt.value),1)):we("",!0)])]),footer:A(()=>[b("div",ts," 渲染模式: Boost 高性能模式 | 设备: "+at(jt.value)+" | 数据点: "+at(Ht.value),1)]),default:A(()=>[Ie.value?(J(),Ve(xi,{key:0})):we("",!0),zi(b("div",{ref_key:"chartContainer",ref:xt,style:{width:"100%",height:"600px"}},null,512),[[Di,!Ie.value]])]),_:1})):we("",!0),!F.value&&Ie.value?(J(),Ve(L,{key:1},{header:A(()=>[...a[31]||(a[31]=[b("div",{style:{"font-size":"16px","font-weight":"500"}},"加载中...",-1)])]),default:A(()=>[C(xi)]),_:1})):we("",!0),!F.value&&!Ie.value?(J(),Ve(E,{key:2,description:"请选择设备名称和型号","image-size":200})):we("",!0),C(Ye,{modelValue:Se.value,"onUpdate:modelValue":a[8]||(a[8]=y=>Se.value=y),title:"修改原始数据",width:ve.value===1?"30%":"80%","close-on-click-modal":!1},{default:A(()=>[ve.value===1?(J(),Xe("div",is,[a[35]||(a[35]=b("h3",{style:{"margin-bottom":"16px"}},"步骤 1: 选择时间点",-1)),b("div",ss,[a[32]||(a[32]=b("div",{style:{"margin-bottom":"8px","font-weight":"500"}},"选择时间点：",-1)),C(z,{modelValue:Ne.value,"onUpdate:modelValue":a[5]||(a[5]=y=>Ne.value=y),placeholder:"请选择时间点（支持搜索）",filterable:"",remote:"","remote-method":et,options:ke.value,style:{width:"100%"},onChange:Wt,onVisibleChange:Yt},{footer:A(()=>[ke.value.length<Ue.value.length&&nt.value===""?(J(),Xe("div",{key:0,onClick:Ut,class:"load-more-trigger"}," 点击加载更多 (已加载 "+at(ke.value.length)+" / "+at(Ue.value.length)+") ",1)):we("",!0)]),_:1},8,["modelValue","options"])]),b("div",os,[C(f,{onClick:a[6]||(a[6]=y=>Se.value=!1)},{default:A(()=>[...a[33]||(a[33]=[$("取消",-1)])]),_:1}),C(f,{type:"primary",onClick:zt,disabled:Ne.value===null,loading:ut.value},{default:A(()=>[...a[34]||(a[34]=[$(" 下一步 ",-1)])]),_:1},8,["disabled","loading"])])])):we("",!0),ve.value===2?(J(),Xe("div",rs,[a[38]||(a[38]=b("h3",{style:{"margin-bottom":"16px"}},"步骤 2: 编辑数据",-1)),C(K,{data:Ze.value,border:"",stripe:"",style:{width:"100%"},"max-height":"500"},{default:A(()=>[C(_,{prop:"cell",label:"Cell",width:"100",fixed:""}),(J(!0),Xe(ri,null,oi(He.value,(y,re)=>(J(),Ve(_,{key:y,width:"180px","class-name":I.value.has(re)?"deleted-column":""},{header:A(()=>[b("div",as,[b("span",{style:Bi(I.value.has(re)?"text-decoration: line-through; color: #999;":"")}," ID: "+at(y),5),b("div",ls,[C(M,{content:"一键修改该列所有值",placement:"top"},{default:A(()=>[C(f,{type:"primary",icon:"Edit",size:"small",circle:"",onClick:ye=>Rt(re),disabled:I.value.has(re)},null,8,["onClick","disabled"])]),_:2},1024),C(M,{content:I.value.has(re)?"恢复该列":"删除该列",placement:"top"},{default:A(()=>[C(f,{type:I.value.has(re)?"success":"danger",icon:I.value.has(re)?"RefreshLeft":"Delete",size:"small",circle:"",onClick:ye=>qt(re)},null,8,["type","icon","onClick"])]),_:2},1032,["content"])])])]),default:A(ye=>[C(Ee,{modelValue:ye.row.values[re],"onUpdate:modelValue":ct=>ye.row.values[re]=ct,precision:0,step:10,style:{width:"100%"},disabled:I.value.has(re),class:Vi(I.value.has(re)?"deleted-input":"")},null,8,["modelValue","onUpdate:modelValue","disabled","class"])]),_:2},1032,["class-name"]))),128))]),_:1},8,["data"]),b("div",ns,[C(f,{onClick:a[7]||(a[7]=y=>ve.value=1)},{default:A(()=>[...a[36]||(a[36]=[$("返回",-1)])]),_:1}),C(f,{type:"primary",onClick:Dt,loading:vt.value},{default:A(()=>[...a[37]||(a[37]=[$("确认更新",-1)])]),_:1},8,["loading"])])])):we("",!0)]),_:1},8,["modelValue","width"])]),_:1})}}}),ms=Ni(us,[["__scopeId","data-v-f5ad625c"]]);export{ms as default};
