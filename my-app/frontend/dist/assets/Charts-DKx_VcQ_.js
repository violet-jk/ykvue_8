import{d as As,c as fe,o as N,a as m,az as ds,Q as je,a6 as He,D as kt,r as V,b as bt,m as zs,X as Ls,I as Ne,J as A,al as ce,n as bs,R as P,L as Me,O as K,K as Bs,S as Vs,P as dt,E as Is,aA as Ns}from"./vue-BXVGoD-k.js";import{H as Os}from"./highcharts-Ddpy6-x_.js";import{_ as _s}from"./index-tzG0If5d.js";import{E as H,b as us}from"./element-plus-DHqSS1cu.js";import"./highcharts-DSb220Oi.js";var jt={exports:{}},Gs=jt.exports,xs;function Fs(){return xs||(xs=1,(function(Ht,Tt){(function(Ye,pe){Ht.exports=pe(Ye._Highcharts,Ye._Highcharts.Color)})(typeof window>"u"?Gs:window,(Ye,pe)=>(()=>{let F,_;var X,v={620:t=>{t.exports=pe},944:t=>{t.exports=Ye}},Oe={};function j(t){var e=Oe[t];if(e!==void 0)return e.exports;var s=Oe[t]={exports:{}};return v[t](s,s.exports,j),s.exports}j.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return j.d(e,{a:e}),e},j.d=(t,e)=>{for(var s in e)j.o(e,s)&&!j.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},j.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ne={};j.d(ne,{default:()=>Ds});var xt=j(944),w=j.n(xt);let de=["area","areaspline","arearange","column","columnrange","bar","line","scatter","heatmap","bubble","treemap"],W={};de.forEach(t=>{W[t]=!0});let{composed:Ee}=w(),{addEvent:De,pick:Ae,pushUnique:Mt}=w();function ze(t){let e=t.series,s=t.boost=t.boost||{},i=t.options.boost||{},o=Ae(i.seriesThreshold,50);if(e.length>=o)return!0;if(e.length===1)return!1;let n=i.allowForce;if(n===void 0){for(let a of(n=!0,t.xAxis))if(Ae(a.min,-1/0)>Ae(a.dataMin,-1/0)||Ae(a.max,1/0)<Ae(a.dataMax,1/0)){n=!1;break}}if(s.forceChartBoost!==void 0){if(n)return s.forceChartBoost;s.forceChartBoost=void 0}let d=0,l=0,h;for(let a of e)(h=a.options).boostThreshold!==0&&a.visible!==!1&&a.type!=="heatmap"&&(W[a.type]&&++d,(function(...x){let p=-Number.MAX_VALUE;return x.forEach(I=>{if(I!=null&&I.length!==void 0&&I.length>0)return p=I.length,!0}),p})(a.getColumn("x",!0),h.data,a.points)>=(h.boostThreshold||Number.MAX_VALUE)&&++l);return s.forceChartBoost=n&&(d===e.length&&l===d||l>5),s.forceChartBoost}function Se(t){function e(){t.boost&&t.boost.wgl&&ze(t)&&t.boost.wgl.render(t)}De(t,"predraw",function(){t.boost=t.boost||{},t.boost.forceChartBoost=void 0,t.boosted=!1,t.axes.some(o=>o.isPanning)||t.boost.clear?.(),t.boost.canvas&&t.boost.wgl&&ze(t)&&t.boost.wgl.allocateBuffer(t),t.boost.markerGroup&&t.xAxis&&t.xAxis.length>0&&t.yAxis&&t.yAxis.length>0&&t.boost.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),De(t,"load",e,{order:-1}),De(t,"redraw",e);let s=-1,i=-1;De(t.pointer,"afterGetHoverData",o=>{let n=o.hoverPoint?.series;if(t.boost=t.boost||{},t.boost.markerGroup&&n){let d=t.inverted?n.yAxis:n.xAxis,l=t.inverted?n.xAxis:n.yAxis;(d&&d.pos!==s||l&&l.pos!==i)&&(t.series.forEach(h=>{h.halo?.hide()}),t.boost.markerGroup.translate(d.pos,l.pos),s=d.pos,i=l.pos)}})}let Ue={compose:function(t,e){return e&&Mt(Ee,"Boost.Chart")&&t.prototype.callbacks.push(Se),t},getBoostClipRect:function(t,e){let s=t.navigator,i={x:t.plotLeft,y:t.plotTop,width:t.plotWidth,height:t.plotHeight};if(s&&t.inverted?(i.width+=s.top+s.height,s.opposite||(i.x=s.left)):s&&!t.inverted&&(i.height=s.top+s.height-t.plotTop),e.is){let{xAxis:o,yAxis:n}=e;if(i=t.getClipBox(e),t.inverted){let d=i.width;i.width=i.height,i.height=d,i.x=n.pos,i.y=o.pos}else i.x=o.pos,i.y=n.pos}if(e===t){let o=t.inverted?t.xAxis:t.yAxis;o.length<=1&&(i.y=Math.min(o[0].pos,i.y),i.height=o[0].pos-t.plotTop+o[0].len)}return i},isChartSeriesBoosting:ze};var ut=j(620),Ge=j.n(ut);let Et={area:"LINES",arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"},{clamp:ht,error:yt,pick:We}=w(),et=class{constructor(t){this.errors=[],this.uLocations={},this.gl=t,t&&this.createShader()}bind(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)}createShader(){let t=this.stringToProgram(`#version 100
#define LN10 2.302585092994046
precision highp float;
attribute vec4 aVertexPosition;
attribute vec4 aColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform mat4 uPMatrix;
uniform float pSize;
uniform float translatedThreshold;
uniform bool hasThreshold;
uniform bool skipTranslation;
uniform float xAxisTrans;
uniform float xAxisMin;
uniform float xAxisMax;
uniform float xAxisMinPad;
uniform float xAxisPointRange;
uniform float xAxisLen;
uniform bool  xAxisPostTranslate;
uniform float xAxisOrdinalSlope;
uniform float xAxisOrdinalOffset;
uniform float xAxisPos;
uniform bool  xAxisCVSCoord;
uniform bool  xAxisIsLog;
uniform bool  xAxisReversed;
uniform float yAxisTrans;
uniform float yAxisMin;
uniform float yAxisMax;
uniform float yAxisMinPad;
uniform float yAxisPointRange;
uniform float yAxisLen;
uniform bool  yAxisPostTranslate;
uniform float yAxisOrdinalSlope;
uniform float yAxisOrdinalOffset;
uniform float yAxisPos;
uniform bool  yAxisCVSCoord;
uniform bool  yAxisIsLog;
uniform bool  yAxisReversed;
uniform bool  isCircle;
uniform bool  isBubble;
uniform bool  bubbleSizeByArea;
uniform float bubbleZMin;
uniform float bubbleZMax;
uniform float bubbleZThreshold;
uniform float bubbleMinSize;
uniform float bubbleMaxSize;
uniform bool  bubbleSizeAbs;
uniform bool  isInverted;
float bubbleRadius(){
float value = aVertexPosition.w;
float zMax = bubbleZMax;
float zMin = bubbleZMin;
float radius = 0.0;
float pos = 0.0;
float zRange = zMax - zMin;
if (bubbleSizeAbs){
value = value - bubbleZThreshold;
zMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);
zMin = 0.0;
}
if (value < zMin){
radius = bubbleZMin / 2.0 - 1.0;
} else {
pos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;
if (bubbleSizeByArea && pos > 0.0){
pos = sqrt(pos);
}
radius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;
}
return radius * 2.0;
}
float translate(float val,
float pointPlacement,
float localA,
float localMin,
float minPixelPadding,
float pointRange,
float len,
bool  cvsCoord,
bool  isLog,
bool  reversed
){
float sign = 1.0;
float cvsOffset = 0.0;
if (cvsCoord) {
sign *= -1.0;
cvsOffset = len;
}
if (isLog) {
val = log(val) / LN10;
}
if (reversed) {
sign *= -1.0;
cvsOffset -= sign * len;
}
return sign * (val - localMin) * localA + cvsOffset + 
(sign * minPixelPadding);
}
float xToPixels(float value) {
if (skipTranslation){
return value;// + xAxisPos;
}
return translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;
}
float yToPixels(float value, float checkTreshold) {
float v;
if (skipTranslation){
v = value;// + yAxisPos;
} else {
v = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;
if (v > yAxisLen) {
v = yAxisLen;
}
}
if (checkTreshold > 0.0 && hasThreshold) {
v = min(v, translatedThreshold);
}
return v;
}
void main(void) {
if (isBubble){
gl_PointSize = bubbleRadius();
} else {
gl_PointSize = pSize;
}
vColor = aColor;
if (!skipTranslation && isCircle && (
aVertexPosition.x < xAxisMin ||
aVertexPosition.x > xAxisMax ||
aVertexPosition.y < yAxisMin ||
aVertexPosition.y > yAxisMax
)) {
gl_Position = uPMatrix * vec4(2.0, 2.0, 2.0, 1.0);
} else if (skipTranslation && isInverted) {
gl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);
} else if (isInverted) {
gl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);
} else {
gl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);
}
}`,"vertex"),e=this.stringToProgram(`precision highp float;
uniform vec4 fillColor;
varying highp vec2 position;
varying highp vec4 vColor;
uniform sampler2D uSampler;
uniform bool isCircle;
uniform bool hasColor;
void main(void) {
vec4 col = fillColor;
vec4 tcol = texture2D(uSampler, gl_PointCoord.st);
if (hasColor) {
col = vColor;
}
if (isCircle) {
col *= tcol;
if (tcol.r < 0.0) {
discard;
} else {
gl_FragColor = col;
}
} else {
gl_FragColor = col;
}
}`,"fragment"),s=i=>this.gl.getUniformLocation(this.shaderProgram,i);return t&&e?(this.shaderProgram=this.gl.createProgram(),this.gl.attachShader(this.shaderProgram,t),this.gl.attachShader(this.shaderProgram,e),this.gl.linkProgram(this.shaderProgram),this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS)?(this.gl.useProgram(this.shaderProgram),this.gl.bindAttribLocation(this.shaderProgram,0,"aVertexPosition"),this.pUniform=s("uPMatrix"),this.psUniform=s("pSize"),this.fcUniform=s("fillColor"),this.isBubbleUniform=s("isBubble"),this.bubbleSizeAbsUniform=s("bubbleSizeAbs"),this.bubbleSizeAreaUniform=s("bubbleSizeByArea"),this.uSamplerUniform=s("uSampler"),this.skipTranslationUniform=s("skipTranslation"),this.isCircleUniform=s("isCircle"),this.isInverted=s("isInverted"),!0):(this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1,!1)):(this.shaderProgram=!1,this.handleErrors(),!1)}handleErrors(){this.errors.length&&yt("[highcharts boost] shader error - "+this.errors.join(`
`))}stringToProgram(t,e){let s=this.gl.createShader(e==="vertex"?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);return this.gl.shaderSource(s,t),this.gl.compileShader(s),this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)?s:(this.errors.push("when compiling "+e+` shader:
`+this.gl.getShaderInfoLog(s)),!1)}destroy(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)}fillColorUniform(){return this.fcUniform}getProgram(){return this.shaderProgram}pointSizeUniform(){return this.psUniform}perspectiveUniform(){return this.pUniform}reset(){this.gl&&this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))}setBubbleUniforms(t,e,s,i=1){let o=t.options,n=Number.MAX_VALUE,d=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&t.is("bubble")){let l=t.getPxExtremes();n=We(o.zMin,ht(e,o.displayNegative===!1?o.zThreshold:-Number.MAX_VALUE,n)),d=We(o.zMax,Math.max(d,s)),this.gl.uniform1i(this.isBubbleUniform,1),this.gl.uniform1i(this.isCircleUniform,1),this.gl.uniform1i(this.bubbleSizeAreaUniform,t.options.sizeBy!=="width"),this.gl.uniform1i(this.bubbleSizeAbsUniform,t.options.sizeByAbsoluteValue),this.setUniform("bubbleMinSize",l.minPxSize*i),this.setUniform("bubbleMaxSize",l.maxPxSize*i),this.setUniform("bubbleZMin",n),this.setUniform("bubbleZMax",d),this.setUniform("bubbleZThreshold",t.options.zThreshold)}}setColor(t){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,t[0]/255,t[1]/255,t[2]/255,t[3])}setDrawAsCircle(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,+!!t)}setInverted(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,t)}setPMatrix(t){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,t)}setPointSize(t){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,t)}setSkipTranslation(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,+(t===!0))}setTexture(t){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,t)}setUniform(t,e){if(this.gl&&this.shaderProgram){let s=this.uLocations[t]=this.uLocations[t]||this.gl.getUniformLocation(this.shaderProgram,t);this.gl.uniform1f(s,e)}}},At=class{constructor(t,e,s){this.buffer=!1,this.iterator=0,this.preAllocated=!1,this.vertAttribute=!1,this.components=s||2,this.dataComponents=s,this.gl=t,this.shader=e}allocate(t){this.iterator=-1,this.preAllocated=new Float32Array(4*t)}bind(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,!1,0,0)}build(t,e,s){let i;return this.data=t||[],this.data&&this.data.length!==0||this.preAllocated?(this.components=s||this.components,this.buffer&&this.gl.deleteBuffer(this.buffer),this.preAllocated||(i=new Float32Array(this.data)),this.buffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||i,this.gl.STATIC_DRAW),this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),e),this.gl.enableVertexAttribArray(this.vertAttribute),i=!1,!0):(this.destroy(),!1)}destroy(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.buffer=!1,this.vertAttribute=!1),this.iterator=0,this.components=this.dataComponents||2,this.data=[]}push(t,e,s,i){this.preAllocated&&(this.preAllocated[++this.iterator]=t,this.preAllocated[++this.iterator]=e,this.preAllocated[++this.iterator]=s,this.preAllocated[++this.iterator]=i)}render(t,e,s){let i=this.preAllocated?this.preAllocated.length:this.data.length;return!!this.buffer&&!!i&&((!t||t>i||t<0)&&(t=0),(!e||e>i)&&(e=i),!(t>=e)&&(s=s||"POINTS",this.gl.drawArrays(this.gl[s],t/this.components,(e-t)/this.components),!0))}},{getBoostClipRect:ft}=Ue,{parse:O}=Ge(),{doc:St,win:Yt}=w(),{isNumber:Wt,isObject:qt,merge:Ut,objectEach:Kt,pick:ct}=w(),_t={column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},Zt={scatter:!0,bubble:!0},Rt=["webgl","experimental-webgl","moz-webgl","webkit-3d"];class qe{static orthoMatrix(e,s){return[2/e,0,0,0,0,-(2/s),0,0,0,0,-2,0,-1,1,-1,1]}static seriesPointCount(e){let s,i,o;return e.boosted?(s=!!e.options.stacking,i=(e.getColumn("x").length?e.getColumn("x"):void 0)||e.options.xData||e.getColumn("x",!0),o=(s?e.data:i||e.options.data).length,e.type==="treemap"?o*=12:e.type==="heatmap"?o*=6:_t[e.type]&&(o*=2),o):0}constructor(e){this.data=[],this.height=0,this.isInited=!1,this.markerData=[],this.series=[],this.textureHandles={},this.width=0,this.postRenderCallback=e,this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}}}getPixelRatio(){return this.settings.pixelRatio||Yt.devicePixelRatio||1}setOptions(e){"pixelRatio"in e||(e.pixelRatio=1),Ut(!0,this.settings,e)}allocateBuffer(e){let s=this.vbuffer,i=0;this.settings.usePreallocated&&(e.series.forEach(o=>{o.boosted&&(i+=qe.seriesPointCount(o))}),s&&s.allocate(i))}allocateBufferForSingleSeries(e){let s=this.vbuffer,i=0;this.settings.usePreallocated&&(e.boosted&&(i=qe.seriesPointCount(e)),s&&s.allocate(i))}clear(){let e=this.gl;e&&e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}pushSeriesData(e,s){let i=this.data,o=this.settings,n=this.vbuffer,d=e.pointArrayMap&&e.pointArrayMap.join(",")==="low,high",{chart:l,options:h,sorted:a,xAxis:x,yAxis:p}=e,I=!!h.stacking,$=h.data,ee=e.xAxis.getExtremes(),te=ee.min-(e.xAxis.minPointOffset||0),se=ee.max+(e.xAxis.minPointOffset||0),ve=e.yAxis.getExtremes(),be=ve.min-(e.yAxis.minPointOffset||0),ie=ve.max+(e.yAxis.minPointOffset||0),Pe=(e.getColumn("x").length?e.getColumn("x"):void 0)||h.xData||e.getColumn("x",!0),J=(e.getColumn("y").length?e.getColumn("y"):void 0)||h.yData||e.getColumn("y",!0),oe=(e.getColumn("z").length?e.getColumn("z"):void 0)||h.zData||e.getColumn("z",!0),xe=!Pe||Pe.length===0,ye=e.options.colorByPoint,we=h.connectNulls,ue=e.points||!1,q=I?e.data:Pe||$,Le={x:Number.MAX_VALUE,y:0},at={x:-Number.MAX_VALUE,y:0},Pt=l.index===void 0,rt=_t[e.type],wt=h.zoneAxis||"y",Fe=h.zones||!1,mt=h.threshold,Xe=this.getPixelRatio(),$e=e.chart.plotWidth,Be=!1,lt=!1,Ve,Ze,G=0,ge=!1,U,R,D,me,L=-1,ke=!1,Te=!1,Qe,ss=!1,is=!1,le,os=!1,as=!0,gs=!0,vt,Je=!1,rs=!1,Ot=0,ls=0;if(h.boostData&&h.boostData.length>0)return;h.gapSize&&(rs=h.gapUnit!=="value"?h.gapSize*e.closestPointRange:h.gapSize),Fe&&(vt=[],Fe.forEach((b,T)=>{if(b.color){let Y=O(b.color).rgba;Y[0]/=255,Y[1]/=255,Y[2]/=255,vt[T]=Y,Je||b.value!==void 0||(Je=Y)}}),Je||(Je=O(e.pointAttribs&&e.pointAttribs().fill||e.color).rgba,Je[0]/=255,Je[1]/=255,Je[2]/=255)),l.inverted&&($e=e.chart.plotHeight),e.closestPointRangePx=Number.MAX_VALUE;let nt=b=>{b&&(s.colorData.push(b[0]),s.colorData.push(b[1]),s.colorData.push(b[2]),s.colorData.push(b[3]))},Ie=(b,T,Y,he=1,ae)=>{nt(ae),Xe!==1&&(!o.useGPUTranslations||s.skipTranslation)&&(b*=Xe,T*=Xe,he*=Xe),o.usePreallocated&&n?(n.push(b,T,+!!Y,he),Ot+=4):(i.push(b),i.push(T),i.push(Y?Xe:0),i.push(he))},ns=()=>{s.segments.length&&(s.segments[s.segments.length-1].to=i.length||Ot)},Gt=()=>{s.segments.length&&s.segments[s.segments.length-1].from===(i.length||Ot)||(ns(),s.segments.push({from:i.length||Ot}))},ms=(b,T,Y,he,ae)=>{nt(ae),Ie(b+Y,T),nt(ae),Ie(b,T),nt(ae),Ie(b,T+he),nt(ae),Ie(b,T+he),nt(ae),Ie(b+Y,T+he),nt(ae),Ie(b+Y,T)};if(Gt(),ue&&ue.length>0){s.skipTranslation=!0,s.drawMode="TRIANGLES",ue[0].node&&ue[0].node.levelDynamic&&ue.sort((b,T)=>{if(b.node){if(b.node.levelDynamic>T.node.levelDynamic)return 1;if(b.node.levelDynamic<T.node.levelDynamic)return-1}return 0}),ue.forEach(b=>{let T,Y,he=b.plotY;if(he!==void 0&&!isNaN(he)&&b.y!==null&&b.shapeArgs){let{x:ae=0,y:Ft=0,width:Xt=0,height:$t=0}=b.shapeArgs;T=(Y=l.styledMode?b.series.colorAttribs(b):Y=b.series.pointAttribs(b))["stroke-width"]||0,le=O(Y.fill).rgba,le[0]/=255,le[1]/=255,le[2]/=255,e.is("treemap")&&(T=T||1,Ze=O(Y.stroke).rgba,Ze[0]/=255,Ze[1]/=255,Ze[2]/=255,ms(ae,Ft,Xt,$t,Ze),T/=2),e.is("heatmap")&&l.inverted&&(ae=x.len-ae,Ft=p.len-Ft,Xt=-Xt,$t=-$t),ms(ae+T,Ft+T,Xt-2*T,$t-2*T,le)}}),ns();return}for(;L<q.length-1;){if((D=q[++L])===void 0)continue;if(Pt)break;let b=$&&$[L];if(!xe){qt(b,!0)&&b.color&&(le=O(b.color).rgba);let T=e.options.keys?.indexOf("color");Array.isArray(b)&&T&&typeof b[T]=="string"?le=O(b[T]).rgba:ye&&l.options.colors&&(ls%=l.options.colors.length,le=O(l.options.colors[ls]).rgba),le&&(le[0]/=255,le[1]/=255,le[2]/=255),ls++}if(xe?(U=D[0],R=D[1],q[L+1]&&(Te=q[L+1][0]),q[L-1]&&(ke=q[L-1][0]),D.length>=3&&(me=D[2],D[2]>s.zMax&&(s.zMax=D[2]),D[2]<s.zMin&&(s.zMin=D[2]))):(U=D,R=J?.[L],q[L+1]&&(Te=q[L+1]),q[L-1]&&(ke=q[L-1]),oe&&oe.length&&(me=oe[L],oe[L]>s.zMax&&(s.zMax=oe[L]),oe[L]<s.zMin&&(s.zMin=oe[L]))),!we&&(U===null||R===null)){Gt();continue}if(Te&&Te>=te&&Te<=se&&(ss=!0),ke&&ke>=te&&ke<=se&&(is=!0),d?(xe&&(R=D.slice(1,3)),Qe=e.getColumn("low",!0)?.[L],R=e.getColumn("high",!0)?.[L]||0):I&&(U=D.x,Qe=(R=D.stackY)-D.y),be!=null&&ie!=null&&(as=R>=be&&R<=ie),!(!a&&!as||(U>se&&at.x<se&&(at.x=U,at.y=R),U<te&&Le.x>te&&(Le.x=U,Le.y=R),R===null&&we))){if(R===null||!as&&q.length>1&&!ss&&!is){Gt();continue}if((a&&(Te>=te||U>=te)&&(ke<=se||U<=se)||!a&&U>=te&&U<=se)&&(os=!0),os||ss||is){if(rs&&U-ke>rs&&Gt(),Fe){let T;Fe.some((Y,he)=>{let ae=Fe[he-1];return wt==="x"?Y.value!==void 0&&U<=Y.value&&(vt[he]&&(!ae||U>=ae.value)&&(T=vt[he]),!0):Y.value!==void 0&&R<=Y.value&&(vt[he]&&(!ae||R>=ae.value)&&(T=vt[he]),!0)}),le=T||Je||le}if(o.useGPUTranslations||(s.skipTranslation=!0,U=x.toPixels(U,!0),R=p.toPixels(R,!0),!(U>$e)||s.drawMode!=="POINTS")){if(s.hasMarkers&&os&&Be!==!1&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(U-Be))),!o.useGPUTranslations&&!o.usePreallocated&&Be&&1>Math.abs(U-Be)&&lt&&1>Math.abs(R-lt)){o.debug.showSkipSummary&&++G;continue}rt&&(Ve=Qe||0,(Qe===!1||Qe===void 0)&&(Ve=R<0?R:0),(d||I)&&!p.logarithmic||(Ve=Math.max(mt===null?be:mt,be)),o.useGPUTranslations||(Ve=p.toPixels(Ve,!0)),Ie(U,Ve,!1,0,le)),h.step&&!gs&&Ie(U,lt,!1,2,le),Ie(U,R,!1,e.type==="bubble"?me||1:2,le),Be=U,lt=R,ge=!0,gs=!1}}}}o.debug.showSkipSummary&&console.log("skipped points:",G);let vs=(b,T)=>{if(o.useGPUTranslations||(s.skipTranslation=!0,b.x=x.toPixels(b.x,!0),b.y=p.toPixels(b.y,!0)),T){this.data=[b.x,b.y,0,2].concat(this.data);return}Ie(b.x,b.y,0,2)};!ge&&we!==!1&&e.drawMode==="line_strip"&&(Le.x<Number.MAX_VALUE&&vs(Le,!0),at.x>-Number.MAX_VALUE&&vs(at)),ns()}pushSeries(e){let s=this.markerData,i=this.series,o=this.settings;i.length>0&&i[i.length-1].hasMarkers&&(i[i.length-1].markerTo=s.length),o.debug.timeSeriesProcessing&&console.time("building "+e.type+" series");let n={segments:[],markerFrom:s.length,colorData:[],series:e,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!e.options.marker&&e.options.marker.enabled!==!1,showMarkers:!0,drawMode:Et[e.type]||"LINE_STRIP"};e.index>=i.length?i.push(n):i[e.index]=n,this.pushSeriesData(e,n),o.debug.timeSeriesProcessing&&console.timeEnd("building "+e.type+" series")}flush(){let e=this.vbuffer;this.data=[],this.markerData=[],this.series=[],e&&e.destroy()}setXAxis(e){let s=this.shader;if(!s)return;let i=this.getPixelRatio();s.setUniform("xAxisTrans",e.transA*i),s.setUniform("xAxisMin",e.min),s.setUniform("xAxisMax",e.max),s.setUniform("xAxisMinPad",e.minPixelPadding*i),s.setUniform("xAxisPointRange",e.pointRange),s.setUniform("xAxisLen",e.len*i),s.setUniform("xAxisPos",e.pos*i),s.setUniform("xAxisCVSCoord",!e.horiz),s.setUniform("xAxisIsLog",!!e.logarithmic),s.setUniform("xAxisReversed",!!e.reversed)}setYAxis(e){let s=this.shader;if(!s)return;let i=this.getPixelRatio();s.setUniform("yAxisTrans",e.transA*i),s.setUniform("yAxisMin",e.min),s.setUniform("yAxisMax",e.max),s.setUniform("yAxisMinPad",e.minPixelPadding*i),s.setUniform("yAxisPointRange",e.pointRange),s.setUniform("yAxisLen",e.len*i),s.setUniform("yAxisPos",e.pos*i),s.setUniform("yAxisCVSCoord",!e.horiz),s.setUniform("yAxisIsLog",!!e.logarithmic),s.setUniform("yAxisReversed",!!e.reversed)}setThreshold(e,s){let i=this.shader;i&&(i.setUniform("hasThreshold",e),i.setUniform("translatedThreshold",s))}renderChart(e){let s=this.gl,i=this.settings,o=this.shader,n=this.vbuffer,d=this.getPixelRatio();if(!e)return!1;this.width=e.chartWidth*d,this.height=e.chartHeight*d;let l=this.height,h=this.width;if(!s||!o||!h||!l)return!1;i.debug.timeRendering&&console.time("gl rendering"),s.canvas.width=h,s.canvas.height=l,o.bind(),s.viewport(0,0,h,l),o.setPMatrix(qe.orthoMatrix(h,l)),i.lineWidth>1&&!w().isMS&&s.lineWidth(i.lineWidth),n&&(n.build(this.data,"aVertexPosition",4),n.bind()),o.setInverted(e.inverted),this.series.forEach((a,x)=>{let p=a.series.options,I=p.marker,$=p.lineWidth!==void 0?p.lineWidth:1,ee=p.threshold,te=Wt(ee),se=a.series.yAxis.getThreshold(ee),ve=ct(p.marker?p.marker.enabled:null,!!a.series.xAxis.isRadial||null,a.series.closestPointRangePx>2*((p.marker?p.marker.radius:10)||10)),be=this.textureHandles[I&&I.symbol||a.series.symbol]||this.textureHandles.circle,ie,Pe,J,oe=[];if(a.segments.length!==0&&a.segments[0].from!==a.segments[0].to&&(be.isReady&&(s.bindTexture(s.TEXTURE_2D,be.handle),o.setTexture(be.handle)),e.styledMode?a.series.markerGroup===a.series.chart.boost?.markerGroup?(delete a.series.markerGroup,a.series.markerGroup=a.series.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"),J=a.series.markerGroup.getStyle("fill"),a.series.markerGroup.destroy(),a.series.markerGroup=a.series.chart.boost?.markerGroup):J=a.series.markerGroup?.getStyle("fill"):(J=a.drawMode==="POINTS"&&a.series.pointAttribs&&a.series.pointAttribs().fill||a.series.color,p.colorByPoint&&(J=a.series.chart.options.colors[x])),a.series.fillOpacity&&p.fillOpacity&&(J=new(Ge())(J).setOpacity(ct(p.fillOpacity,1)).get()),oe=O(J).rgba,i.useAlpha||(oe[3]=1),p.boostBlending==="add"?(s.blendFunc(s.SRC_ALPHA,s.ONE),s.blendEquation(s.FUNC_ADD)):p.boostBlending==="mult"||p.boostBlending==="multiply"?s.blendFunc(s.DST_COLOR,s.ZERO):p.boostBlending==="darken"?(s.blendFunc(s.ONE,s.ONE),s.blendEquation(s.FUNC_MIN)):s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),o.reset(),a.colorData.length>0?(o.setUniform("hasColor",1),(Pe=new At(s,o)).build(Array(a.segments[0].from).concat(a.colorData),"aColor",4),Pe.bind()):(o.setUniform("hasColor",0),s.disableVertexAttribArray(s.getAttribLocation(o.getProgram(),"aColor"))),o.setColor(oe),this.setXAxis(a.series.xAxis),this.setYAxis(a.series.yAxis),this.setThreshold(te,se),a.drawMode==="POINTS"&&o.setPointSize(2*ct(p.marker&&p.marker.radius,.5)*d),o.setSkipTranslation(a.skipTranslation),a.series.type==="bubble"&&o.setBubbleUniforms(a.series,a.zMin,a.zMax,d),o.setDrawAsCircle(Zt[a.series.type]||!1),n)){if($>0||a.drawMode!=="LINE_STRIP"){let{x:xe,y:ye,width:we,height:ue}=ft(e,a.series);for(s.enable(s.SCISSOR_TEST),s.scissor(xe,l-ye-ue,we,ue),ie=0;ie<a.segments.length;ie++)n.render(a.segments[ie].from,a.segments[ie].to,a.drawMode);s.disable(s.SCISSOR_TEST)}if(a.hasMarkers&&ve)for(o.setPointSize(2*ct(p.marker&&p.marker.radius,5)*d),o.setDrawAsCircle(!0),ie=0;ie<a.segments.length;ie++)n.render(a.segments[ie].from,a.segments[ie].to,"POINTS")}}),i.debug.timeRendering&&console.timeEnd("gl rendering"),this.postRenderCallback&&this.postRenderCallback(this),this.flush()}render(e){if(this.clear(),e.renderer.forExport)return this.renderChart(e);this.isInited?this.renderChart(e):setTimeout(()=>{this.render(e)},1)}setSize(e,s){let i=this.shader;i&&(this.width!==e||this.height!==s)&&(this.width=e,this.height=s,i.bind(),i.setPMatrix(qe.orthoMatrix(e,s)))}init(e,s){let i=this.settings;if(this.isInited=!1,!e)return!1;i.debug.timeSetup&&console.time("gl setup");for(let l=0;l<Rt.length&&(this.gl=e.getContext(Rt[l],{}),!this.gl);++l);let o=this.gl;if(!o)return!1;s||this.flush(),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS);let n=this.shader=new et(o);if(!n)return!1;this.vbuffer=new At(o,n);let d=(l,h)=>{let a={isReady:!1,texture:St.createElement("canvas"),handle:o.createTexture()},x=a.texture.getContext("2d");this.textureHandles[l]=a,a.texture.width=512,a.texture.height=512,x.mozImageSmoothingEnabled=!1,x.webkitImageSmoothingEnabled=!1,x.msImageSmoothingEnabled=!1,x.imageSmoothingEnabled=!1,x.strokeStyle="rgba(255, 255, 255, 0)",x.fillStyle="#FFF",h(x);try{o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a.handle),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,a.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.bindTexture(o.TEXTURE_2D,null),a.isReady=!0}catch{}};return d("circle",l=>{l.beginPath(),l.arc(256,256,256,0,2*Math.PI),l.stroke(),l.fill()}),d("square",l=>{l.fillRect(0,0,512,512)}),d("diamond",l=>{l.beginPath(),l.moveTo(256,0),l.lineTo(512,256),l.lineTo(256,512),l.lineTo(0,256),l.lineTo(256,0),l.fill()}),d("triangle",l=>{l.beginPath(),l.moveTo(0,512),l.lineTo(256,0),l.lineTo(512,512),l.lineTo(0,512),l.fill()}),d("triangle-down",l=>{l.beginPath(),l.moveTo(0,0),l.lineTo(256,512),l.lineTo(512,0),l.lineTo(0,0),l.fill()}),this.isInited=!0,i.debug.timeSetup&&console.timeEnd("gl setup"),!0}destroy(){let e=this.gl,s=this.shader,i=this.vbuffer;this.flush(),i&&i.destroy(),s&&s.destroy(),e&&(Kt(this.textureHandles,o=>{o.handle&&e.deleteTexture(o.handle)}),e.canvas.width=1,e.canvas.height=1)}}(function(t){t.setLength=function(e,s,i){return Array.isArray(e)?(e.length=s,e):e[i?"subarray":"slice"](0,s)},t.splice=function(e,s,i,o,n=[]){if(Array.isArray(e))return Array.isArray(n)||(n=Array.from(n)),{removed:e.splice(s,i,...n),array:e};let d=Object.getPrototypeOf(e).constructor,l=e[o?"subarray":"slice"](s,s+i),h=new d(e.length-i+n.length);return h.set(e.subarray(0,s),0),h.set(n,s),h.set(e.subarray(s+i),s+n.length),{removed:l,array:h}}})(X||(X={}));let{setLength:Dt,splice:zt}=X,{fireEvent:pt,objectEach:tt,uniqueKey:st}=w(),Qt=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||st(),this.modified=this,this.rowCount=0,this.versionTag=st();let e=0;tt(t.columns||{},(s,i)=>{this.columns[i]=s.slice(),e=Math.max(e,s.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,tt(this.columns,(e,s)=>{e.length!==t&&(this.columns[s]=Dt(e,t))})}deleteRows(t,e=1){if(e>0&&t<this.rowCount){let s=0;tt(this.columns,(i,o)=>{this.columns[o]=zt(i,t,e).array,s=i.length}),this.rowCount=s}pt(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=st()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((s,i)=>(s[i]=this.columns[i],s),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(s=>this.columns[s]?.[t])}setColumn(t,e=[],s=0,i){this.setColumns({[t]:e},s,i)}setColumns(t,e,s){let i=this.rowCount;tt(t,(o,n)=>{this.columns[n]=o.slice(),i=o.length}),this.applyRowCount(i),s?.silent||(pt(this,"afterSetColumns"),this.versionTag=st())}setRow(t,e=this.rowCount,s,i){let{columns:o}=this,n=s?this.rowCount+1:e+1;tt(t,(d,l)=>{let h=o[l]||i?.addColumns!==!1&&Array(n);h&&(s?h=zt(h,e,0,!0,[d]).array:h[e]=d,o[l]=h)}),n>this.rowCount&&this.applyRowCount(n),i?.silent||(pt(this,"afterSetRows"),this.versionTag=st())}},{getBoostClipRect:Lt,isChartSeriesBoosting:it}=Ue,{getOptions:Jt}=w(),{composed:es,doc:Bt,noop:Vt,win:It}=w(),{addEvent:Nt,destroyObjectProperties:ts,error:Ct,extend:u,fireEvent:r,isArray:f,isNumber:g,pick:c,pushUnique:M,wrap:k,defined:Z}=w();function _e(t,e){let s=e.boost;t&&s&&s.target&&s.canvas&&!it(e.chart)&&t.allocateBufferForSingleSeries(e)}function Re(t){return c(t&&t.options&&t.options.boost&&t.options.boost.enabled,!0)}function B(t,e){let s=t.constructor,i=t.seriesGroup||e.group,o=t.chartWidth,n=t.chartHeight,d=t,l=typeof SVGForeignObjectElement<"u",h=!1;it(t)?d=t:(d=e,h=!!(e.options.events?.click||e.options.point?.events?.click));let a=d.boost=d.boost||{};if(l=!1,_||(_=Bt.createElement("canvas")),!a.target&&(a.canvas=_,t.renderer.forExport||!l?(d.renderTarget=a.target=t.renderer.image("",0,0,o,n).addClass("highcharts-boost-canvas").add(i),a.clear=function(){a.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},a.copy=function(){a.resize(),a.target.attr({href:a.canvas.toDataURL("image/png")})}):(a.targetFo=t.renderer.createElement("foreignObject").add(i),d.renderTarget=a.target=Bt.createElement("canvas"),a.targetCtx=a.target.getContext("2d"),a.targetFo.element.appendChild(a.target),a.clear=function(){a.target.width=a.canvas.width,a.target.height=a.canvas.height},a.copy=function(){a.target.width=a.canvas.width,a.target.height=a.canvas.height,a.targetCtx.drawImage(a.canvas,0,0)}),a.resize=function(){o=t.chartWidth,n=t.chartHeight,(a.targetFo||a.target).attr({x:0,y:0,width:o,height:n}).css({pointerEvents:h?void 0:"none",mixedBlendMode:"normal",opacity:1}).addClass(h?"highcharts-tracker":""),d instanceof s&&d.boost?.markerGroup?.translate(t.plotLeft,t.plotTop)},a.clipRect=t.renderer.clipRect(),(a.targetFo||a.target).attr({zIndex:e.options.zIndex}),d instanceof s&&(d.boost.markerGroup=d.renderer.g().add(i).translate(e.xAxis.pos,e.yAxis.pos))),a.canvas.width=o,a.canvas.height=n,a.clipRect){let x=Lt(t,d);a.clipRect.attr(x),x.width===t.clipBox.width&&x.height===t.clipBox.height?i?.clip(t.renderer.clipRect(x.x-4,x.y,x.width+4,x.height+4)):(a.targetFo||a.target).clip(a.clipRect)}return a.resize(),a.clear(),!a.wgl&&(a.wgl=new qe(x=>{x.settings.debug.timeBufferCopy&&console.time("buffer copy"),a.copy(),x.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),a.wgl.init(a.canvas)||Ct("[highcharts boost] - unable to init WebGL renderer"),a.wgl.setOptions(t.options.boost||{}),d instanceof s&&a.wgl.allocateBuffer(t)),a.wgl.setSize(o,n),a.wgl}function S(t){let e=t.points;if(e){let s,i;for(i=0;i<e.length;i+=1)(s=e[i])&&s.destroyElements&&s.destroyElements()}for(let s of(["graph","area","tracker"].forEach(i=>{let o=t[i];o&&(t[i]=o.destroy())}),t.zones))ts(s,void 0,!0)}function z(t,e,s,i,o,n){let d=(o=o||0)+(i=i||3e3),l=!0;for(;l&&o<d&&o<t.length;)l=e(t[o],o),++o;l&&(o<t.length?n?z(t,e,s,i,o,n):It.requestAnimationFrame?It.requestAnimationFrame(function(){z(t,e,s,i,o)}):setTimeout(z,0,t,e,s,i,o):s&&s())}function C(t,e){let s=t.options,i=t.dataTable.modified.rowCount,o=t.xAxis&&t.xAxis.options,n=t.yAxis&&t.yAxis.options,d=t.colorAxis&&t.colorAxis.options;return i>c(s.boostThreshold,Number.MAX_VALUE)&&g(n.min)&&g(n.max)&&(!e||g(o.min)&&g(o.max))&&(!d||g(d.min)&&g(d.max))}let E=(t,e)=>!t.forceCrop&&(it(t.chart)||(e?e.length:0)>=c(t.options.boostThreshold,Number.MAX_VALUE));function Q(){let t=this,e=t.chart;e.boost&&e.boost.markerGroup===t.markerGroup&&(t.markerGroup=void 0),e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(function(s){return s.series===t})),e.hoverPoint&&e.hoverPoint.series===t&&(e.hoverPoint=void 0)}function Ke(){let t=this.boost;t&&t.canvas&&t.target&&(t.wgl&&t.wgl.clear(),t.clear&&t.clear())}function y(t){let e=t.boost;e&&e.canvas&&e.target&&e.wgl&&!it(t.chart)&&e.wgl.render(t.chart)}function re(t,e){let s=t.options,i=t.xAxis,o=t.pointClass;if(e instanceof o)return e;let n=s.data,d=t.is("scatter"),l=(d&&t.getColumn("x",!0).length?t.getColumn("x",!0):void 0)||(t.getColumn("x").length?t.getColumn("x"):void 0)||s.xData||t.getColumn("x",!0)||!1,h=t.getColumn("y",!0)||s.yData||!1,a=e.i,x=n?.[a]?.color,p=new o(t,d&&l&&h?[l[a],h[a]]:(f(n)?n:[])[a],l?l[a]:void 0);if(d&&s?.keys?.length){let I=s.keys;for(let $=I.length-1;$>-1;$--)p[I[$]]=n[a][$]}return p.category=c(i.categories?i.categories[p.x]:p.x,p.x),p.key=p.name??p.category,p.dist=e.dist,p.distX=e.distX,p.plotX=e.plotX,p.plotY=e.plotY,p.index=a,p.percentage=e.percentage,p.isInside=t.isPointInside(p),x&&(p.color=x),p}function Ce(t){let{options:e,xAxis:s,yAxis:i}=this;if(!this.isDirty&&!s.isDirty&&!i.isDirty&&!t)return!1;this.yAxis.setTickInterval();let o=e.boostThreshold||0,n=e.cropThreshold,d=this.getColumn("x"),l=s.getExtremes(),h=l.max??Number.MAX_VALUE,a=l.min??-Number.MAX_VALUE,x=this.getColumn("y"),p=i.getExtremes(),I=p.max??Number.MAX_VALUE,$=p.min??-Number.MAX_VALUE;if(!this.boosted&&s.old&&i.old&&a>=(s.old.min??-Number.MAX_VALUE)&&h<=(s.old.max??Number.MAX_VALUE)&&$>=(i.old.min??-Number.MAX_VALUE)&&I<=(i.old.max??Number.MAX_VALUE))return this.dataTable.modified.setColumns({x:d,y:x}),!0;let ee=this.dataTable.rowCount;if(!o||ee<o||n&&!this.forceCrop&&!this.getExtremesFromAll&&!e.getExtremesFromAll&&ee<n)return this.dataTable.modified.setColumns({x:d,y:x}),!0;let te=[],se=[],ve=[],be=!(g(l.max)||g(l.min)),ie=!(g(p.max)||g(p.min)),Pe=!1,J,oe=d[0],xe=d[0],ye,we=x?.[0],ue=x?.[0];for(let q=0,Le=d.length;q<Le;++q)J=d[q],ye=x?.[q],J>=a&&J<=h&&ye>=$&&ye<=I?(te.push({x:J,y:ye}),se.push(J),ve.push(ye),be&&(oe=Math.max(oe,J),xe=Math.min(xe,J)),ie&&(we=Math.max(we,ye),ue=Math.min(ue,ye))):Pe=!0;return be&&(s.dataMax=Math.max(oe,s.dataMax||0),s.dataMin=Math.min(xe,s.dataMin||0)),ie&&(i.dataMax=Math.max(we,i.dataMax||0),i.dataMin=Math.min(ue,i.dataMin||0)),this.cropped=Pe,this.cropStart=0,Pe&&this.dataTable.modified===this.dataTable&&(this.dataTable.modified=new Qt),this.dataTable.modified.setColumns({x:se,y:ve}),E(this,se)||(this.processedData=te),!0}function gt(){let t=this.options||{},e=this.chart,s=e.boost,i=this.boost,o=this.xAxis,n=this.yAxis,d=t.xData||this.getColumn("x",!0),l=t.yData||this.getColumn("y",!0),h=this.getColumn("low",!0),a=this.getColumn("high",!0),x=this.processedData||t.data,p=o.getExtremes(),I=p.min-(o.minPointOffset||0),$=p.max+(o.minPointOffset||0),ee=n.getExtremes(),te=ee.min-(n.minPointOffset||0),se=ee.max+(n.minPointOffset||0),ve={},be=!!this.sampling,ie=t.enableMouseTracking,Pe=t.threshold,J=this.pointArrayMap&&this.pointArrayMap.join(",")==="low,high",oe=!!t.stacking,xe=this.cropStart||0,ye=this.requireSorting,we=!d,ue=t.findNearestPointBy==="x",q=(this.getColumn("x").length?this.getColumn("x"):void 0)||this.options.xData||this.getColumn("x",!0),Le=c(t.lineWidth,1),at=t.nullInteraction&&te,Pt=e.tooltip,rt=!1,wt,Fe=n.getThreshold(Pe),mt,Xe,$e,Be;if(!this.boosted||(this.points?.forEach(G=>{G?.destroyElements?.()}),this.points=[],Pt&&!Pt.isHidden?(e.hoverPoint?.series===this||e.hoverPoints?.some(G=>G.series===this))&&(e.hoverPoint=e.hoverPoints=void 0,Pt.hide(0)):e.hoverPoints&&(e.hoverPoints=e.hoverPoints.filter(G=>G.series!==this)),o.isPanning||n.isPanning)||(rt=B(e,this),e.boosted=!0,!this.visible))return;(this.points||this.graph)&&S(this),it(e)?(this.markerGroup&&this.markerGroup!==s?.markerGroup&&this.markerGroup.destroy(),this.markerGroup=s?.markerGroup,i&&i.target&&(this.renderTarget=i.target=i.target.destroy())):(this.markerGroup===s?.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers","visible",1,e.seriesGroup).addClass("highcharts-tracker"));let lt=this.points=[],Ve=(G,ge,U,R)=>{let D=!!q&&q[xe+U],me=L=>{e.inverted&&(L=o.len-L,ge=n.len-ge),lt.push({destroy:Vt,x:D,clientX:L,plotX:L,plotY:ge,i:xe+U,percentage:R})};G=Math.ceil(G),F=ue?G:G+","+ge,ie&&(ve[F]?D===q[q.length-1]&&(lt.length--,me(G)):(ve[F]=!0,me(G)))};this.buildKDTree=Vt,r(this,"renderCanvas"),s&&i?.target&&Le>1&&this.is("line")&&(s.lineWidthFilter?.remove(),s.lineWidthFilter=e.renderer.definition({tagName:"filter",children:[{tagName:"feMorphology",attributes:{operator:"dilate",radius:.25*Le}}],attributes:{id:"linewidth"}}),i.target.attr({filter:"url(#linewidth)"})),rt&&(_e(rt,this),rt.pushSeries(this),y(this));let Ze=rt.settings;e.renderer.forExport||(Ze.debug.timeKDTree&&console.time("kd tree building"),z(oe?this.data.slice(xe):d||x,function(G,ge){let U=e.index===void 0,R,D,me,L,ke,Te=!1,Qe=!0;return!Z(G)||(!U&&(we?(R=G[0],D=G[1]):(R=G,D=l[ge]??at??null),J?(we&&(D=G.slice(1,3)),Te=h[ge],D=a[ge]):oe&&(R=G.x,Te=(D=G.stackY)-G.y,ke=G.percentage),ye||(Qe=(D||0)>=te&&D<=se),D!==null&&R>=I&&R<=$&&Qe&&(me=o.toPixels(R,!0),be?(($e===void 0||me===wt)&&(J||(Te=D),(Be===void 0||D>Xe)&&(Xe=D,Be=ge),($e===void 0||Te<mt)&&(mt=Te,$e=ge)),ue&&me===wt||($e!==void 0&&(L=n.toPixels(Xe,!0),Fe=n.toPixels(mt,!0),Ve(me,L,Be,ke),Fe!==L&&Ve(me,Fe,$e,ke)),$e=Be=void 0,wt=me)):Ve(me,L=Math.ceil(n.toPixels(D,!0)),ge,ke))),!U)},()=>{r(this,"renderedCanvas"),delete this.buildKDTree,this.options&&this.buildKDTree(),Ze.debug.timeKDTree&&console.timeEnd("kd tree building")}))}function Cs(t){let e=!0;if(this.chart.options&&this.chart.options.boost&&(e=this.chart.options.boost.enabled===void 0||this.chart.options.boost.enabled),!e||!this.boosted)return t.call(this);this.chart.boosted=!0;let s=B(this.chart,this);s&&(_e(s,this),s.pushSeries(this)),y(this)}function Ps(t){if(this.boosted){if(C(this))return{};if(this.xAxis.isPanning||this.yAxis.isPanning)return this}return t.apply(this,[].slice.call(arguments,1))}function ws(t){let e=this.options.data;if(Re(this.chart)&&W[this.type]){let i=this.is("scatter")&&!this.is("bubble")&&!this.is("treemap")&&!this.is("heatmap");if(!E(this,e)||i||this.is("treemap")||this.options.stacking||!C(this,!0)){if(this.boosted&&(this.xAxis?.isPanning||this.yAxis?.isPanning))return;i&&this.yAxis.type!=="treegrid"?Ce.call(this,arguments[1]):t.apply(this,[].slice.call(arguments,1)),e=this.getColumn("x",!0)}if(this.boosted=E(this,e),this.boosted){let o;this.options.data?.length&&(g(o=this.getFirstValidPoint(this.options.data))||f(o)||this.is("treemap")||Ct(12,!1,this.chart));var s=this;s.boost=s.boost||{getPoint:d=>re(s,d)};let n=s.boost.altered=[];if(["allowDG","directTouch","stickyTracking"].forEach(d=>{n.push({prop:d,val:s[d],own:Object.hasOwnProperty.call(s,d)})}),s.allowDG=!1,s.directTouch=!1,s.stickyTracking=!0,s.finishedAnimating=!0,s.labelBySeries&&(s.labelBySeries=s.labelBySeries.destroy()),s.is("scatter")&&!s.is("treemap")&&s.data.length){for(let d of s.data)d?.destroy?.();s.data.length=0,s.points.length=0,delete s.processedData}}else(function(o){let n=o.boost,d=o.chart,l=d.boost;if(l?.markerGroup)for(let h of(l.markerGroup.destroy(),l.markerGroup=void 0,d.series))h.markerGroup=void 0,h.markerGroup=h.plotGroup("markerGroup","markers","visible",1,d.seriesGroup).addClass("highcharts-tracker");n&&((n.altered||[]).forEach(h=>{h.own?o[h.prop]=h.val:delete o[h.prop]}),n.clear&&n.clear()),(d.seriesGroup||o.group)?.clip()})(this)}else t.apply(this,[].slice.call(arguments,1))}function ks(t){let e=t.apply(this,[].slice.call(arguments,1));return this.boost&&e?this.boost.getPoint(e):e}let Ts={compose:function(t,e,s,i){if(M(es,"Boost.Series")){let o=Jt().plotOptions,n=t.prototype;if(Nt(t,"destroy",Q),Nt(t,"hide",Ke),i&&(n.renderCanvas=gt),k(n,"getExtremes",Ps),k(n,"processData",ws),k(n,"searchPoint",ks),["translate","generatePoints","drawTracker","drawPoints","render"].forEach(d=>(function(l,h,a){function x(p){let I=this.options.stacking&&(a==="translate"||a==="generatePoints");this.boosted&&!I&&Re(this.chart)&&this.type!=="heatmap"&&this.type!=="treemap"&&W[this.type]&&this.options.boostThreshold!==0?a==="render"&&this.renderCanvas&&this.renderCanvas():p.call(this)}if(k(l,a,x),a==="translate")for(let p of["column","arearange","columnrange","heatmap","treemap"])h[p]&&k(h[p].prototype,a,x)})(n,e,d)),k(s.prototype,"firePointEvent",function(d,l,h){if(l==="click"&&this.series.boosted){let a=h.point;if((a.dist||a.distX)>=(a.series.options.marker?.radius??10))return}return d.apply(this,[].slice.call(arguments,1))}),de.forEach(d=>{let l=o[d];l&&(l.boostThreshold=5e3,l.boostData=[],e[d].prototype.fillOpacity=!0)}),i){let{area:d,areaspline:l,bubble:h,column:a,heatmap:x,scatter:p,treemap:I}=e;if(d&&u(d.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),l&&u(l.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),h){let $=h.prototype;delete $.buildKDTree,k($,"markerAttribs",function(ee){return!this.boosted&&ee.apply(this,[].slice.call(arguments,1))})}a&&u(a.prototype,{fill:!0,sampling:!0}),p&&(p.prototype.fill=!0),[x,I].forEach($=>{$&&k($.prototype,"drawPoints",Cs)})}}return t},destroyGraphics:S,eachAsync:z,getPoint:re},Ms={defaultHTMLColorMap:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{doc:Es,win:Ss}=w(),{addEvent:Us,error:Rs}=w(),fs=["webgl","experimental-webgl","moz-webgl","webkit-3d"];function cs(){let t;if(Ss.WebGLRenderingContext!==void 0){t=Es.createElement("canvas");for(let e=0;e<fs.length;++e)try{if(t.getContext(fs[e])!=null)return!0}catch{}}return!1}let ps={compose:function(t,e,s,i,o,n){let d=cs();d||(w().initCanvasBoost!==void 0?w().initCanvasBoost():Rs(26)),n&&!n.names.lightgoldenrodyellow&&(n.names={...n.names,...Ms.defaultHTMLColorMap}),Ue.compose(t,d),Ts.compose(s,i,o,d),Us(e,"setExtremes",function(l){for(let h of[this.chart,...this.series].map(a=>a.renderTarget).filter(Boolean)){let{horiz:a,pos:x}=this,p=a?"scaleX":"scaleY",I=a?"translateX":"translateY",$=h?.[p]??1,ee=1,te=0,se=1,ve="none";this.isPanning&&(ee=(l.scale??1)*$,te=(h?.[I]||0)-ee*(l.move||0)+$*x-ee*x,se=.7,ve="blur(3px)"),h?.attr({[p]:ee,[I]:te}).css({transition:"250ms filter, 250ms opacity",filter:ve,opacity:se})}})},hasWebGLSupport:cs},ot=w();ot.hasWebGLSupport=ps.hasWebGLSupport,ps.compose(ot.Chart,ot.Axis,ot.Series,ot.seriesTypes,ot.Point,ot.Color);let Ds=w();return ne.default})())})(jt)),jt.exports}Fs();const Xs={class:"chart-skeleton"},$s={class:"bg-decoration"},js={class:"skeleton-chart-wrapper"},Hs={class:"skeleton-y-axis"},Ys={class:"skeleton-chart-area"},Ws={class:"skeleton-grid"},qs={class:"data-points"},Ks={class:"skeleton-x-axis"},Zs=As({__name:"ChartSkeleton",setup(Ht){const Tt=pe=>{const F=Math.random()*4+2,_=Math.random()*100,X=Math.random()*5,v=Math.random()*10+15;return{width:`${F}px`,height:`${F}px`,left:`${_}%`,animationDelay:`${X}s`,animationDuration:`${v}s`}},Ye=pe=>{const F=pe*12+Math.random()*8,_=Math.random()*70+10,X=pe*.2;return{left:`${F}%`,top:`${_}%`,animationDelay:`${X}s`}};return(pe,F)=>(N(),fe("div",Xs,[m("div",$s,[(N(),fe(je,null,He(20,_=>m("div",{class:"particle",key:_,style:kt(Tt())},null,4)),64))]),F[3]||(F[3]=ds('<div class="skeleton-header" data-v-9b3f133d><div class="skeleton-bar title-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div><div class="skeleton-bar subtitle-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div></div>',1)),m("div",js,[m("div",Hs,[(N(),fe(je,null,He(6,_=>m("div",{class:"skeleton-bar y-label",key:_,style:kt({animationDelay:`${_*.1}s`})},[...F[0]||(F[0]=[m("div",{class:"shimmer"},null,-1)])],4)),64))]),m("div",Ys,[m("div",Ws,[(N(),fe(je,null,He(6,_=>m("div",{class:"grid-line horizontal",key:"h"+_})),64)),(N(),fe(je,null,He(12,_=>m("div",{class:"grid-line vertical",key:"v"+_})),64))]),F[1]||(F[1]=ds('<div class="gradient-overlay" data-v-9b3f133d></div><svg class="skeleton-lines" viewBox="0 0 100 50" preserveAspectRatio="none" data-v-9b3f133d><defs data-v-9b3f133d><linearGradient id="lineGradient1" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#667eea;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#764ba2;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#667eea;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><linearGradient id="lineGradient2" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#f093fb;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#f5576c;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#f093fb;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><linearGradient id="lineGradient3" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9b3f133d><stop offset="0%" style="stop-color:#4facfe;stop-opacity:0.3;" data-v-9b3f133d></stop><stop offset="50%" style="stop-color:#00f2fe;stop-opacity:0.6;" data-v-9b3f133d></stop><stop offset="100%" style="stop-color:#4facfe;stop-opacity:0.3;" data-v-9b3f133d></stop></linearGradient><filter id="glow" data-v-9b3f133d><feGaussianBlur stdDeviation="2" result="coloredBlur" data-v-9b3f133d></feGaussianBlur><feMerge data-v-9b3f133d><feMergeNode in="coloredBlur" data-v-9b3f133d></feMergeNode><feMergeNode in="SourceGraphic" data-v-9b3f133d></feMergeNode></feMerge></filter></defs><path class="animated-line line-1" d="M0,40 Q25,30 50,25 T100,15" fill="none" stroke="url(#lineGradient1)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path><path class="animated-line line-2" d="M0,35 Q25,25 50,30 T100,20" fill="none" stroke="url(#lineGradient2)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path><path class="animated-line line-3" d="M0,30 Q25,35 50,35 T100,25" fill="none" stroke="url(#lineGradient3)" stroke-width="1.5" filter="url(#glow)" data-v-9b3f133d></path></svg>',2)),m("div",qs,[(N(),fe(je,null,He(8,_=>m("div",{class:"data-point",key:_,style:kt(Ye(_))},null,4)),64))])]),m("div",Ks,[(N(),fe(je,null,He(8,_=>m("div",{class:"skeleton-bar x-label",key:_,style:kt({animationDelay:`${_*.08}s`})},[...F[2]||(F[2]=[m("div",{class:"shimmer"},null,-1)])],4)),64))])]),F[4]||(F[4]=ds('<div class="skeleton-footer" data-v-9b3f133d><div class="skeleton-bar footer-bar" data-v-9b3f133d><div class="shimmer" data-v-9b3f133d></div></div></div><div class="loading-overlay" data-v-9b3f133d><div class="loading-spinner-container" data-v-9b3f133d><div class="loading-spinner" data-v-9b3f133d><div class="spinner-ring" data-v-9b3f133d></div><div class="spinner-ring" data-v-9b3f133d></div><div class="spinner-ring" data-v-9b3f133d></div></div></div><div class="loading-text" data-v-9b3f133d><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span> 数据加载中 <span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span><span class="loading-dot" data-v-9b3f133d>.</span></div><div class="loading-progress" data-v-9b3f133d><div class="progress-bar" data-v-9b3f133d></div></div></div>',2))]))}}),ys=_s(Zs,[["__scopeId","data-v-9b3f133d"]]),Qs={style:{"margin-bottom":"20px",display:"flex",gap:"12px","align-items":"center"}},Js={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap"}},ei={key:0},ti={style:{display:"flex",gap:"16px","align-items":"center","flex-wrap":"wrap","margin-top":"10px"}},si={style:{flex:"1","min-width":"100px","max-width":"200px"}},ii={style:{flex:"1","min-width":"100px","max-width":"300px"}},oi={style:{display:"flex",gap:"8px","align-items":"center"}},ai={key:1,style:{display:"flex",gap:"16px","align-items":"center"}},ri={style:{"padding-top":"24px"}},li={style:{display:"flex",gap:"8px","padding-top":"24px"}},ni={style:{display:"flex","justify-content":"space-between","align-items":"center"}},di={style:{"font-size":"16px","font-weight":"500"}},ui={key:0,style:{"font-size":"14px",color:"#666"}},hi={style:{"text-align":"center",color:"#666","font-size":"12px"}},fi={key:0,style:{padding:"20px"}},ci={style:{"margin-bottom":"20px"}},pi={style:{"text-align":"right"}},gi={key:1,style:{padding:"20px"}},mi={style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"4px"}},vi={style:{display:"flex",gap:"4px"}},bi={style:{"text-align":"right","margin-top":"20px"}},hs=50,xi=As({__name:"Charts",setup(Ht){const Tt=Ns(),Ye=()=>{Tt.push("/home")},pe=V([]),F=V(!1),_=V(""),X=V(""),v=V("voltage"),Oe=V(!1),j=V(!1),ne=V(null),xt=V(null);let w=null;const de=V(0),W=V(void 0),Ee=V(10),De=V(!1),Ae=V(1),Mt=V([]),ze=V([]),Se=V([]),Ue=V(1),ut=V(""),Ge=V(null),Et=V(null),ht=V(!1),yt=V(!1),We=V([]),et=V([]),At=V([]),ft=V(!1),O=V(new Set),St=bt(()=>{switch(v.value){case"voltage":case"voltage_range":case"avg_voltage":return 0;case"pump_pressure":case"inlet_outlet_pressure":case"oxygen_hydrogen_outlet_pressure":case"pressure_difference":return 2;case"specific_gravity":return 3;case"oxygen_hydrogen_outlet_temp":return 1;case"oxygen_hydrogen_cross":return 2;case"hydrogen_flow_meter":return 2;default:return 2}}),Yt=bt(()=>{const u=new Set;return pe.value.forEach(r=>{r.machine_name&&u.add(r.machine_name)}),Array.from(u).sort((r,f)=>{const g=parseInt(r.split("#")[0].trim())||0,c=parseInt(f.split("#")[0].trim())||0;return g-c})}),Wt=bt(()=>{if(!_.value)return[];const u=new Set;return pe.value.forEach(r=>{r.machine_name===_.value&&r.machine_model&&u.add(r.machine_model)}),Array.from(u).sort((r,f)=>f.localeCompare(r))}),qt=bt(()=>!_.value||!X.value?"":`${_.value} - ${X.value}`),Ut=bt(()=>{if(!ne.value)return"";const u=ne.value[v.value];return u?v.value==="voltage"?`${Object.keys(u).length} 条曲线`:["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(v.value)?"2 条曲线":"1 条曲线":""}),Kt=bt(()=>{if(!ne.value)return 0;const u=ne.value[v.value];if(!u)return 0;if(v.value==="voltage")return Object.values(u).reduce((r,f)=>f.x&&f.y?r+Math.min(f.x.length,f.y.length):r,0);if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(v.value)){const r=u;let f=0;return Object.values(r).forEach(g=>{g.x&&g.y&&(f+=Math.min(g.x.length,g.y.length))}),f}else{const r=u;return r.x&&r.y?Math.min(r.x.length,r.y.length):0}}),ct=async()=>{F.value=!0;try{const r=await(await fetch("/api/get/device_list")).json();r.status==="success"?pe.value=r.data:H.error("加载设备列表失败")}catch(u){console.error("Error loading device list:",u),H.error("加载设备列表失败")}finally{F.value=!1}},_t=async()=>{if(!_.value||!X.value){H.warning("请先选择设备名称和型号");return}Oe.value=!0;try{const u=`/api/get/one_device/all_data?machine_name=${encodeURIComponent(_.value)}&machine_model=${encodeURIComponent(X.value)}`,f=await(await fetch(u)).json();if(f.status==="success"){ne.value=f.data,j.value=!0;const g=f.data.voltage;if(g&&Object.keys(g).length>0){const c=Object.keys(g)[0],M=g[c];M.x&&M.t&&M.id&&(Mt.value=M.x.map((k,Z)=>({x:k,t:M.t[Z]})),ze.value=M.x.map((k,Z)=>({x:k,t:M.t[Z],label:`小时数: ${k} (时间: ${M.t[Z]})`,value:k}))),At.value=Object.keys(g)}bs(()=>{Ct()}),H.success("数据加载成功")}else H.error(`加载数据失败: ${f.detail||"未知错误"}`)}catch(u){console.error("Error loading chart data:",u),H.error("加载数据失败")}finally{Oe.value=!1}},Zt=()=>{_.value?localStorage.setItem("cached_machine_name_optimized",_.value):localStorage.removeItem("cached_machine_name_optimized"),X.value="",localStorage.removeItem("cached_machine_model_optimized"),w&&(w.destroy(),w=null),j.value=!1,ne.value=null,v.value="voltage",de.value=0,W.value=void 0,Ee.value=10,ft.value=!1},Rt=async()=>{X.value?localStorage.setItem("cached_machine_model_optimized",X.value):localStorage.removeItem("cached_machine_model_optimized"),w&&(w.destroy(),w=null),j.value=!1,ne.value=null,v.value="voltage",de.value=0,W.value=void 0,Ee.value=10,ft.value=!1,X.value&&(await bs(),_t())},qe=()=>{de.value=0,W.value=void 0,Ee.value=10,Ct()},Dt=()=>{if(!ne.value)return 0;const u=ne.value[v.value];if(!u)return 0;let r=0;if(v.value==="voltage")Object.values(u).forEach(f=>{if(f.y&&f.y.length>0){const g=f.y.filter(c=>c!=null);if(g.length>0){const c=Math.max(...g);c>r&&(r=c)}}});else if(["inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(v.value))Object.values(u).forEach(g=>{if(g.y&&g.y.length>0){const c=g.y.filter(M=>M!=null);if(c.length>0){const M=Math.max(...c);M>r&&(r=M)}}});else{const f=u;if(f.y&&f.y.length>0){const g=f.y.filter(c=>c!=null);g.length>0&&(r=Math.max(...g))}}return r},zt=()=>{const u=Dt();de.value=0,W.value=u*1.1,Ee.value=Math.ceil(u*.05),w&&w.yAxis&&w.yAxis[0]&&w.yAxis[0].update({min:0,max:u*1.1},!0)},pt=()=>{w&&w.yAxis&&w.yAxis[0]&&w.yAxis[0].update({min:de.value,max:W.value||void 0},!0)},tt=async()=>{if(!_.value||!X.value){H.warning("请先选择设备名称和型号");return}us.prompt("请输入新的设备型号","修改设备型号",{confirmButtonText:"下一步",cancelButtonText:"取消",inputPattern:/^.+$/,inputErrorMessage:"设备型号不能为空",inputPlaceholder:"请输入新的设备型号"}).then(({value:u})=>{if(!u||u.trim()===""){H.warning("设备型号不能为空");return}const r=u.trim();us.confirm(`<div style="line-height: 1.8;">
          <p style="margin-bottom: 12px;"><strong>请确认以下修改信息：</strong></p>
          <p>设备名称：<span style="color: #409EFF; font-weight: 500;">${_.value}</span></p>
          <p>原设备型号：<span style="color: #E6A23C; font-weight: 500;">${X.value}</span></p>
          <p>新设备型号：<span style="color: #67C23A; font-weight: 500;">${r}</span></p>
          <p style="margin-top: 12px; padding: 8px; background-color: #FEF0F0; border-left: 4px solid #F56C6C; color: #F56C6C;">
            <strong>⚠️ 警告：</strong>此操作将修改数据库中的所有相关数据，一旦修改无法撤回！
          </p>
        </div>`,"确认修改设备型号",{confirmButtonText:"确定修改",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,confirmButtonClass:"el-button--danger"}).then(async()=>{await ts(_.value,X.value,r)}).catch(()=>{H.info("已取消修改")})}).catch(()=>{H.info("已取消修改")})},st=()=>{De.value=!0,Ae.value=1,Ge.value=null,Et.value=null,et.value=[],ut.value="",Ue.value=1,O.value=new Set,Se.value=[]},Qt=u=>{u&&(ut.value="",Ue.value=1,Lt())},Lt=()=>{const u=(Ue.value-1)*hs,r=u+hs,f=ze.value.slice(u,r);Ue.value===1?Se.value=f:Se.value=[...Se.value,...f],Ue.value++},it=u=>{if(ut.value=u,u==="")Ue.value=1,Se.value=ze.value.slice(0,hs),Ue.value=2;else{const r=ze.value.filter(f=>f.x.toString().includes(u));Se.value=r}},Jt=u=>{const r=Mt.value.find(f=>f.x===u);r&&(Et.value=r.t)},es=u=>{O.value.has(u)?O.value.delete(u):O.value.add(u),O.value=new Set(O.value)},Bt=u=>{us.prompt("请输入要修改的值（将应用到该列所有单元格）","一键修改",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^-?\d+$/,inputErrorMessage:"请输入有效的整数",inputPlaceholder:"请输入数值"}).then(({value:r})=>{if(r===null||r===""){H.warning("输入值不能为空");return}const f=parseInt(r);if(isNaN(f)){H.error("请输入有效的数值");return}et.value.forEach(g=>{g.values[u]=f}),H.success(`已将 ID ${We.value[u]} 列的所有值修改为 ${f}`)}).catch(()=>{})},Vt=async()=>{if(!(Ge.value===null||!ne.value)){ht.value=!0;try{const u=ne.value.voltage,r=Object.keys(u)[0],f=u[r],g=f.x.findIndex(Z=>Z===Ge.value);if(g===-1){H.error("未找到对应的数据"),ht.value=!1;return}const c=f.id[g],k=await(await fetch("/api/get/raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:c,cells:At.value})})).json();k.status==="success"?(We.value=c,et.value=k.data.map(Z=>({cell:Z.cell,values:Z.values})),Ae.value=2):H.error(`加载数据失败: ${k.detail||"未知错误"}`)}catch(u){console.error("Error loading raw data:",u),H.error("加载数据失败")}finally{ht.value=!1}}},It=async()=>{yt.value=!0;try{const u=[],r=[];O.value.forEach(c=>{r.push(We.value[c])}),et.value.forEach(c=>{c.values.forEach((M,k)=>{O.value.has(k)||u.push({id:We.value[k],cell:c.cell,value:M})})});const g=await(await fetch("/api/get/update_raw_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:u,deletes:r})})).json();if(g.status==="success"){const c=[];g.updated_count>0&&c.push(`更新 ${g.updated_count} 条数据`),g.deleted_count>0&&c.push(`删除 ${g.deleted_count} 条数据`),H.success(`操作成功！${c.join("，")}`),De.value=!1,ft.value=!0}else H.error(`更新失败: ${g.detail||"未知错误"}`)}catch(u){console.error("Error saving raw data:",u),H.error("更新失败")}finally{yt.value=!1}},Nt=()=>{window.location.reload()},ts=async(u,r,f)=>{const g=H({message:"正在更新数据库...",type:"info",duration:0});try{const M=await(await fetch("/api/get/update/machine_model",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_name:u,old_machine_model:r,new_machine_model:f})})).json();M.status==="success"?(H.success(`修改成功！共更新 ${M.updated_count} 条数据`),X.value=f,localStorage.setItem("cached_machine_model_optimized",f),setTimeout(()=>{window.location.reload()},1500)):H.error(`修改失败: ${M.detail||"未知错误"}`)}catch(c){console.error("Error updating machine model:",c),H.error("修改失败，请检查网络连接")}finally{g.close()}},Ct=()=>{if(!xt.value||!ne.value)return;const u=ne.value[v.value];if(!u)return;w&&w.destroy();const r=["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#EFC94C","#17BECF","#4C72B0","#DD8452","#55A868","#C44E52","#8172B3","#937860","#64B5CD","#E99675","#97BBCD","#B5BD89","#FF6F61","#6A5ACD"];let f=[],g="",c="",M,k,Z=0;const _e=(B,S,z)=>{if(B.x&&B.y){f=[{type:"line",name:S,data:B.x.map((E,Q)=>({x:E,y:B.y[Q],t:B.t?B.t[Q]:void 0})),color:z,marker:{enabled:!1},connectNulls:!0}];const C=B.y.filter(E=>E!=null);if(C.length>0){const E=Math.max(...C),Q=E*.1;M=0,k=E+Q,W.value===void 0?(de.value=0,W.value=k,Ee.value=Math.ceil(k*.05)):(M=de.value,k=W.value)}B.x.length>0&&(Z=Math.max(...B.x)*1.2)}},Re=(B,S)=>{const z=[],C=[];if(S.forEach(({key:E,name:Q,color:Ke})=>{const y=B[E];if(y&&y.x&&y.y){z.push({type:"line",name:Q,data:y.x.map((Ce,gt)=>({x:Ce,y:y.y[gt],t:y.t?y.t[gt]:void 0})),color:Ke,marker:{enabled:!1},connectNulls:!0});const re=y.y.filter(Ce=>Ce!=null);C.push(...re),y.x.length>0&&Z===0&&(Z=Math.max(...y.x)*1.2)}}),f=z,C.length>0){const E=Math.max(...C),Q=E*.1;M=0,k=E+Q,W.value===void 0?(de.value=0,W.value=k,Ee.value=Math.ceil(k*.05)):(M=de.value,k=W.value)}};if(v.value==="voltage"){f=Object.entries(u).map(([z,C],E)=>({type:"line",name:z,data:C.x.map((Q,Ke)=>({x:Q,y:C.y[Ke],t:C.t?C.t[Ke]:void 0})),color:r[E%r.length],marker:{enabled:!1},connectNulls:!0})),g="电压 (mV)",c="小室电压";const B=Dt()*1.1;M=0,k=B,W.value===void 0?(de.value=0,W.value=B,Ee.value=Math.ceil(B*.05)):(M=de.value,k=W.value);const S=f[0];if(S&&"data"in S&&Array.isArray(S.data)&&S.data.length>0){const z=S.data.map(E=>E.x);Z=Math.max(...z)*1.2}}else v.value==="voltage_range"?(_e(u,"极差","#7cb5ec"),g="极差 (mV)",c="小室极差"):v.value==="avg_voltage"?(_e(u,"平均电压","#FF7F0E"),g="小室平均电压 (mV)",c="小室电压平均值"):v.value==="pump_pressure"?(_e(u,"泵后压力","#2CA02C"),g="泵压 (Bar)",c="泵后压力"):v.value==="specific_gravity"?(_e(u,"碱液比重","#D62728"),g="比重 (mg/cm³)",c="碱液比重"):v.value==="hydrogen_flow_meter"?(_e(u,"Hydrogen Flow","#9467BD"),g="氢流量(L/min)",c="氢气流量"):v.value==="pressure_difference"?(_e(u,"Pressure Difference","#E74C3C"),g="压力差 (Bar)",c="电解槽进出口压差"):v.value==="inlet_outlet_pressure"?(Re(u,[{key:"inlet_pressure",name:"进槽压力",color:"#1F77B4"},{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#FF7F0E"}]),g="压差 (Bar)",c="电解槽进出槽压力"):v.value==="oxygen_hydrogen_outlet_pressure"?(Re(u,[{key:"oxygen_outlet_pressure",name:"氧侧出槽压力",color:"#2CA02C"},{key:"hydrogen_outlet_pressure",name:"氢侧出槽压力",color:"#D62728"}]),g="压差 (Bar)",c="电解槽氢氧侧出槽压力"):v.value==="oxygen_hydrogen_outlet_temp"?(Re(u,[{key:"oxygen_outlet_temp",name:"氧侧出槽温度",color:"#FF7F0E"},{key:"hydrogen_outlet_temp",name:"氢气出槽温度",color:"#9467BD"}]),g="温度 (°C)",c="电解槽氢氧侧出槽温度"):v.value==="oxygen_hydrogen_cross"&&(Re(u,[{key:"oxygen_in_hydrogen",name:"氧中氢",color:"#17BECF"},{key:"hydrogen_in_oxygen",name:"氢中氧",color:"#8C564B"}]),g="含量 (ppm)",c="氧中氢/氢中氧");w=Os.chart(xt.value,{accessibility:{enabled:!1},boost:{useGPUTranslations:!0,seriesThreshold:1},chart:{type:"line",zooming:{type:"x"},panning:{enabled:!0,type:"x"},animation:!1,panKey:"shift"},title:{text:c},xAxis:{title:{text:"时间 (小时)"},crosshair:{color:"#c50404",width:1,dashStyle:"Solid",zIndex:5},max:Z},yAxis:{title:{text:g},crosshair:!1,min:M,max:k,startOnTick:!1,endOnTick:!1},legend:{enabled:["voltage","inlet_outlet_pressure","oxygen_hydrogen_outlet_pressure","oxygen_hydrogen_outlet_temp","oxygen_hydrogen_cross"].includes(v.value),layout:"horizontal",align:"center",verticalAlign:"bottom",maxHeight:80},tooltip:{shared:!0,useHTML:!0,animation:!1,positioner:function(B,S,z){const C=this.chart;let E=z.plotX+C.plotLeft+10,Q=z.plotY+C.plotTop-S/2;return E+B>C.plotWidth+C.plotLeft&&(E=z.plotX+C.plotLeft-B-10),Q<C.plotTop&&(Q=C.plotTop),Q+S>C.plotTop+C.plotHeight&&(Q=C.plotTop+C.plotHeight-S),{x:E,y:Q}},formatter:function(){const B=this.x;let S='<div style="font-size: 14px;">';if(S+='<div style="text-align: center; font-weight: 500; margin-bottom: 8px; padding-bottom: 4px; border-bottom: 1px solid #eee;">',S+=`时间: <span style="color: #409EFF">${B.toFixed(0)}</span> 小时`,this.points&&this.points.length>0&&this.points[0].options.t&&(S+=`<br><span style="font-size: 12px; color: #909399;">${this.points[0].options.t}</span>`),S+="</div>",this.points){let z="",C=2;v.value==="voltage"||v.value==="voltage_range"||v.value==="avg_voltage"?(z="mV",C=0):v.value==="pump_pressure"||v.value==="inlet_outlet_pressure"||v.value==="oxygen_hydrogen_outlet_pressure"||v.value==="pressure_difference"?(z="Mpa",C=2):v.value==="specific_gravity"?(z="mg/cm³",C=3):v.value==="oxygen_hydrogen_outlet_temp"?(z="℃",C=1):v.value==="oxygen_hydrogen_cross"?(z="ppm",C=2):v.value==="hydrogen_flow_meter"&&(z="L/min",C=2),this.points.forEach(E=>{S+='<div style="margin: 4px 0; display: flex; align-items: center; justify-content: space-between;">',S+='<span style="display: flex; align-items: center;">',S+=`<span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color: ${E.series.color}; margin-right: 8px;"></span>`,S+=`<span style="font-weight: 500;">${E.series.name}</span>`,S+="</span>",S+=`<span style="font-weight: bold; color: ${E.series.color};">&nbsp;${Number(E.y).toFixed(C)}${z?" "+z:""}</span>`,S+="</div>"})}return S+="</div>",S}},plotOptions:{line:{animation:!1,marker:{enabled:!1},states:{hover:{enabled:!1,lineWidth:4}}}},series:f,credits:{enabled:!1},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{enabled:!1}}}]}})};return zs(async()=>{await ct();const u=localStorage.getItem("cached_machine_name_optimized"),r=localStorage.getItem("cached_machine_model_optimized");if(u&&r){const f=pe.value.some(c=>c.machine_name===u),g=pe.value.some(c=>c.machine_name===u&&c.machine_model===r);f&&g&&(_.value=u,X.value=r,await _t())}}),Ls(()=>{w&&w.destroy()}),(u,r)=>{const f=ce("el-button"),g=ce("el-popover"),c=ce("el-radio-button"),M=ce("el-radio-group"),k=ce("el-option"),Z=ce("el-select"),_e=ce("el-divider"),Re=ce("el-input-number"),B=ce("el-card"),S=ce("el-empty"),z=ce("el-select-v2"),C=ce("el-table-column"),E=ce("el-tooltip"),Q=ce("el-table"),Ke=ce("el-dialog");return N(),Ne(B,null,{default:A(()=>[m("div",Qs,[P(f,{onClick:Ye,type:"primary",plain:"",icon:"ArrowLeft"},{default:A(()=>[...r[9]||(r[9]=[K("返回首页",-1)])]),_:1}),P(g,{placement:"bottom-start",width:400,trigger:"hover"},{reference:A(()=>[P(f,{type:"info",plain:"",icon:"InfoFilled"},{default:A(()=>[...r[10]||(r[10]=[K("说明",-1)])]),_:1})]),default:A(()=>[r[11]||(r[11]=m("div",{style:{"line-height":"1.8"}},[m("h4",{style:{margin:"0 0 12px 0",color:"#409EFF"}},"📊 图表说明"),m("p",{style:{margin:"8px 0"}},[m("strong",null,"📈 简要说明:")]),m("ul",{style:{margin:"4px 0","padding-left":"20px"}},[m("li",null,"可自定义Y轴范围或自动适配"),m("li",null,"自动过滤小室电压小于1680的时间点"),m("li",null,"所有图表的时间点对齐"),m("li",null,"所有数据均为平均值(每小时),向下取整"),m("li",null,"X轴扩充为最大时间的1.2倍"),m("li",null,"修改原始数据目前仅支持修改小室电压")]),m("p",{style:{margin:"8px 0"}},[m("strong",null,"💡 操作提示:")]),m("ul",{style:{margin:"4px 0","padding-left":"20px"}},[m("li",null,"支持X轴缩放,鼠标选中区域就可以放大图表"),m("li",null,"按住Shift+拖拽:平移图表")])],-1))]),_:1})]),P(B,{style:{"margin-bottom":"20px"}},{default:A(()=>[m("div",Js,[j.value?(N(),fe("div",ei,[P(M,{modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=y=>v.value=y),onChange:qe,size:"large"},{default:A(()=>[P(c,{label:"voltage"},{default:A(()=>[...r[12]||(r[12]=[K("小室电压",-1)])]),_:1}),P(c,{label:"avg_voltage"},{default:A(()=>[...r[13]||(r[13]=[K("小室电压平均值",-1)])]),_:1}),P(c,{label:"voltage_range"},{default:A(()=>[...r[14]||(r[14]=[K("小室极差",-1)])]),_:1}),P(c,{label:"pump_pressure"},{default:A(()=>[...r[15]||(r[15]=[K("泵后压力",-1)])]),_:1}),P(c,{label:"specific_gravity"},{default:A(()=>[...r[16]||(r[16]=[K("碱液比重",-1)])]),_:1}),P(c,{label:"hydrogen_flow_meter"},{default:A(()=>[...r[17]||(r[17]=[K("氢气流量",-1)])]),_:1}),P(c,{label:"inlet_outlet_pressure"},{default:A(()=>[...r[18]||(r[18]=[K("电解槽进出槽压力",-1)])]),_:1}),P(c,{label:"pressure_difference"},{default:A(()=>[...r[19]||(r[19]=[K("电解槽进出口压差",-1)])]),_:1}),P(c,{label:"oxygen_hydrogen_outlet_pressure"},{default:A(()=>[...r[20]||(r[20]=[K("电解槽氢氧侧出槽压力",-1)])]),_:1}),P(c,{label:"oxygen_hydrogen_outlet_temp"},{default:A(()=>[...r[21]||(r[21]=[K("电解槽氢氧侧出槽温度",-1)])]),_:1}),P(c,{label:"oxygen_hydrogen_cross"},{default:A(()=>[...r[22]||(r[22]=[K("氧中氢/氢中氧",-1)])]),_:1})]),_:1},8,["modelValue"])])):Me("",!0)]),m("div",ti,[m("div",si,[r[23]||(r[23]=m("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备名称 (Machine Name)",-1)),P(Z,{modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=y=>_.value=y),placeholder:"请选择设备名称",filterable:"",clearable:"",style:{width:"100%"},loading:F.value,onChange:Zt},{default:A(()=>[(N(!0),fe(je,null,He(Yt.value,y=>(N(),Ne(k,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),m("div",ii,[r[25]||(r[25]=m("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"设备型号 (Machine Model)",-1)),m("div",oi,[P(Z,{modelValue:X.value,"onUpdate:modelValue":r[2]||(r[2]=y=>X.value=y),placeholder:"请选择设备型号",filterable:"",clearable:"",style:{flex:"1"},loading:F.value,disabled:!_.value,onChange:Rt},{default:A(()=>[(N(!0),fe(je,null,He(Wt.value,y=>(N(),Ne(k,{key:y,label:y,value:y},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","disabled"]),P(f,{type:"warning",plain:"",disabled:!_.value||!X.value,onClick:tt,style:{"white-space":"nowrap"}},{default:A(()=>[...r[24]||(r[24]=[K(" 修改设备型号 ",-1)])]),_:1},8,["disabled"])])]),j.value?(N(),Ne(_e,{key:0,direction:"vertical",style:{height:"50px",margin:"0 8px"}})):Me("",!0),j.value?(N(),fe("div",ai,[m("div",null,[r[26]||(r[26]=m("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最小值 (Y Min)",-1)),P(Re,{modelValue:de.value,"onUpdate:modelValue":r[3]||(r[3]=y=>de.value=y),step:Ee.value,min:0,placeholder:"0",style:{width:"150px"},onChange:pt,precision:St.value},null,8,["modelValue","step","precision"])]),m("div",null,[r[27]||(r[27]=m("div",{style:{"margin-bottom":"4px","font-size":"14px",color:"#606266"}},"Y轴最大值 (Y Max)",-1)),P(Re,{modelValue:W.value,"onUpdate:modelValue":r[4]||(r[4]=y=>W.value=y),step:Ee.value,min:0,placeholder:"自适应",style:{width:"150px"},onChange:pt,precision:St.value},null,8,["modelValue","step","precision"])]),m("div",ri,[P(f,{onClick:zt,type:"primary"},{default:A(()=>[...r[28]||(r[28]=[K("自动适配",-1)])]),_:1})])])):Me("",!0),P(_e,{direction:"vertical",style:{height:"50px",margin:"0 8px"}}),m("div",li,[P(f,{type:"primary",plain:"",onClick:st,disabled:!j.value},{default:A(()=>[...r[29]||(r[29]=[K(" 修改原始数据 ",-1)])]),_:1},8,["disabled"]),ft.value?(N(),Ne(f,{key:0,type:"success",onClick:Nt},{default:A(()=>[...r[30]||(r[30]=[K(" 刷新页面 ",-1)])]),_:1})):Me("",!0)])])]),_:1}),j.value?(N(),Ne(B,{key:0},{header:A(()=>[m("div",ni,[m("div",di,dt(v.value==="voltage"?"小室电压":v.value==="voltage_range"?"小室极差":v.value==="avg_voltage"?"小室电压平均值":v.value==="pump_pressure"?"泵后压力":v.value==="specific_gravity"?"碱液比重":v.value==="hydrogen_flow_meter"?"氢气流量":v.value==="inlet_outlet_pressure"?"电解槽进出槽压力":v.value==="oxygen_hydrogen_outlet_pressure"?"电解槽氢氧侧出槽压力":v.value==="oxygen_hydrogen_outlet_temp"?"电解槽氢氧侧出槽温度":v.value==="oxygen_hydrogen_cross"?"氧中氢/氢中氧":"电解槽进出口压差"),1),Ut.value?(N(),fe("div",ui,dt(Ut.value),1)):Me("",!0)])]),footer:A(()=>[m("div",hi," 渲染模式: Boost 高性能模式 | 设备: "+dt(qt.value)+" | 数据点: "+dt(Kt.value),1)]),default:A(()=>[Oe.value?(N(),Ne(ys,{key:0})):Me("",!0),Bs(m("div",{ref_key:"chartContainer",ref:xt,style:{width:"100%",height:"600px"}},null,512),[[Vs,!Oe.value]])]),_:1})):Me("",!0),!j.value&&Oe.value?(N(),Ne(B,{key:1},{header:A(()=>[...r[31]||(r[31]=[m("div",{style:{"font-size":"16px","font-weight":"500"}},"加载中...",-1)])]),default:A(()=>[P(ys)]),_:1})):Me("",!0),!j.value&&!Oe.value?(N(),Ne(S,{key:2,description:"请选择设备名称和型号","image-size":200})):Me("",!0),P(Ke,{modelValue:De.value,"onUpdate:modelValue":r[8]||(r[8]=y=>De.value=y),title:"修改原始数据",width:Ae.value===1?"30%":"80%","close-on-click-modal":!1},{default:A(()=>[Ae.value===1?(N(),fe("div",fi,[r[35]||(r[35]=m("h3",{style:{"margin-bottom":"16px"}},"步骤 1: 选择时间点",-1)),m("div",ci,[r[32]||(r[32]=m("div",{style:{"margin-bottom":"8px","font-weight":"500"}},"选择时间点：",-1)),P(z,{modelValue:Ge.value,"onUpdate:modelValue":r[5]||(r[5]=y=>Ge.value=y),placeholder:"请选择时间点（支持搜索）",filterable:"",remote:"","remote-method":it,options:Se.value,style:{width:"100%"},onChange:Jt,onVisibleChange:Qt},{footer:A(()=>[Se.value.length<ze.value.length&&ut.value===""?(N(),fe("div",{key:0,onClick:Lt,class:"load-more-trigger"}," 点击加载更多 (已加载 "+dt(Se.value.length)+" / "+dt(ze.value.length)+") ",1)):Me("",!0)]),_:1},8,["modelValue","options"])]),m("div",pi,[P(f,{onClick:r[6]||(r[6]=y=>De.value=!1)},{default:A(()=>[...r[33]||(r[33]=[K("取消",-1)])]),_:1}),P(f,{type:"primary",onClick:Vt,disabled:Ge.value===null,loading:ht.value},{default:A(()=>[...r[34]||(r[34]=[K(" 下一步 ",-1)])]),_:1},8,["disabled","loading"])])])):Me("",!0),Ae.value===2?(N(),fe("div",gi,[r[38]||(r[38]=m("h3",{style:{"margin-bottom":"16px"}},"步骤 2: 编辑数据",-1)),P(Q,{data:et.value,border:"",stripe:"",style:{width:"100%"},"max-height":"500"},{default:A(()=>[P(C,{prop:"cell",label:"Cell",width:"100",fixed:""}),(N(!0),fe(je,null,He(We.value,(y,re)=>(N(),Ne(C,{key:y,width:"180px","class-name":O.value.has(re)?"deleted-column":""},{header:A(()=>[m("div",mi,[m("span",{style:kt(O.value.has(re)?"text-decoration: line-through; color: #999;":"")}," ID: "+dt(y),5),m("div",vi,[P(E,{content:"一键修改该列所有值",placement:"top"},{default:A(()=>[P(f,{type:"primary",icon:"Edit",size:"small",circle:"",onClick:Ce=>Bt(re),disabled:O.value.has(re)},null,8,["onClick","disabled"])]),_:2},1024),P(E,{content:O.value.has(re)?"恢复该列":"删除该列",placement:"top"},{default:A(()=>[P(f,{type:O.value.has(re)?"success":"danger",icon:O.value.has(re)?"RefreshLeft":"Delete",size:"small",circle:"",onClick:Ce=>es(re)},null,8,["type","icon","onClick"])]),_:2},1032,["content"])])])]),default:A(Ce=>[P(Re,{modelValue:Ce.row.values[re],"onUpdate:modelValue":gt=>Ce.row.values[re]=gt,precision:0,step:10,style:{width:"100%"},disabled:O.value.has(re),class:Is(O.value.has(re)?"deleted-input":"")},null,8,["modelValue","onUpdate:modelValue","disabled","class"])]),_:2},1032,["class-name"]))),128))]),_:1},8,["data"]),m("div",bi,[P(f,{onClick:r[7]||(r[7]=y=>Ae.value=1)},{default:A(()=>[...r[36]||(r[36]=[K("返回",-1)])]),_:1}),P(f,{type:"primary",onClick:It,loading:yt.value},{default:A(()=>[...r[37]||(r[37]=[K("确认更新",-1)])]),_:1},8,["loading"])])])):Me("",!0)]),_:1},8,["modelValue","width"])]),_:1})}}}),wi=_s(xi,[["__scopeId","data-v-f5ad625c"]]);export{wi as default};
